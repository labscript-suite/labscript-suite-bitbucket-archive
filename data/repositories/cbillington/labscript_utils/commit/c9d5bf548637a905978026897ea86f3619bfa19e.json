{"rendered": {"message": {"raw": "Rename `labscript_suite_install_dir` to `labscript_suite_profile` (keeping the\nold name as an alias for backward compatibility), since in the\nupcoming restructuring, this will not be where the applications and libraries\nare installed to, it will instead be the user's code, config and save data, and\napp launchers, which we're calling a 'profile'.\n\nModify winshell functions to use the import path of each app instead of assuming\ntheir locations within the profile directory (since they will not longer be\nthere in future).\n\nModify `versions._get_import_path()` to detect whether a package within the\n`labscript_suite_profile` directory is a restructured repository with a\n`setup.py`. If it is, then return the repository as the import\npath, rather than the `labscript_suite_profile` directory.\n\nThis combined with 'shim' `__init__.py` and `__main__.py` files in restructured\npackages to redirect imports and running `__main__.py` to the package one\ndirectory down will allow these repositories to continue functioning as\npreviously even after they are restructured.\n\nMinor version bump so that restructured packages can depend on the changed\nfunctionality.", "markup": "markdown", "html": "<p>Rename <code>labscript_suite_install_dir</code> to <code>labscript_suite_profile</code> (keeping the<br />\nold name as an alias for backward compatibility), since in the<br />\nupcoming restructuring, this will not be where the applications and libraries<br />\nare installed to, it will instead be the user's code, config and save data, and<br />\napp launchers, which we're calling a 'profile'.</p>\n<p>Modify winshell functions to use the import path of each app instead of assuming<br />\ntheir locations within the profile directory (since they will not longer be<br />\nthere in future).</p>\n<p>Modify <code>versions._get_import_path()</code> to detect whether a package within the<br />\n<code>labscript_suite_profile</code> directory is a restructured repository with a<br />\n<code>setup.py</code>. If it is, then return the repository as the import<br />\npath, rather than the <code>labscript_suite_profile</code> directory.</p>\n<p>This combined with 'shim' <code>__init__.py</code> and <code>__main__.py</code> files in restructured<br />\npackages to redirect imports and running <code>__main__.py</code> to the package one<br />\ndirectory down will allow these repositories to continue functioning as<br />\npreviously even after they are restructured.</p>\n<p>Minor version bump so that restructured packages can depend on the changed<br />\nfunctionality.</p>", "type": "rendered"}}, "hash": "c9d5bf548637a905978026897ea86f3619bfa19e", "repository": {"links": {"self": {"href": "data/repositories/cbillington/labscript_utils.json"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "links": {"self": {"href": "data/repositories/cbillington/labscript_utils/commit/c9d5bf548637a905978026897ea86f3619bfa19e.json"}, "comments": {"href": "data/repositories/cbillington/labscript_utils/commit/c9d5bf548637a905978026897ea86f3619bfa19e/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/patch/c9d5bf548637a905978026897ea86f3619bfa19e"}, "html": {"href": "#!/cbillington/labscript_utils/commits/c9d5bf548637a905978026897ea86f3619bfa19e"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/diff/c9d5bf548637a905978026897ea86f3619bfa19e"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/c9d5bf548637a905978026897ea86f3619bfa19e/approve"}, "statuses": {"href": "data/repositories/cbillington/labscript_utils/commit/c9d5bf548637a905978026897ea86f3619bfa19e/statuses_page=1.json"}}, "author": {"raw": "chrisjbillington", "type": "author"}, "summary": {"raw": "Rename `labscript_suite_install_dir` to `labscript_suite_profile` (keeping the\nold name as an alias for backward compatibility), since in the\nupcoming restructuring, this will not be where the applications and libraries\nare installed to, it will instead be the user's code, config and save data, and\napp launchers, which we're calling a 'profile'.\n\nModify winshell functions to use the import path of each app instead of assuming\ntheir locations within the profile directory (since they will not longer be\nthere in future).\n\nModify `versions._get_import_path()` to detect whether a package within the\n`labscript_suite_profile` directory is a restructured repository with a\n`setup.py`. If it is, then return the repository as the import\npath, rather than the `labscript_suite_profile` directory.\n\nThis combined with 'shim' `__init__.py` and `__main__.py` files in restructured\npackages to redirect imports and running `__main__.py` to the package one\ndirectory down will allow these repositories to continue functioning as\npreviously even after they are restructured.\n\nMinor version bump so that restructured packages can depend on the changed\nfunctionality.", "markup": "markdown", "html": "<p>Rename <code>labscript_suite_install_dir</code> to <code>labscript_suite_profile</code> (keeping the<br />\nold name as an alias for backward compatibility), since in the<br />\nupcoming restructuring, this will not be where the applications and libraries<br />\nare installed to, it will instead be the user's code, config and save data, and<br />\napp launchers, which we're calling a 'profile'.</p>\n<p>Modify winshell functions to use the import path of each app instead of assuming<br />\ntheir locations within the profile directory (since they will not longer be<br />\nthere in future).</p>\n<p>Modify <code>versions._get_import_path()</code> to detect whether a package within the<br />\n<code>labscript_suite_profile</code> directory is a restructured repository with a<br />\n<code>setup.py</code>. If it is, then return the repository as the import<br />\npath, rather than the <code>labscript_suite_profile</code> directory.</p>\n<p>This combined with 'shim' <code>__init__.py</code> and <code>__main__.py</code> files in restructured<br />\npackages to redirect imports and running <code>__main__.py</code> to the package one<br />\ndirectory down will allow these repositories to continue functioning as<br />\npreviously even after they are restructured.</p>\n<p>Minor version bump so that restructured packages can depend on the changed<br />\nfunctionality.</p>", "type": "rendered"}, "participants": [], "parents": [{"hash": "5d95a20678c4e161bca8d2b7af278ec0bab46027", "type": "commit", "links": {"self": {"href": "data/repositories/cbillington/labscript_utils/commit/5d95a20678c4e161bca8d2b7af278ec0bab46027.json"}, "html": {"href": "#!/cbillington/labscript_utils/commits/5d95a20678c4e161bca8d2b7af278ec0bab46027"}}}], "date": "2019-11-30T00:16:42+00:00", "message": "Rename `labscript_suite_install_dir` to `labscript_suite_profile` (keeping the\nold name as an alias for backward compatibility), since in the\nupcoming restructuring, this will not be where the applications and libraries\nare installed to, it will instead be the user's code, config and save data, and\napp launchers, which we're calling a 'profile'.\n\nModify winshell functions to use the import path of each app instead of assuming\ntheir locations within the profile directory (since they will not longer be\nthere in future).\n\nModify `versions._get_import_path()` to detect whether a package within the\n`labscript_suite_profile` directory is a restructured repository with a\n`setup.py`. If it is, then return the repository as the import\npath, rather than the `labscript_suite_profile` directory.\n\nThis combined with 'shim' `__init__.py` and `__main__.py` files in restructured\npackages to redirect imports and running `__main__.py` to the package one\ndirectory down will allow these repositories to continue functioning as\npreviously even after they are restructured.\n\nMinor version bump so that restructured packages can depend on the changed\nfunctionality.", "type": "commit", "git_hash": "7e3cc99604cc90999462b0a50a0857975d39330d", "tags": null, "branches": "restructuring-preparations"}