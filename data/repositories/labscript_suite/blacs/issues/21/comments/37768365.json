{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/21/comments/37768365.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/21#comment-37768365"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "inverted Digital outputs"}, "content": {"raw": "Ian: On the labscript side, the inverted digital output can already be achieved with the `Shutter` class via the [`open_state`](#!/labscript_suite/labscript/src/4ba0ef7c8d367ea3d4be0ee29bde9c232dcfa35b/labscript.py?at=default&fileviewer=file-view-default#labscript.py-1522) kwarg. So I believe the query was regarding the BLACS UI. I realise that doesn't solve the issues raised in [labscript issue 37](#!/labscript_suite/labscript/issues/37/eliminate-go_high-go_low-syntax) that you refer to, but at least it does provide some form of abstraction for the inversion. I've though for a while that most of the functionality in `Shutter` (like delays) should be moved into the `DigitalQuantity` class anyway.\n\nFor pulse trains, this is currently possible using the [`do.repeat_pulse_sequence(...)`](#!/labscript_suite/labscript/src/4ba0ef7c8d367ea3d4be0ee29bde9c232dcfa35b/labscript.py?at=default&fileviewer=file-view-default#labscript.py-1423) method, although there are several caveats due to the necessity of handling clock quantisation and the possibility of intersecting instructions/ramps on other channels. I believe @cbillington's plan is to handle this better in labscript v3.0 (or at least the planned changes for v3.0 will make this easier to do better).\n\nEDIT: Looks like @cbillington wrote a response while I wrote mine. So mine does not address anything he's written!\n\nEDIT 2: I think Ian updated his response while I was writing mine as well, so my above response possibly makes even less sense now.", "markup": "markdown", "html": "<p>Ian: On the labscript side, the inverted digital output can already be achieved with the <code>Shutter</code> class via the <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript/src/4ba0ef7c8d367ea3d4be0ee29bde9c232dcfa35b/labscript.py?at=default&amp;fileviewer=file-view-default#labscript.py-1522\" rel=\"nofollow\"><code>open_state</code></a> kwarg. So I believe the query was regarding the BLACS UI. I realise that doesn't solve the issues raised in <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript/issues/37/eliminate-go_high-go_low-syntax\" rel=\"nofollow\">labscript issue 37</a> that you refer to, but at least it does provide some form of abstraction for the inversion. I've though for a while that most of the functionality in <code>Shutter</code> (like delays) should be moved into the <code>DigitalQuantity</code> class anyway.</p>\n<p>For pulse trains, this is currently possible using the <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript/src/4ba0ef7c8d367ea3d4be0ee29bde9c232dcfa35b/labscript.py?at=default&amp;fileviewer=file-view-default#labscript.py-1423\" rel=\"nofollow\"><code>do.repeat_pulse_sequence(...)</code></a> method, although there are several caveats due to the necessity of handling clock quantisation and the possibility of intersecting instructions/ramps on other channels. I believe @cbillington's plan is to handle this better in labscript v3.0 (or at least the planned changes for v3.0 will make this easier to do better).</p>\n<p>EDIT: Looks like @cbillington wrote a response while I wrote mine. So mine does not address anything he's written!</p>\n<p>EDIT 2: I think Ian updated his response while I was writing mine as well, so my above response possibly makes even less sense now.</p>", "type": "rendered"}, "created_on": "2017-06-22T10:44:46.504510+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-06-22T10:46:23.581220+00:00", "type": "issue_comment", "id": 37768365}