{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/23/comments/39331950.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/23#comment-39331950"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/23.json"}}, "type": "issue", "id": 23, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Analoge Inputs"}, "content": {"raw": "I think the idea may have been to have one broker per device, that lived in the subprocess actually acquiring the data, but i'm not sure if that is correct or feasible if you need to assign each one a port....\n\nOk, ZMQ docs indicate that the PUB/SUB model has the PUB socket created where the data is. So it definitely needs to be in the worker process. So we'd need some way of creating ports. Possibly BLACS GUI tabs should request a port number from something centrally in BLACS and then pass this on to the worker process? BLACS could publish a list of device name/ports on which data is being published so that it can be accessed outside of that device tab. Not sure if this is a good plan though, it seems a bit messy. I sort of assumed Chris Billington had this figured out mostly already, but unfortunately he's not available to discuss again for a while.\n\nThere is also the risk that a slow subscriber slows down the consumption of data in the PUB/SUB model, which could affect the performance of the worker process.", "markup": "markdown", "html": "<p>I think the idea may have been to have one broker per device, that lived in the subprocess actually acquiring the data, but i'm not sure if that is correct or feasible if you need to assign each one a port....</p>\n<p>Ok, ZMQ docs indicate that the PUB/SUB model has the PUB socket created where the data is. So it definitely needs to be in the worker process. So we'd need some way of creating ports. Possibly BLACS GUI tabs should request a port number from something centrally in BLACS and then pass this on to the worker process? BLACS could publish a list of device name/ports on which data is being published so that it can be accessed outside of that device tab. Not sure if this is a good plan though, it seems a bit messy. I sort of assumed Chris Billington had this figured out mostly already, but unfortunately he's not available to discuss again for a while.</p>\n<p>There is also the risk that a slow subscriber slows down the consumption of data in the PUB/SUB model, which could affect the performance of the worker process.</p>", "type": "rendered"}, "created_on": "2017-08-24T23:05:12.279344+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 39331950}