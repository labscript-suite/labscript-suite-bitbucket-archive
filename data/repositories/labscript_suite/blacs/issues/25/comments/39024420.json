{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024420.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024420"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "Well the correct way to launch BLACS should really be `python -m blacs`, however that results in a different error for me (relating to importing device classes from labscript_devices)\n\nLooking into this a bit more, I feel like something is kind of wrong with python. What version of Python are you running? I can replicate the behaviour with 2.7.13. It seems to me that `os.path.realpath` doesn't work properly. It seems to just append the contents of `__file__` to the directory that `__file__` is in, but `__file__` also contains some of the directories as well if the current working directory is not the location of `__file__`. The same thing seems to happen with `abspath` too.....\n\nSo it could be fixed by combining the value of __file__ with the `cwd` but that seems very hacky. I feel like I've misunderstood how Python paths work, or something has changed in Python. There are a lot of places where we use code exactly like this, so we'll have to fix all of them I think which is annoying!", "markup": "markdown", "html": "<p>Well the correct way to launch BLACS should really be <code>python -m blacs</code>, however that results in a different error for me (relating to importing device classes from labscript_devices)</p>\n<p>Looking into this a bit more, I feel like something is kind of wrong with python. What version of Python are you running? I can replicate the behaviour with 2.7.13. It seems to me that <code>os.path.realpath</code> doesn't work properly. It seems to just append the contents of <code>__file__</code> to the directory that <code>__file__</code> is in, but <code>__file__</code> also contains some of the directories as well if the current working directory is not the location of <code>__file__</code>. The same thing seems to happen with <code>abspath</code> too.....</p>\n<p>So it could be fixed by combining the value of <strong>file</strong> with the <code>cwd</code> but that seems very hacky. I feel like I've misunderstood how Python paths work, or something has changed in Python. There are a lot of places where we use code exactly like this, so we'll have to fix all of them I think which is annoying!</p>", "type": "rendered"}, "created_on": "2017-08-10T23:22:39.804355+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 39024420}