{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024420.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024420"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "Well the correct way to launch BLACS should really be `python -m blacs`, however that results in a different error for me (relating to importing device classes from labscript_devices)\n\nLooking into this a bit more, I feel like something is kind of wrong with python. What version of Python are you running? I can replicate the behaviour with 2.7.13. It seems to me that `os.path.realpath` doesn't work properly. It seems to just append the contents of `__file__` to the directory that `__file__` is in, but `__file__` also contains some of the directories as well if the current working directory is not the location of `__file__`. The same thing seems to happen with `abspath` too.....\n\nSo it could be fixed by combining the value of __file__ with the `cwd` but that seems very hacky. I feel like I've misunderstood how Python paths work, or something has changed in Python. There are a lot of places where we use code exactly like this, so we'll have to fix all of them I think which is annoying!", "markup": "markdown", "html": "<p>Well the correct way to launch BLACS should really be <code>python -m blacs</code>, however that results in a different error for me (relating to importing device classes from labscript_devices)</p>\n<p>Looking into this a bit more, I feel like something is kind of wrong with python. What version of Python are you running? I can replicate the behaviour with 2.7.13. It seems to me that <code>os.path.realpath</code> doesn't work properly. It seems to just append the contents of <code>__file__</code> to the directory that <code>__file__</code> is in, but <code>__file__</code> also contains some of the directories as well if the current working directory is not the location of <code>__file__</code>. The same thing seems to happen with <code>abspath</code> too.....</p>\n<p>So it could be fixed by combining the value of <strong>file</strong> with the <code>cwd</code> but that seems very hacky. I feel like I've misunderstood how Python paths work, or something has changed in Python. There are a lot of places where we use code exactly like this, so we'll have to fix all of them I think which is annoying!</p>", "type": "rendered"}, "created_on": "2017-08-10T23:22:39.804355+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 39024420}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024424.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024424"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "This only happens when you run it from that directory - if you run it from elsewhere with 'python -m blacs' then this problem doesn't occur. Nonetheless I didn't realise that was a problem, and I should fix it. It indicates I was doing something wrong anyway...and this explains why sometimes log files appear in lyse/lyse/lyse.log ...\n\nBLACS does do a `os.chdir(os.path.abspath(os.path.dirname(__file__)))` at the top of its `__main__` file, so `'analysis_submission.ui'` should be fine.\n\nBy a surprising coincidence, when I tested running BLACS with `python -m blacs` from a different directory, I got an error with zprocess trying to start child processes:\n\n`/usr/bin/python: can't open file '/home/bilbo/labscript_suite/blacs/zprocess/process_class_wrapper.py': [Errno 2] No such file or directory`\n\nThis appears to be the exact same issue - I was in '/usr/local/lib/python2.7/dist-packages' having just purged qtutils from there, and zprocess lives in that directory too.\n\nI've seen error messages before where I've installed a package from source, immediately opened a python interpreter in that directory and tested if I could import it, and had everything horribly fail. One project was kind enough to check that I was still in the source directory and raised an error saying \"this won't work in this directory - please go somewhere else\"\n\nAnd if I `print(__file__)` in `analysis_submission.py` when launched from the labscript install directory, I get `'/home/bilbo/labscript_suite/blacs/blacs/analysis_submission.pyc'`, which is less than helpful.\n\nAnd with your fix, if I run \"python -m blacs\" from the labscript suite directory, I get import errors about labscript devices.\n\nI'll look into it, but the problem stems from all the `__file__` attributes being relative paths (which are [not affected by `os.chdir()`](https://bugs.python.org/issue24670)) and are therefore wrong after an `os.chdir()`) if you are in the labscript suite directory, whereas if you are elsewhere they are absolute paths. So we have to either not use `__file__` and rely on being in the right directory already, or we have to use `__file__`, but not do an os.chdir(). Not doing os.chdir() ever is not really an option I think - lots of things expect to be able to do it, if only temporarily.\n\nSo I'll look into it but I think what we probably want is to have something that always gets imported, like labscript_utils, check if the `__main__` module's `__file__` attribute is a relative path rather than an absoluite one, and throw an error saying \"sorry, don't do that from the labscript suite directory\".", "markup": "markdown", "html": "<p>This only happens when you run it from that directory - if you run it from elsewhere with 'python -m blacs' then this problem doesn't occur. Nonetheless I didn't realise that was a problem, and I should fix it. It indicates I was doing something wrong anyway...and this explains why sometimes log files appear in <a href=\"https://bitbucket.org/lyse/lyse\" rel=\"nofollow\" class=\"ap-connect-link\">lyse/lyse</a>/lyse.log ...</p>\n<p>BLACS does do a <code>os.chdir(os.path.abspath(os.path.dirname(__file__)))</code> at the top of its <code>__main__</code> file, so <code>'analysis_submission.ui'</code> should be fine.</p>\n<p>By a surprising coincidence, when I tested running BLACS with <code>python -m blacs</code> from a different directory, I got an error with zprocess trying to start child processes:</p>\n<p><code>/usr/bin/python: can't open file '/home/bilbo/labscript_suite/blacs/zprocess/process_class_wrapper.py': [Errno 2] No such file or directory</code></p>\n<p>This appears to be the exact same issue - I was in '/usr/local/lib/python2.7/dist-packages' having just purged qtutils from there, and zprocess lives in that directory too.</p>\n<p>I've seen error messages before where I've installed a package from source, immediately opened a python interpreter in that directory and tested if I could import it, and had everything horribly fail. One project was kind enough to check that I was still in the source directory and raised an error saying \"this won't work in this directory - please go somewhere else\"</p>\n<p>And if I <code>print(__file__)</code> in <code>analysis_submission.py</code> when launched from the labscript install directory, I get <code>'/home/bilbo/labscript_suite/blacs/blacs/analysis_submission.pyc'</code>, which is less than helpful.</p>\n<p>And with your fix, if I run \"python -m blacs\" from the labscript suite directory, I get import errors about labscript devices.</p>\n<p>I'll look into it, but the problem stems from all the <code>__file__</code> attributes being relative paths (which are <a data-is-external-link=\"true\" href=\"https://bugs.python.org/issue24670\" rel=\"nofollow\">not affected by <code>os.chdir()</code></a>) and are therefore wrong after an <code>os.chdir()</code>) if you are in the labscript suite directory, whereas if you are elsewhere they are absolute paths. So we have to either not use <code>__file__</code> and rely on being in the right directory already, or we have to use <code>__file__</code>, but not do an os.chdir(). Not doing os.chdir() ever is not really an option I think - lots of things expect to be able to do it, if only temporarily.</p>\n<p>So I'll look into it but I think what we probably want is to have something that always gets imported, like labscript_utils, check if the <code>__main__</code> module's <code>__file__</code> attribute is a relative path rather than an absoluite one, and throw an error saying \"sorry, don't do that from the labscript suite directory\".</p>", "type": "rendered"}, "created_on": "2017-08-10T23:23:32.958597+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-10T23:25:48.213434+00:00", "type": "issue_comment", "id": 39024424}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024452.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024452"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "I'm on 2.7.13.\n```\nJWrkPC:~ janwerkmann$ python -V\nPython 2.7.13 :: Continuum Analytics, Inc.\n```", "markup": "markdown", "html": "<p>I'm on 2.7.13.</p>\n<div class=\"codehilite\"><pre><span></span>JWrkPC:~ janwerkmann$ python -V\nPython 2.7.13 :: Continuum Analytics, Inc.\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-10T23:27:16.905052+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": null, "type": "issue_comment", "id": 39024452}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024507.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024507"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "Thanks for looking into it. Didn't think it was much of a problem until now nor did I know I was starting all my labscript apps 'wrong'. Btw what does work is doing  ```python __main__.py``` and ```python FULLPATH/blacs/__main__.py``` where as ```python blacs/__main__.py``` doesn't work. Why exactly shouldn't I run things directly from the directory?", "markup": "markdown", "html": "<p>Thanks for looking into it. Didn't think it was much of a problem until now nor did I know I was starting all my labscript apps 'wrong'. Btw what does work is doing  <code>python __main__.py</code> and <code>python FULLPATH/blacs/__main__.py</code> where as <code>python blacs/__main__.py</code> doesn't work. Why exactly shouldn't I run things directly from the directory?</p>", "type": "rendered"}, "created_on": "2017-08-10T23:33:19.992972+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-10T23:40:48.305382+00:00", "type": "issue_comment", "id": 39024507}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024534.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024534"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "Really? `python __main__.py`, if I start in the blacs directory, does work for me - though `python  blacs/__main__.py` from the folder above does not.", "markup": "markdown", "html": "<p>Really? <code>python __main__.py</code>, if I start in the blacs directory, does work for me - though <code>python  blacs/__main__.py</code> from the folder above does not.</p>", "type": "rendered"}, "created_on": "2017-08-10T23:36:49.355053+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 39024534}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024545.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024545"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "@cbillington FYI, if it wasn't obvious from my above post, launching like that from any higher up directory doesn't work either (you get the relative path of `__file__` appended to absolute path of the BLACS folder)", "markup": "markdown", "html": "<p>@cbillington FYI, if it wasn't obvious from my above post, launching like that from any higher up directory doesn't work either (you get the relative path of <code>__file__</code> appended to absolute path of the BLACS folder)</p>", "type": "rendered"}, "created_on": "2017-08-10T23:39:12.775506+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 39024545}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024549.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024549"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "My bad I accidentally got the two commands mixed up.", "markup": "markdown", "html": "<p>My bad I accidentally got the two commands mixed up.</p>", "type": "rendered"}, "created_on": "2017-08-10T23:39:38.881636+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-10T23:41:05.798160+00:00", "type": "issue_comment", "id": 39024549}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39024604.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39024604"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "@pstarkey  if I understand correctly, launching without the '-m' flag will fail from any higher directory. Launching *with* the '-m' flag will fail only if you are in a directory that contains some of the Python modules you are importing. Launching with the '-m' flag from one or more directories higher is fine. For example I usually run \"python -m blacs\" from my home directory, even though labscript_suite is in my home directory as well.\n\nThis is because Python adds the current directory to the module search path, so if it finds any modules in the current directory, their `__file__` attributes will be relative paths, which become wrong as soon as a chdir() is run.", "markup": "markdown", "html": "<p>@pstarkey  if I understand correctly, launching without the '-m' flag will fail from any higher directory. Launching <em>with</em> the '-m' flag will fail only if you are in a directory that contains some of the Python modules you are importing. Launching with the '-m' flag from one or more directories higher is fine. For example I usually run \"python -m blacs\" from my home directory, even though labscript_suite is in my home directory as well.</p>\n<p>This is because Python adds the current directory to the module search path, so if it finds any modules in the current directory, their <code>__file__</code> attributes will be relative paths, which become wrong as soon as a chdir() is run.</p>", "type": "rendered"}, "created_on": "2017-08-10T23:45:41.853787+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-10T23:46:12.358072+00:00", "type": "issue_comment", "id": 39024604}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39025673.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39025673"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "Python eventually considered this a bug and it was [fixed in python 3.4](https://docs.python.org/3.4/whatsnew/3.4.html#other-language-changes). `__file__` is always absolute in python \u2265 3.4 with the sole exception of a main module executed with a relative path.\n\nI suspect any workaround for Python 2.7 is probably more trouble than it's worth, so until 2020 we can just say that `python -m blacs` from a directory not containing Python modules or `python __main__.py` in the BLACS directory are the only supported ways to start BLACS (same goes for the other programs). The launchers on Windows do the latter. We should make launchers for the other platforms too - it's not hard on linux, I don't know why I haven't already done it already.", "markup": "markdown", "html": "<p>Python eventually considered this a bug and it was <a data-is-external-link=\"true\" href=\"https://docs.python.org/3.4/whatsnew/3.4.html#other-language-changes\" rel=\"nofollow\">fixed in python 3.4</a>. <code>__file__</code> is always absolute in python \u2265 3.4 with the sole exception of a main module executed with a relative path.</p>\n<p>I suspect any workaround for Python 2.7 is probably more trouble than it's worth, so until 2020 we can just say that <code>python -m blacs</code> from a directory not containing Python modules or <code>python __main__.py</code> in the BLACS directory are the only supported ways to start BLACS (same goes for the other programs). The launchers on Windows do the latter. We should make launchers for the other platforms too - it's not hard on linux, I don't know why I haven't already done it already.</p>", "type": "rendered"}, "created_on": "2017-08-11T02:13:24.780500+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 39025673}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39027675.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39027675"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": "You are probably right. I'll try making a launcher for macOS once I figure out how that works.", "markup": "markdown", "html": "<p>You are probably right. I'll try making a launcher for macOS once I figure out how that works.</p>", "type": "rendered"}, "created_on": "2017-08-11T06:16:04.088146+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": null, "type": "issue_comment", "id": 39027675}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25/comments/39039882.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/25#comment-39039882"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/25.json"}}, "type": "issue", "id": 25, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "Error when starting BLACS from console"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2017-08-11T15:14:24.020021+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 39039882}], "page": 1, "size": 11}