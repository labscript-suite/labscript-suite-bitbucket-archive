{"priority": "major", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/blacs/issues/31/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/blacs/issues/31.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/31/watch"}, "comments": {"href": "data/repositories/labscript_suite/blacs/issues/31/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/31/graceful-worker-process-exit-on-restart"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/31/vote"}}, "reporter": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "title": "Graceful Worker Process exit on restart", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Currently if one restarts a Tab the worker process is immediately terminated. This can leave things in a bad state. In particular I've been having problems with locks not being released. It would be nice if there was a attempt to call the ```shutdown()``` function of the workers before terminating them.\r\n\r\nI already tried to implement this on a per worker basis with python's signal library, but under windows there is no ```signal.SIGTERM``` so that didn't work.", "markup": "markdown", "html": "<p>Currently if one restarts a Tab the worker process is immediately terminated. This can leave things in a bad state. In particular I've been having problems with locks not being released. It would be nice if there was a attempt to call the <code>shutdown()</code> function of the workers before terminating them.</p>\n<p>I already tried to implement this on a per worker basis with python's signal library, but under windows there is no <code>signal.SIGTERM</code> so that didn't work.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2017-11-17T08:18:21.685914+00:00", "milestone": null, "updated_on": "2017-11-18T10:17:11.313016+00:00", "type": "issue", "id": 31}