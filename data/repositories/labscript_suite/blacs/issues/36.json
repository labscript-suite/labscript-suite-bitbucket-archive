{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/blacs/issues/36/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/blacs/issues/36.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/36/watch"}, "comments": {"href": "data/repositories/labscript_suite/blacs/issues/36/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/36/front-panel-settings-not-loaded-correctly"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/36/vote"}}, "reporter": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, "title": "front panel settings not loaded correctly if blacs is not run as a module", "component": null, "votes": 0, "watches": 1, "content": {"raw": "After the recent changes to blacs I now have this issue if I start blacs with\r\n\r\n```\r\n#!python\r\n\r\npython -m blacs\r\n```\r\neverything works fine. If I start it with\r\n\r\n```\r\n#!python\r\n\r\npython __main__.py\r\n```\r\nfront panel settings with a name property are set to their default settings regardless of the value in the labconfig BLACS.h5 file. It is the same behavior when using the load front-panel dialog for any front panel settings file. I know this because only the first three of my PB digital output channels are having their names saved to the front panel settings file and only those channels are effected on that device. All of my other devices show defaulting behavior.\r\n\r\nAlso, if I try to write over an identical file settings file with the latter instantiation I get an error stating the selected file's connection table is not a subset of the BLACS connection table.\r\n\r\nI can upload files and screenshots later if that description doesn't make sense but right now the lab's internet connection is on the fritz.", "markup": "markdown", "html": "<p>After the recent changes to blacs I now have this issue if I start blacs with</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">python</span> <span class=\"o\">-</span><span class=\"n\">m</span> <span class=\"n\">blacs</span>\n</pre></div>\n\n\n<p>everything works fine. If I start it with</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">python</span> <span class=\"n\">__main__</span><span class=\"o\">.</span><span class=\"n\">py</span>\n</pre></div>\n\n\n<p>front panel settings with a name property are set to their default settings regardless of the value in the labconfig BLACS.h5 file. It is the same behavior when using the load front-panel dialog for any front panel settings file. I know this because only the first three of my PB digital output channels are having their names saved to the front panel settings file and only those channels are effected on that device. All of my other devices show defaulting behavior.</p>\n<p>Also, if I try to write over an identical file settings file with the latter instantiation I get an error stating the selected file's connection table is not a subset of the BLACS connection table.</p>\n<p>I can upload files and screenshots later if that description doesn't make sense but right now the lab's internet connection is on the fritz.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-03-08T21:54:14.252402+00:00", "milestone": null, "updated_on": "2018-03-09T23:27:26.041694+00:00", "type": "issue", "id": 36}