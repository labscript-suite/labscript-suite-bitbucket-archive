{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/36/comments/43812820.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/36#comment-43812820"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/36.json"}}, "type": "issue", "id": 36, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "front panel settings not loaded correctly if blacs is not run as a module"}, "content": {"raw": "Is it possible that this doesn't actually have anything to do with the particular way in which BLACS was launched, but that it needed to be launched twice? The problem with trying to reproduce this is that when you launch and then close BLACS, the entire h5 file is rewritten so unless you backup the h5 file storing the BLACS settings, and then restore it before launching the other way, you don't necessarily reproduce the behaviour of the original launch. I'm wondering if the first load fails due to a change, but the second (and thereafter) loads succeed because the h5 file was written by the new code when BLACS was closed after the first launch.\n\nDavid/Jan, can you confirm it is consistently failing when launching with a particular command and not just showing different behaviour on the second launch to the first (independent of the which one you choose to run first)? Also, could you print out the value of `settings_path` on [this line](#!/labscript_suite/blacs/src/66a107e63fc012badd8b7049b5f26a145eac2d78/__main__.py?at=default&fileviewer=file-view-default#__main__.py-660).\n\nI'll see if I can reproduce it at all tomorrow, but so far I haven't been able to create an incorrect path to the h5 file regardless of how I start BLACS (even before the recent change by Chris). Not sure whether that means the issue path related but for some reason I'm not seeing the same bug, or if it isn't path related and is due to connection table parsing (as outlined in #37)", "markup": "markdown", "html": "<p>Is it possible that this doesn't actually have anything to do with the particular way in which BLACS was launched, but that it needed to be launched twice? The problem with trying to reproduce this is that when you launch and then close BLACS, the entire h5 file is rewritten so unless you backup the h5 file storing the BLACS settings, and then restore it before launching the other way, you don't necessarily reproduce the behaviour of the original launch. I'm wondering if the first load fails due to a change, but the second (and thereafter) loads succeed because the h5 file was written by the new code when BLACS was closed after the first launch.</p>\n<p>David/Jan, can you confirm it is consistently failing when launching with a particular command and not just showing different behaviour on the second launch to the first (independent of the which one you choose to run first)? Also, could you print out the value of <code>settings_path</code> on <a data-is-external-link=\"true\" href=\"#!/labscript_suite/blacs/src/66a107e63fc012badd8b7049b5f26a145eac2d78/__main__.py?at=default&amp;fileviewer=file-view-default#__main__.py-660\" rel=\"nofollow\">this line</a>.</p>\n<p>I'll see if I can reproduce it at all tomorrow, but so far I haven't been able to create an incorrect path to the h5 file regardless of how I start BLACS (even before the recent change by Chris). Not sure whether that means the issue path related but for some reason I'm not seeing the same bug, or if it isn't path related and is due to connection table parsing (as outlined in <a href=\"#!/labscript_suite/blacs/issues/37/changing-unitconversion-parameters-sets\" rel=\"nofollow\" title=\"Changing unitconversion parameters sets all frontpanel values to 0\" class=\"ap-connect-link\"><s>#37</s></a>)</p>", "type": "rendered"}, "created_on": "2018-03-09T11:28:47.557260+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-09T11:29:19.242225+00:00", "type": "issue_comment", "id": 43812820}