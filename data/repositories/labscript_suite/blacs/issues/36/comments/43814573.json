{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/36/comments/43814573.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/36#comment-43814573"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/36.json"}}, "type": "issue", "id": 36, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "front panel settings not loaded correctly if blacs is not run as a module"}, "content": {"raw": "I'm back in lab so I'm going to start working through debug steps.\n\nI'm running both commands from inside the blacs directory. The only reason I've noticed the difference at all is because I normally start blacs with the installer generated shortcut (which uses the \\_\\_main\\_\\_.py method) but when I debug I start blacs from the command line with the python -m blacs method.\n\nFor me it consistently fails when I run with python \\_\\_main\\_\\_.py. Moreover, trying to load an explicit front panel save file (from the drop menu option) fails in the same way if I'm using \\_\\_main\\_\\_.py but always works if I use python -m blacs.\n\nI haven't done the direct print statement, but my log file has this in it for either method (with time changing obviously)\n\n```\n#!\n2018-03-09 07:28:00,960 DEBUG BLACS.ConnectionTable: Parsing connection table from C:\\labscript_suite\\labconfig\\ExperimentContr_BLACS.h5\n\n```\n\nI'm going to see if I can isolate the revision where this breaks for me. I've always used the shortcut without issue so clearly something changed. I'll also try out Chris's bugfix.", "markup": "markdown", "html": "<p>I'm back in lab so I'm going to start working through debug steps.</p>\n<p>I'm running both commands from inside the blacs directory. The only reason I've noticed the difference at all is because I normally start blacs with the installer generated shortcut (which uses the __main__.py method) but when I debug I start blacs from the command line with the python -m blacs method.</p>\n<p>For me it consistently fails when I run with python __main__.py. Moreover, trying to load an explicit front panel save file (from the drop menu option) fails in the same way if I'm using __main__.py but always works if I use python -m blacs.</p>\n<p>I haven't done the direct print statement, but my log file has this in it for either method (with time changing obviously)</p>\n<div class=\"codehilite\"><pre><span></span>2018-03-09 07:28:00,960 DEBUG BLACS.ConnectionTable: Parsing connection table from C:\\labscript_suite\\labconfig\\ExperimentContr_BLACS.h5\n</pre></div>\n\n\n<p>I'm going to see if I can isolate the revision where this breaks for me. I've always used the shortcut without issue so clearly something changed. I'll also try out Chris's bugfix.</p>", "type": "rendered"}, "created_on": "2018-03-09T12:53:06.634397+00:00", "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, "updated_on": null, "type": "issue_comment", "id": 43814573}