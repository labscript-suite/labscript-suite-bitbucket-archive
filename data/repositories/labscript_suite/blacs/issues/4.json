{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/blacs/issues/4/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/blacs/issues/4.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/4/watch"}, "comments": {"href": "data/repositories/labscript_suite/blacs/issues/4/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/4/blacs-should-check-the-labscript-version"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/issues/4/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "BLACS should check the labscript version used to compile the connection table", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Ran into a bug today where I tried to open BLACS (1.1.0-dev/gated-clocks) with a connection table compiled pre gated-clocks. BLACS threw an obtuse error about a variable being a string object and not having the 'name' attribute (hint: it shouldn't have been a string!)\r\n\r\nI've fixed the specific issue (PulseBlaster code was overriding a method and returning a non-empty string) but it occurs to me that if you launch a newly upgraded version of BLACS/labscript, it should probably prompt you to update and recompile the connection table before launching BLACS. \r\n\r\nOf course, all our code should be backwards compatible to some degree (BLACS should always be able to start) but the thing that won't be is the saving/restoring BLACS front panel state. A bunch of outputs may get reset to 0 if they can't be found in the connection table because the hierarchy of devices has changed (as it did in gated-clocks). This could be a pain for people (eg for us, PulseBlasters trigger on a digital low)\r\n\r\nShould we do this checking and prompt for recompilation, or classify this as a \"wont fix\" and make people deal with the consequences for the few times where the devices hierarchy of labscript changes significantly?", "markup": "markdown", "html": "<p>Ran into a bug today where I tried to open BLACS (1.1.0-dev/gated-clocks) with a connection table compiled pre gated-clocks. BLACS threw an obtuse error about a variable being a string object and not having the 'name' attribute (hint: it shouldn't have been a string!)</p>\n<p>I've fixed the specific issue (PulseBlaster code was overriding a method and returning a non-empty string) but it occurs to me that if you launch a newly upgraded version of BLACS/labscript, it should probably prompt you to update and recompile the connection table before launching BLACS. </p>\n<p>Of course, all our code should be backwards compatible to some degree (BLACS should always be able to start) but the thing that won't be is the saving/restoring BLACS front panel state. A bunch of outputs may get reset to 0 if they can't be found in the connection table because the hierarchy of devices has changed (as it did in gated-clocks). This could be a pain for people (eg for us, PulseBlasters trigger on a digital low)</p>\n<p>Should we do this checking and prompt for recompilation, or classify this as a \"wont fix\" and make people deal with the consequences for the few times where the devices hierarchy of labscript changes significantly?</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2014-10-02T05:37:17.442434+00:00", "milestone": null, "updated_on": "2014-10-02T05:37:17.442434+00:00", "type": "issue", "id": 4}