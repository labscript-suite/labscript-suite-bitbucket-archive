{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5/comments/37573656.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/5#comment-37573656"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "AppID stuff not set correctly after compile and restart"}, "content": {"raw": "On our new Windows 10 machine it gets grouped with lyse (which was previously not pinned to the taskbar)", "markup": "markdown", "html": "<p>On our new Windows 10 machine it gets grouped with lyse (which was previously not pinned to the taskbar)</p>", "type": "rendered"}, "created_on": "2017-06-14T06:29:53.635256+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": null, "type": "issue_comment", "id": 37573656}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5/comments/37594464.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/5#comment-37594464"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "AppID stuff not set correctly after compile and restart"}, "content": {"raw": "Ah, that's silly. I've noticed this on windows 7 too, I think.\n\nThe restart behaviour should be changed to be a bit \"fresher\" than the current method, which replaces the currently running process. It should instead launch a new one. I'll probably make zprocess grow a \"restart current process\" function to that runs the command that started the current process, after a delay, as a new process, that way the restart behaviour should be the same as the normal-start behaviour.", "markup": "markdown", "html": "<p>Ah, that's silly. I've noticed this on windows 7 too, I think.</p>\n<p>The restart behaviour should be changed to be a bit \"fresher\" than the current method, which replaces the currently running process. It should instead launch a new one. I'll probably make zprocess grow a \"restart current process\" function to that runs the command that started the current process, after a delay, as a new process, that way the restart behaviour should be the same as the normal-start behaviour.</p>", "type": "rendered"}, "created_on": "2017-06-14T18:11:56.779157+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 37594464}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5/comments/37598992.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/5#comment-37598992"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "AppID stuff not set correctly after compile and restart"}, "content": {"raw": "Isn't that what it already tries to do? It relaunches with subprocess.POpen [[code](#!/labscript_suite/blacs/src/d075c69632b20d376d05915020d26ae4b5b1572b/__main__.py?at=default&fileviewer=file-view-default#__main__.py-199)]", "markup": "markdown", "html": "<p>Isn't that what it already tries to do? It relaunches with subprocess.POpen [<a data-is-external-link=\"true\" href=\"#!/labscript_suite/blacs/src/d075c69632b20d376d05915020d26ae4b5b1572b/__main__.py?at=default&amp;fileviewer=file-view-default#__main__.py-199\" rel=\"nofollow\">code</a>]</p>", "type": "rendered"}, "created_on": "2017-06-14T23:13:59.853762+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 37598992}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5/comments/37599094.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/5#comment-37599094"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/5.json"}}, "type": "issue", "id": 5, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "AppID stuff not set correctly after compile and restart"}, "content": {"raw": "Oh, so it does! I think that changed at some point, I think it used to be os.execv or something, but maybe I'm mistaken.\n\nI can test on Windows at NIST, and try a few things, but if anyone else wants to have a go at this, I'd suspect a few things: One, that the parent process doesn't die before its child process starts - this means there are two BLACS processes running at the same time, although, to be sure, the second one is delayed and so should not be calling the AppID functions until the first one is dead.\n\nYou might have some luck settings the DETACHED_PROCESS flag, which I've used for things like launching a zlock server automatically without wanting it to be a child process of the current process (example [here](https://bitbucket.org/cbillington/zprocess/src/72cb79765e03b1ab1bfa114070db187925955ea6/zprocess/__init__.py?at=default&fileviewer=file-view-default#__init__.py-575)). But this would mean that the new process would not inherit the old one's terminal, which would be unfortunate if you are running from a terminal for debugging.", "markup": "markdown", "html": "<p>Oh, so it does! I think that changed at some point, I think it used to be os.execv or something, but maybe I'm mistaken.</p>\n<p>I can test on Windows at NIST, and try a few things, but if anyone else wants to have a go at this, I'd suspect a few things: One, that the parent process doesn't die before its child process starts - this means there are two BLACS processes running at the same time, although, to be sure, the second one is delayed and so should not be calling the AppID functions until the first one is dead.</p>\n<p>You might have some luck settings the DETACHED_PROCESS flag, which I've used for things like launching a zlock server automatically without wanting it to be a child process of the current process (example <a data-is-external-link=\"true\" href=\"https://bitbucket.org/cbillington/zprocess/src/72cb79765e03b1ab1bfa114070db187925955ea6/zprocess/__init__.py?at=default&amp;fileviewer=file-view-default#__init__.py-575\" rel=\"nofollow\">here</a>). But this would mean that the new process would not inherit the old one's terminal, which would be unfortunate if you are running from a terminal for debugging.</p>", "type": "rendered"}, "created_on": "2017-06-14T23:23:45.541451+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 37599094}], "page": 1, "size": 4}