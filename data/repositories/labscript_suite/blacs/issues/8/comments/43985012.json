{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/8/comments/43985012.json"}, "html": {"href": "#!/labscript_suite/blacs/issues/8#comment-43985012"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/issues/8.json"}}, "type": "issue", "id": 8, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "title": "'Compile and restart' improvements - making sure it can happen when other things are borked"}, "content": {"raw": "That sounds pretty great!\n\nOne thing that comes to mind is that if a tab is broken and doesn't load, and then you fix the problem and restart BLACS, the tab's save data from before the breakage will be lost - because BLACS only saves data from the current tabs at shutdown, and the broken tab will be absent.\n\nThis could be fixed by, when the tab fails to load, storing its save data somewhere (as in some instance variable), and re-adding it to the data to be saved when BLACS is saving tab save data to file at shutdown.\n\nA similar thing applies if connections.py returns an empty connection table because of an exception. The same solution applies, but for every tab instead of just one.", "markup": "markdown", "html": "<p>That sounds pretty great!</p>\n<p>One thing that comes to mind is that if a tab is broken and doesn't load, and then you fix the problem and restart BLACS, the tab's save data from before the breakage will be lost - because BLACS only saves data from the current tabs at shutdown, and the broken tab will be absent.</p>\n<p>This could be fixed by, when the tab fails to load, storing its save data somewhere (as in some instance variable), and re-adding it to the data to be saved when BLACS is saving tab save data to file at shutdown.</p>\n<p>A similar thing applies if connections.py returns an empty connection table because of an exception. The same solution applies, but for every tab instead of just one.</p>", "type": "rendered"}, "created_on": "2018-03-18T10:20:46.962062+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 43985012}