{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/19/comments/44401977.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/19/_/diff#comment-44401977"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/19"}}, "title": "AnalogIn"}, "content": {"raw": "I should have numbered these points instead of dot pointing them...\n\n1. Done\n2. Yep, let's defer to another pull request\n3. Let me know how you go with this one. It's probably possible to do it without point 4. (below) and slicing numpy arrays I think can be pretty efficient. It just will use more RAM than it needs to.\n4. Yeah, that's true. Maybe a hybrid where we only have one thread per device in BLACS, but have it read N sub sockets in series (so that the subprocess for plotting in 3. can subscribe to only one)? Not sure, maybe having lots of threads isn't a problem, especially if the sample rate is low so they would be IO bound (blocking call to recv?). Maybe the data is always coming in too fast so it wouldn't be IO bound.\n5. Yep, let's defer to another pull request\n6. Done\n7. I should have elaborated on my suggestion of a random sample. If you take the last one, you won't see the reading fluctuate (much) for oscillatory signals close to/at the sample rate. So I think a random sample would be better.\n8. Yep, let's defer to another pull request\n9. Yep, let's defer to another pull request\n\n\u200c", "markup": "markdown", "html": "<p>I should have numbered these points instead of dot pointing them...</p>\n<ol>\n<li>Done</li>\n<li>Yep, let's defer to another pull request</li>\n<li>Let me know how you go with this one. It's probably possible to do it without point 4. (below) and slicing numpy arrays I think can be pretty efficient. It just will use more RAM than it needs to.</li>\n<li>Yeah, that's true. Maybe a hybrid where we only have one thread per device in BLACS, but have it read N sub sockets in series (so that the subprocess for plotting in 3. can subscribe to only one)? Not sure, maybe having lots of threads isn't a problem, especially if the sample rate is low so they would be IO bound (blocking call to recv?). Maybe the data is always coming in too fast so it wouldn't be IO bound.</li>\n<li>Yep, let's defer to another pull request</li>\n<li>Done</li>\n<li>I should have elaborated on my suggestion of a random sample. If you take the last one, you won't see the reading fluctuate (much) for oscillatory signals close to/at the sample rate. So I think a random sample would be better.</li>\n<li>Yep, let's defer to another pull request</li>\n<li>Yep, let's defer to another pull request</li>\n</ol>\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2017-09-07T01:53:45.535639+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-09-07T01:53:45.538193+00:00", "type": "pullrequest_comment", "id": 44401977}