{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/32/comments/58368268.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/32/_/diff#comment-58368268"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 32, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/32.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/32"}}, "title": "Absolute imports, and don't use __file__"}, "content": {"raw": "There are a couple of UI files loaded by devices in labscript\\_devices that will need to be updated to use this new system \\(or rather, labscript\\_devices needs to have a similar modification to it's `__init__.py` file\\).\n\nAlso, `blacs/__init__.py` \\(and similarly for blacs.plugins\\) should have a fallback to use `__file__` if it can't find the labscript install directory \\(for copies of the software that predate the installer or were manually installed\\). This would then match the behaviour of the labscript\\_utils/labconfig.py script which does [something similar](#!/labscript_suite/labscript_utils/src/4d200324079d6041a56842866c965f721742ea37/labconfig.py?at=default&fileviewer=file-view-default#labconfig.py-28).", "markup": "markdown", "html": "<p>There are a couple of UI files loaded by devices in labscript_devices that will need to be updated to use this new system (or rather, labscript_devices needs to have a similar modification to it's <code>__init__.py</code> file).</p>\n<p>Also, <code>blacs/__init__.py</code> (and similarly for blacs.plugins) should have a fallback to use <code>__file__</code> if it can't find the labscript install directory (for copies of the software that predate the installer or were manually installed). This would then match the behaviour of the labscript_utils/labconfig.py script which does <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript_utils/src/4d200324079d6041a56842866c965f721742ea37/labconfig.py?at=default&amp;fileviewer=file-view-default#labconfig.py-28\" rel=\"nofollow\">something similar</a>.</p>", "type": "rendered"}, "created_on": "2018-03-09T02:56:33.529107+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-09T02:56:33.532285+00:00", "type": "pullrequest_comment", "id": 58368268}