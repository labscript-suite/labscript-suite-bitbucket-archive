{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139815.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139815"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "There is an an additional concern with this not outlined in issue #8. When shots are submitted, the connection table is compared to the BLACS connection table and a check is done to make sure the hardware is available for use \\(aka is all the hardware in the shots defined in the connection table in the same way\\). With this pull request, we could get into the state where the connection tables match, but the tab isn't available which will cause an exception to be raised in the Queue Manager thread. This is currently caught, and will show an error message that says which tab had the problem transitioning to buffered, but there won't actually be a tab with that name, which may confuse people. I don't know what the expected behaviour should be, but maybe a slightly better worded error for when the tab is missing?\n\nI would also suggest a permanent notification in the notification bar showing the list of devices that did not load correctly for situations where the error message was hidden behind another window and/or closed quickly without reading and/or when BLACS has been running for a while and you've forgotten and/or you weren't the person to start BLACS and so never saw the message.", "markup": "markdown", "html": "<p>There is an an additional concern with this not outlined in issue <a href=\"#!/labscript_suite/blacs/issues/8/compile-and-restart-improvements-making\" rel=\"nofollow\" title=\"&#39;Compile and restart&#39; improvements - making sure it can happen when other things are borked\" class=\"ap-connect-link\"><s>#8</s></a>. When shots are submitted, the connection table is compared to the BLACS connection table and a check is done to make sure the hardware is available for use (aka is all the hardware in the shots defined in the connection table in the same way). With this pull request, we could get into the state where the connection tables match, but the tab isn't available which will cause an exception to be raised in the Queue Manager thread. This is currently caught, and will show an error message that says which tab had the problem transitioning to buffered, but there won't actually be a tab with that name, which may confuse people. I don't know what the expected behaviour should be, but maybe a slightly better worded error for when the tab is missing?</p>\n<p>I would also suggest a permanent notification in the notification bar showing the list of devices that did not load correctly for situations where the error message was hidden behind another window and/or closed quickly without reading and/or when BLACS has been running for a while and you've forgotten and/or you weren't the person to start BLACS and so never saw the message.</p>", "type": "rendered"}, "created_on": "2018-03-18T23:56:12.977568+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-18T23:56:12.981426+00:00", "type": "pullrequest_comment", "id": 59139815}