{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139815.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139815"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "There is an an additional concern with this not outlined in issue #8. When shots are submitted, the connection table is compared to the BLACS connection table and a check is done to make sure the hardware is available for use \\(aka is all the hardware in the shots defined in the connection table in the same way\\). With this pull request, we could get into the state where the connection tables match, but the tab isn't available which will cause an exception to be raised in the Queue Manager thread. This is currently caught, and will show an error message that says which tab had the problem transitioning to buffered, but there won't actually be a tab with that name, which may confuse people. I don't know what the expected behaviour should be, but maybe a slightly better worded error for when the tab is missing?\n\nI would also suggest a permanent notification in the notification bar showing the list of devices that did not load correctly for situations where the error message was hidden behind another window and/or closed quickly without reading and/or when BLACS has been running for a while and you've forgotten and/or you weren't the person to start BLACS and so never saw the message.", "markup": "markdown", "html": "<p>There is an an additional concern with this not outlined in issue <a href=\"#!/labscript_suite/blacs/issues/8/compile-and-restart-improvements-making\" rel=\"nofollow\" title=\"&#39;Compile and restart&#39; improvements - making sure it can happen when other things are borked\" class=\"ap-connect-link\"><s>#8</s></a>. When shots are submitted, the connection table is compared to the BLACS connection table and a check is done to make sure the hardware is available for use (aka is all the hardware in the shots defined in the connection table in the same way). With this pull request, we could get into the state where the connection tables match, but the tab isn't available which will cause an exception to be raised in the Queue Manager thread. This is currently caught, and will show an error message that says which tab had the problem transitioning to buffered, but there won't actually be a tab with that name, which may confuse people. I don't know what the expected behaviour should be, but maybe a slightly better worded error for when the tab is missing?</p>\n<p>I would also suggest a permanent notification in the notification bar showing the list of devices that did not load correctly for situations where the error message was hidden behind another window and/or closed quickly without reading and/or when BLACS has been running for a while and you've forgotten and/or you weren't the person to start BLACS and so never saw the message.</p>", "type": "rendered"}, "created_on": "2018-03-18T23:56:12.977568+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-18T23:56:12.981426+00:00", "type": "pullrequest_comment", "id": 59139815}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139914.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139914"}}, "parent": {"id": 59139815, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139815.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139815"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "I thought of this and thats why devices are removed from the connection table if they fail to initialize so comparison will fail.\n\nPermanent notification in the notification bar makes sense I'll look into that tomorrow.", "markup": "markdown", "html": "<p>I thought of this and thats why devices are removed from the connection table if they fail to initialize so comparison will fail.</p>\n<p>Permanent notification in the notification bar makes sense I'll look into that tomorrow.</p>", "type": "rendered"}, "created_on": "2018-03-18T23:59:38.787273+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-18T23:59:38.846729+00:00", "type": "pullrequest_comment", "id": 59139914}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139961.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139961"}}, "parent": {"id": 59139914, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139914.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139914"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Oh, I hadn't noticed that. I'll have to think on whether that has any other repercussions \\(I think removing devices from the connection table may have further repercussions for saved front panel values, but need to look into it to be sure\\)", "markup": "markdown", "html": "<p>Oh, I hadn't noticed that. I'll have to think on whether that has any other repercussions (I think removing devices from the connection table may have further repercussions for saved front panel values, but need to look into it to be sure)</p>", "type": "rendered"}, "created_on": "2018-03-19T00:02:11.322544+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-19T00:02:11.325544+00:00", "type": "pullrequest_comment", "id": 59139961}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139989.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139989"}}, "parent": {"id": 59139961, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139961.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139961"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Frontpanel settings \\(of broken device tabs\\) are also stored separately as suggested by @chrisbillington . The user can then choose to save them on close or not.", "markup": "markdown", "html": "<p>Frontpanel settings (of broken device tabs) are also stored separately as suggested by @chrisbillington . The user can then choose to save them on close or not.</p>", "type": "rendered"}, "created_on": "2018-03-19T00:03:51.674642+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-19T00:04:22.379871+00:00", "type": "pullrequest_comment", "id": 59139989}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140099.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140099"}}, "parent": {"id": 59139989, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59139989.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59139989"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Yes, but it's not just the settings that you have to worry about. The connection table is also saved in the hostname\\_BLACS.h5 file in labconfig on exit. This will now be the reduced connection table. I just want to make sure that modifying that doesn't have any unintended side effects!", "markup": "markdown", "html": "<p>Yes, but it's not just the settings that you have to worry about. The connection table is also saved in the hostname_BLACS.h5 file in labconfig on exit. This will now be the reduced connection table. I just want to make sure that modifying that doesn't have any unintended side effects!</p>", "type": "rendered"}, "created_on": "2018-03-19T00:10:29.471583+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-19T00:10:29.474247+00:00", "type": "pullrequest_comment", "id": 59140099}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140161.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140161"}}, "parent": {"id": 59140099, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140099.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140099"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Ah, I suspect sure that's the connection table used to restore settings - if a device is not in it it might not have its settings restored.\n\nIf so, this can be fixed by, if there's an error at startup, storing the full (before removing things) connection table dataset somewhere and saving it at exit. I think this can be unconditional, i.e. without requiring user confirmation.", "markup": "markdown", "html": "<p>Ah, I suspect sure that's the connection table used to restore settings - if a device is not in it it might not have its settings restored.</p>\n<p>If so, this can be fixed by, if there's an error at startup, storing the full (before removing things) connection table dataset somewhere and saving it at exit. I think this can be unconditional, i.e. without requiring user confirmation.</p>", "type": "rendered"}, "created_on": "2018-03-19T00:13:22.069893+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-19T00:13:22.073312+00:00", "type": "pullrequest_comment", "id": 59140161}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140176.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140176"}}, "parent": {"id": 59140099, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140099.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140099"}}, "depth": 5}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "no it will not be the reduced one as the changes made leave `ConnectionTable.raw_table` which is saved untouched", "markup": "markdown", "html": "<p>no it will not be the reduced one as the changes made leave <code>ConnectionTable.raw_table</code> which is saved untouched</p>", "type": "rendered"}, "created_on": "2018-03-19T00:13:52.698170+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-19T00:13:52.744492+00:00", "type": "pullrequest_comment", "id": 59140176}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140217.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140217"}}, "parent": {"id": 59140176, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140176.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140176"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Ah, cool. I think that ought to be fine then.", "markup": "markdown", "html": "<p>Ah, cool. I think that ought to be fine then.</p>", "type": "rendered"}, "created_on": "2018-03-19T00:15:23.703635+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-19T00:15:23.706618+00:00", "type": "pullrequest_comment", "id": 59140217}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59143635.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59143635"}}, "parent": {"id": 59140176, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59140176.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59140176"}}, "depth": 6}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Right, in that case \\(now that I understand how this works!\\) my questions move over to the other pull request. Discussions there might affect this one though so let's not merge yet.", "markup": "markdown", "html": "<p>Right, in that case (now that I understand how this works!) my questions move over to the other pull request. Discussions there might affect this one though so let's not merge yet.</p>", "type": "rendered"}, "created_on": "2018-03-19T02:35:17.863139+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-19T02:35:17.866728+00:00", "type": "pullrequest_comment", "id": 59143635}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59257296.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59257296"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "I added a notification of broken devices to the connection table plugin. \n\nI wasn't quite sure with the wording. I'd be fine with it being changed.", "markup": "markdown", "html": "<p>I added a notification of broken devices to the connection table plugin. </p>\n<p>I wasn't quite sure with the wording. I'd be fine with it being changed.</p>", "type": "rendered"}, "created_on": "2018-03-19T21:37:15.767447+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-19T21:37:15.805715+00:00", "type": "pullrequest_comment", "id": 59257296}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35/comments/59971305.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35/_/diff#comment-59971305"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 35, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/35.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/35"}}, "title": "ConnectionTable improvements"}, "content": {"raw": "Thanks for this! I've merged after adding a version check for labscript_utils 2.7 which contains the other necessary changes.", "markup": "markdown", "html": "<p>Thanks for this! I've merged after adding a version check for labscript_utils 2.7 which contains the other necessary changes.</p>", "type": "rendered"}, "created_on": "2018-03-27T10:37:09.973658+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-27T10:37:09.977539+00:00", "type": "pullrequest_comment", "id": 59971305}], "page": 1, "size": 11}