{"rendered": {"description": {"raw": "Added a progress bar plugin to BLACS.\r\n\r\nThe plugin inspects the stop_time device property of the master pseudoclock to check how long the shot is, and updates the progress bar whilst the shot is running. It hooks into two new callbacks 'science_starting' and 'science_over'. 'science_over' is distinct from 'shot_complete', as it runs regardless of whether a shot was completed successfully, i.e. even if there is an abort or device restart.\r\n\r\nThe progress bar shows the name of the current marker, if any, and changes colour to match the colour defined by that marker.\r\n\r\nThe progress pauses during a wait, and the plugin waits for an event from the WaitMonitor to know when the wait is over. This depends on labscript_utils 2.2.0, [yet to be merged](#!/labscript_suite/labscript_devices/pull-requests/47/wait-completed-events/).\r\n\r\nThe time and percentages shown on the progress bar are 'labscript time', i.e. excluding the time spent waiting, since there is no way to know how long the waits will be in advance.\r\n\r\nHere is a gif:\r\n\r\n![progress_bar.gif](data/bitbucket.org/repo/9pKE7ad/images/2571406705-progress_bar.gif)", "markup": "markdown", "html": "<p>Added a progress bar plugin to BLACS.</p>\n<p>The plugin inspects the stop_time device property of the master pseudoclock to check how long the shot is, and updates the progress bar whilst the shot is running. It hooks into two new callbacks 'science_starting' and 'science_over'. 'science_over' is distinct from 'shot_complete', as it runs regardless of whether a shot was completed successfully, i.e. even if there is an abort or device restart.</p>\n<p>The progress bar shows the name of the current marker, if any, and changes colour to match the colour defined by that marker.</p>\n<p>The progress pauses during a wait, and the plugin waits for an event from the WaitMonitor to know when the wait is over. This depends on labscript_utils 2.2.0, <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript_devices/pull-requests/47/wait-completed-events/\" rel=\"nofollow\">yet to be merged</a>.</p>\n<p>The time and percentages shown on the progress bar are 'labscript time', i.e. excluding the time spent waiting, since there is no way to know how long the waits will be in advance.</p>\n<p>Here is a gif:</p>\n<p><img alt=\"progress_bar.gif\" src=\"data/bitbucket.org/repo/9pKE7ad/images/2571406705-progress_bar.gif\" /></p>", "type": "rendered"}, "title": {"raw": "Progress bar", "markup": "markdown", "html": "<p>Progress bar</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Added a progress bar plugin to BLACS.\r\n\r\nThe plugin inspects the stop_time device property of the master pseudoclock to check how long the shot is, and updates the progress bar whilst the shot is running. It hooks into two new callbacks 'science_starting' and 'science_over'. 'science_over' is distinct from 'shot_complete', as it runs regardless of whether a shot was completed successfully, i.e. even if there is an abort or device restart.\r\n\r\nThe progress bar shows the name of the current marker, if any, and changes colour to match the colour defined by that marker.\r\n\r\nThe progress pauses during a wait, and the plugin waits for an event from the WaitMonitor to know when the wait is over. This depends on labscript_utils 2.2.0, [yet to be merged](#!/labscript_suite/labscript_devices/pull-requests/47/wait-completed-events/).\r\n\r\nThe time and percentages shown on the progress bar are 'labscript time', i.e. excluding the time spent waiting, since there is no way to know how long the waits will be in advance.\r\n\r\nHere is a gif:\r\n\r\n![progress_bar.gif](data/bitbucket.org/repo/9pKE7ad/images/2571406705-progress_bar.gif)", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/pullrequests/52/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/diffstat/labscript_suite/blacs:614e0d214ea0%0D1c17f6c907c7?from_pullrequest_id=52"}, "commits": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/commits.json"}, "self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "comments": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/pullrequests/52/merge"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}, "activity": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/diff/labscript_suite/blacs:614e0d214ea0%0D1c17f6c907c7?from_pullrequest_id=52"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/blacs/pullrequests/52/approve"}, "statuses": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/statuses_page=1.json"}}, "title": "Progress bar", "close_source_branch": true, "reviewers": [{"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}], "id": 52, "destination": {"commit": {"hash": "1c17f6c907c7", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/blacs/commit/1c17f6c907c7.json"}, "html": {"href": "#!/labscript_suite/blacs/commits/1c17f6c907c7"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/blacs.json"}, "html": {"href": "#!/labscript_suite/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}ts=249915"}}, "type": "repository", "name": "BLACS", "full_name": "labscript_suite/blacs", "uuid": "{50ed1eb9-8c1b-4afe-a8b8-8e0a33b39a05}"}, "branch": {"name": "default"}}, "created_on": "2018-09-12T16:15:53.427155+00:00", "summary": {"raw": "Added a progress bar plugin to BLACS.\r\n\r\nThe plugin inspects the stop_time device property of the master pseudoclock to check how long the shot is, and updates the progress bar whilst the shot is running. It hooks into two new callbacks 'science_starting' and 'science_over'. 'science_over' is distinct from 'shot_complete', as it runs regardless of whether a shot was completed successfully, i.e. even if there is an abort or device restart.\r\n\r\nThe progress bar shows the name of the current marker, if any, and changes colour to match the colour defined by that marker.\r\n\r\nThe progress pauses during a wait, and the plugin waits for an event from the WaitMonitor to know when the wait is over. This depends on labscript_utils 2.2.0, [yet to be merged](#!/labscript_suite/labscript_devices/pull-requests/47/wait-completed-events/).\r\n\r\nThe time and percentages shown on the progress bar are 'labscript time', i.e. excluding the time spent waiting, since there is no way to know how long the waits will be in advance.\r\n\r\nHere is a gif:\r\n\r\n![progress_bar.gif](data/bitbucket.org/repo/9pKE7ad/images/2571406705-progress_bar.gif)", "markup": "markdown", "html": "<p>Added a progress bar plugin to BLACS.</p>\n<p>The plugin inspects the stop_time device property of the master pseudoclock to check how long the shot is, and updates the progress bar whilst the shot is running. It hooks into two new callbacks 'science_starting' and 'science_over'. 'science_over' is distinct from 'shot_complete', as it runs regardless of whether a shot was completed successfully, i.e. even if there is an abort or device restart.</p>\n<p>The progress bar shows the name of the current marker, if any, and changes colour to match the colour defined by that marker.</p>\n<p>The progress pauses during a wait, and the plugin waits for an event from the WaitMonitor to know when the wait is over. This depends on labscript_utils 2.2.0, <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript_devices/pull-requests/47/wait-completed-events/\" rel=\"nofollow\">yet to be merged</a>.</p>\n<p>The time and percentages shown on the progress bar are 'labscript time', i.e. excluding the time spent waiting, since there is no way to know how long the waits will be in advance.</p>\n<p>Here is a gif:</p>\n<p><img alt=\"progress_bar.gif\" src=\"data/bitbucket.org/repo/9pKE7ad/images/2571406705-progress_bar.gif\" /></p>", "type": "rendered"}, "source": {"commit": {"hash": "790f8cefc380", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/blacs/commit/790f8cefc380"}, "html": {"href": "#!/cbillington/blacs/commits/790f8cefc380"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/blacs"}, "html": {"href": "#!/cbillington/blacs"}, "avatar": {"href": "data/bytebucket.org/ravatar/{1ffc697c-0cdc-43c3-b124-343fa9d9cc95}ts=python"}}, "type": "repository", "name": "BLACS", "full_name": "cbillington/blacs", "uuid": "{1ffc697c-0cdc-43c3-b124-343fa9d9cc95}"}, "branch": {"name": "progress_bar"}}, "comment_count": 6, "state": "MERGED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-10-22T17:47:09.270931+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}, {"role": "PARTICIPANT", "participated_on": "2018-10-22T15:17:00.464895+00:00", "type": "participant", "approved": false, "user": {"display_name": "Lars Kohfahl", "uuid": "{14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D"}, "html": {"href": "https://bitbucket.org/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/630642264cd55e22515678a3a0489ac7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLK-2.png"}}, "nickname": "lkohfahl", "type": "user", "account_id": "5aafc5d11396802a57aa7f3b"}}], "reason": "", "updated_on": "2018-10-22T17:47:09.281774+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "614e0d214ea0", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/blacs/commit/614e0d214ea0.json"}, "html": {"href": "#!/labscript_suite/blacs/commits/614e0d214ea0"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}