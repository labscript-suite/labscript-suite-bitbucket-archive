{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/75795711.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-75795711"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "As with the fixed shot interval pull request, the diff for this one looks like nonsense because it has pulled in the pull request for callback priorities.\n\nThe only changes unique to this pull request are `plugins/progress_bar/__init__.py`, the addition of new callbacks to the queue manager, and a spacing tweak to the main BLACS  .ui file.", "markup": "markdown", "html": "<p>As with the fixed shot interval pull request, the diff for this one looks like nonsense because it has pulled in the pull request for callback priorities.</p>\n<p>The only changes unique to this pull request are <code>plugins/progress_bar/__init__.py</code>, the addition of new callbacks to the queue manager, and a spacing tweak to the main BLACS  .ui file.</p>", "type": "rendered"}, "created_on": "2018-09-12T17:53:30.113798+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-09-12T17:53:30.126186+00:00", "type": "pullrequest_comment", "id": 75795711}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79433327.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79433327"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "I've removed the dependency on newer labscript_utils for the wait completed events - instead, the plugin looks for a connection table\nattribute on the wait monitor device, if any, called 'wait_monitor_supports_wait_completed_events'. If the poperty is present and True, then it waits for these events, otherwise it just skips over waits and show an icon as a warning that it may be unreliable if waits are not very short. The icon has a tooltip explaining this.\n\nSince this no longer has a dependency on anything, I'll test it on a real setup and then merge if it's all good.", "markup": "markdown", "html": "<p>I've removed the dependency on newer labscript_utils for the wait completed events - instead, the plugin looks for a connection table\nattribute on the wait monitor device, if any, called 'wait_monitor_supports_wait_completed_events'. If the poperty is present and True, then it waits for these events, otherwise it just skips over waits and show an icon as a warning that it may be unreliable if waits are not very short. The icon has a tooltip explaining this.</p>\n<p>Since this no longer has a dependency on anything, I'll test it on a real setup and then merge if it's all good.</p>", "type": "rendered"}, "created_on": "2018-10-17T17:25:54.191235+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-10-17T17:25:54.201928+00:00", "type": "pullrequest_comment", "id": 79433327}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79453124.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79453124"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "Testing in Windows revealed style differences - the text wasn't on the progress bar and if I moved it there it would not be visible on both a dark and light background (didn't support the thing where the text is different colours depending on whether it is on the filled or empty part of the bar). I've now set it to use the same style on all platforms - either \"Fusion\" if Qt5 or \"Plastique\" if Qt4. So it should look like the screenshot on all plaforms. (\"Fusion\" is what's in the screenshot above, and \"Plastique\" is similar, just older). This style is only set on the progress bar, not on the rest of the application.\n\nAnyway, that's all fixed and it's somewhat tested, and since this is a plugin and pretty low risk I'm going to merge it.", "markup": "markdown", "html": "<p>Testing in Windows revealed style differences - the text wasn't on the progress bar and if I moved it there it would not be visible on both a dark and light background (didn't support the thing where the text is different colours depending on whether it is on the filled or empty part of the bar). I've now set it to use the same style on all platforms - either \"Fusion\" if Qt5 or \"Plastique\" if Qt4. So it should look like the screenshot on all plaforms. (\"Fusion\" is what's in the screenshot above, and \"Plastique\" is similar, just older). This style is only set on the progress bar, not on the rest of the application.</p>\n<p>Anyway, that's all fixed and it's somewhat tested, and since this is a plugin and pretty low risk I'm going to merge it.</p>", "type": "rendered"}, "created_on": "2018-10-17T20:42:47.126965+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-10-17T20:42:47.135308+00:00", "type": "pullrequest_comment", "id": 79453124}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79865891.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79865891"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "We have implemented this progress bar alongside with our own one. It works, but there is the following error coming up:\n\n`2018-10-22 17:04:51,257 INFO BLACS: instantiating plugins`  \n`2018-10-22 17:04:51,278 INFO BLACS: creating plugin tabs`  \n`2018-10-22 17:04:51,278 INFO BLACS: reordering tabs`  \n`2018-10-22 17:04:51,278 INFO BLACS: starting analysis submission thread`  \n`2018-10-22 17:04:51,298 INFO BLACS: starting queue manager thread`  \n`2018-10-22 17:04:51,298 INFO BLACS: setting up notification system`  \n`2018-10-22 17:04:51,298 INFO BLACS.queue_manager.thread: starting`  \n`2018-10-22 17:04:51,358 INFO BLACS: setting up preferences system`  \n`2018-10-22 17:04:51,378 ERROR BLACS: Error in plugin_setup_complete() for plugin`  \n`'progress_bar'. Trying again with old call signature...`  \n`Traceback (most recent call last):`  \n`File \"E:\\labscript_suite\\blacs_main_.py\", line 459, in init`  \n`plugin.plugin_setup_complete(blacs_data)`  \n`File \"E:\\labscript_suite\\blacs\\plugins\\progress_bar_init_.py\", line 120, in`  \n`plugin_setup_complete`  \n`props = properties.get(f, acq_device, 'connection_table_properties')`  \n`File \"E:\\labscript_suite\\labscript_utils\\properties.py\", line 124, in get`  \n`return get_con_table_properties(h5_file, device_name)`  \n`File \"E:\\labscript_suite\\labscript_utils\\properties.py\", line 97, in get_con`  \n`table_properties`  \n`row = dataset[dataset['name'] == device_name][0]`  \n`IndexError: index 0 is out of bounds for axis 0 with size 0`  \n`2018-10-22 17:04:51,378 ERROR BLACS: Plugin 'progress_bar' error. Plugin may not`  \n`be functional.`  \n`Traceback (most recent call last):`  \n`File \"E:\\labscript_suite\\blacs_main.py\", line 464, in init`  \n`plugin.plugin_setup_complete()`  \n`TypeError: plugin_setup_complete() takes exactly 2 arguments (1 given)`  \n`2018-10-22 17:04:51,417 INFO BLACS: showing UI`  \n`2018-10-22 17:04:51,447 INFO BLACS: BLACS instantiated`\n\nAny ideas?\n\nBy the way, labscript 2.2.0 is already implemented and shows no problems when running some standard experiment scripts.", "markup": "markdown", "html": "<p>We have implemented this progress bar alongside with our own one. It works, but there is the following error coming up:</p>\n<p><code>2018-10-22 17:04:51,257 INFO BLACS: instantiating plugins</code><br />\n<code>2018-10-22 17:04:51,278 INFO BLACS: creating plugin tabs</code><br />\n<code>2018-10-22 17:04:51,278 INFO BLACS: reordering tabs</code><br />\n<code>2018-10-22 17:04:51,278 INFO BLACS: starting analysis submission thread</code><br />\n<code>2018-10-22 17:04:51,298 INFO BLACS: starting queue manager thread</code><br />\n<code>2018-10-22 17:04:51,298 INFO BLACS: setting up notification system</code><br />\n<code>2018-10-22 17:04:51,298 INFO BLACS.queue_manager.thread: starting</code><br />\n<code>2018-10-22 17:04:51,358 INFO BLACS: setting up preferences system</code><br />\n<code>2018-10-22 17:04:51,378 ERROR BLACS: Error in plugin_setup_complete() for plugin</code><br />\n<code>'progress_bar'. Trying again with old call signature...</code><br />\n<code>Traceback (most recent call last):</code><br />\n<code>File \"E:\\labscript_suite\\blacs_main_.py\", line 459, in init</code><br />\n<code>plugin.plugin_setup_complete(blacs_data)</code><br />\n<code>File \"E:\\labscript_suite\\blacs\\plugins\\progress_bar_init_.py\", line 120, in</code><br />\n<code>plugin_setup_complete</code><br />\n<code>props = properties.get(f, acq_device, 'connection_table_properties')</code><br />\n<code>File \"E:\\labscript_suite\\labscript_utils\\properties.py\", line 124, in get</code><br />\n<code>return get_con_table_properties(h5_file, device_name)</code><br />\n<code>File \"E:\\labscript_suite\\labscript_utils\\properties.py\", line 97, in get_con</code><br />\n<code>table_properties</code><br />\n<code>row = dataset[dataset['name'] == device_name][0]</code><br />\n<code>IndexError: index 0 is out of bounds for axis 0 with size 0</code><br />\n<code>2018-10-22 17:04:51,378 ERROR BLACS: Plugin 'progress_bar' error. Plugin may not</code><br />\n<code>be functional.</code><br />\n<code>Traceback (most recent call last):</code><br />\n<code>File \"E:\\labscript_suite\\blacs_main.py\", line 464, in init</code><br />\n<code>plugin.plugin_setup_complete()</code><br />\n<code>TypeError: plugin_setup_complete() takes exactly 2 arguments (1 given)</code><br />\n<code>2018-10-22 17:04:51,417 INFO BLACS: showing UI</code><br />\n<code>2018-10-22 17:04:51,447 INFO BLACS: BLACS instantiated</code></p>\n<p>Any ideas?</p>\n<p>By the way, labscript 2.2.0 is already implemented and shows no problems when running some standard experiment scripts.</p>", "type": "rendered"}, "created_on": "2018-10-22T15:17:00.270203+00:00", "user": {"display_name": "Lars Kohfahl", "uuid": "{14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D"}, "html": {"href": "https://bitbucket.org/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/630642264cd55e22515678a3a0489ac7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLK-2.png"}}, "nickname": "lkohfahl", "type": "user", "account_id": "5aafc5d11396802a57aa7f3b"}, "updated_on": "2018-10-22T15:17:00.464895+00:00", "type": "pullrequest_comment", "id": 79865891}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79878351.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79878351"}}, "parent": {"id": 79865891, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79865891.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79865891"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "Thanks so much for testing! I think I see the cause of the problem, I'll fix it. The way in which it fails doesn't result in any incorrect behaviour, but it should be fixed anyway.", "markup": "markdown", "html": "<p>Thanks so much for testing! I think I see the cause of the problem, I'll fix it. The way in which it fails doesn't result in any incorrect behaviour, but it should be fixed anyway.</p>", "type": "rendered"}, "created_on": "2018-10-22T16:41:28.273746+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-10-22T16:41:28.286776+00:00", "type": "pullrequest_comment", "id": 79878351}, {"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79885585.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79885585"}}, "parent": {"id": 79865891, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52/comments/79865891.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52/_/diff#comment-79865891"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 52, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/52.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/52"}}, "title": "Progress bar"}, "content": {"raw": "This should be fixed by pull request #57", "markup": "markdown", "html": "<p>This should be fixed by <a href=\"#!/labscript_suite/blacs/pull-requests/57/bugfix-for-progress-bar\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #57</a></p>", "type": "rendered"}, "created_on": "2018-10-22T17:47:09.255273+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-10-22T17:47:09.270931+00:00", "type": "pullrequest_comment", "id": 79885585}], "page": 1, "size": 6}