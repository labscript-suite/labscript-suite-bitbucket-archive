{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/56/comments/79306295.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/56/_/diff#comment-79306295"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 56, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/56.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/56"}}, "title": "Defer starting the worker process until _initialise_worker"}, "content": {"raw": "In `create_worker`, the `prepend` keyword is now set to `False` instead of `True` when queuing up the `_initialse_worker` state. Was there a reason for this change? I believe I made it `True` originally so that we guaranteed that it would be the first state to be processed by the `mainloop` even if something you did prior to creating the worker caused states to be queued up \\(for example, doesn't creating output objects and status monitor timeouts trigger states to be queued up?\\). So I'm surprised you haven't seen issues with the worker not being initialised soon enough.", "markup": "markdown", "html": "<p>In <code>create_worker</code>, the <code>prepend</code> keyword is now set to <code>False</code> instead of <code>True</code> when queuing up the <code>_initialse_worker</code> state. Was there a reason for this change? I believe I made it <code>True</code> originally so that we guaranteed that it would be the first state to be processed by the <code>mainloop</code> even if something you did prior to creating the worker caused states to be queued up (for example, doesn't creating output objects and status monitor timeouts trigger states to be queued up?). So I'm surprised you haven't seen issues with the worker not being initialised soon enough.</p>", "type": "rendered"}, "created_on": "2018-10-16T22:34:22.810133+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-10-16T22:34:22.817081+00:00", "type": "pullrequest_comment", "id": 79306295}