{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/7/comments/38948273.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/7/_/diff#comment-38948273"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 7, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/7.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/7"}}, "title": "Icons and some pixel-saving"}, "content": {"raw": "Leaving it as a toggle seemed confusing, sacrificing the ability to change your mind about it seemed worth the reduction in confusion.\n\nGiven that it's not a toggle, I don't think I should change the tooltip, as the button is now about an action rather than a state. I'm treating it as if clicking that button clears the smart cache, even though internally the request to clear the cache doesn't get to the child process until later. I don't think there's any usefulness in distinguishing between \"there's no smart cache yet\", and \"there is a smart cache, but it's going to be ignored\". It's an implementation detail and the next `transition_to_buffered()` is going to proceed the same in either case. So the button is just grey for both, and the tooltip indicates what the button does when you click it.\n\nNope, vertical bar not needed - you vote to remove? I have no opinion.\n\nThere's no immediately obvious  way to make the status bar do what we want there, but I'm figuring out the best way to make QLabels elide text in general, then we can use it for the status bar as well as the queue status label, which also makes the GUI jump around when it contains a long h5 filename. If this works well we could make the device name and connection a single line of text with elision as well - would save a few more vertical pixels without preventing shrinking the tab in the case of a long name or connection.", "markup": "markdown", "html": "<p>Leaving it as a toggle seemed confusing, sacrificing the ability to change your mind about it seemed worth the reduction in confusion.</p>\n<p>Given that it's not a toggle, I don't think I should change the tooltip, as the button is now about an action rather than a state. I'm treating it as if clicking that button clears the smart cache, even though internally the request to clear the cache doesn't get to the child process until later. I don't think there's any usefulness in distinguishing between \"there's no smart cache yet\", and \"there is a smart cache, but it's going to be ignored\". It's an implementation detail and the next <code>transition_to_buffered()</code> is going to proceed the same in either case. So the button is just grey for both, and the tooltip indicates what the button does when you click it.</p>\n<p>Nope, vertical bar not needed - you vote to remove? I have no opinion.</p>\n<p>There's no immediately obvious  way to make the status bar do what we want there, but I'm figuring out the best way to make QLabels elide text in general, then we can use it for the status bar as well as the queue status label, which also makes the GUI jump around when it contains a long h5 filename. If this works well we could make the device name and connection a single line of text with elision as well - would save a few more vertical pixels without preventing shrinking the tab in the case of a long name or connection.</p>", "type": "rendered"}, "created_on": "2017-06-15T23:57:24.150098+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-15T23:57:24.153363+00:00", "type": "pullrequest_comment", "id": 38948273}