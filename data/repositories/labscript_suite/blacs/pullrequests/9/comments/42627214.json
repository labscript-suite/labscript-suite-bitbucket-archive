{"links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/9/comments/42627214.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/9/_/diff#comment-42627214"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 9, "links": {"self": {"href": "data/repositories/labscript_suite/blacs/pullrequests/9.json"}, "html": {"href": "#!/labscript_suite/blacs/pull-requests/9"}}, "title": "\"delete repeated shots\" functionality"}, "content": {"raw": "Ian proposed that the plugin enablement/disablement be set in labconfig. We already have some app settings in labconfig, and configparser allows for this multiline syntax:\n\n\n```\n#!ini\n\n\n[blacs]\nplugins:\n    foo\n    # bar\n    baz\n```\nWhich results in:\n\n```\n#!python\n\n>>> LabConfig().get('blacs', 'plugins')\nu'\\nfoo\\nbaz'\n```\nwhich is a newline delimited list of values (spurious newline at the start but we should ignore whitespace in it anyway) with commented-out lines not returned. This way a fresh labconfig file from the installer can come with a list of all the plugins, but commented out, or possibly sanctioned 'core' plugins uncommented.\n\nHow does this sound? A GUI is easy to whip up as well but  I think I prefer this. It's how mercurial plugins are enabled and disabled for example, though tortoisehg wraps a GUI full of checkboxes around actually editing the file, and it uses this syntax instead (still configparser I assume):\n\n\n```\n#!ini\n\n[extensions]\nconvert = \nmq =\nchurn = \nhgext.bookmarks =\ngit =\ncolor =\n\n```\n", "markup": "markdown", "html": "<p>Ian proposed that the plugin enablement/disablement be set in labconfig. We already have some app settings in labconfig, and configparser allows for this multiline syntax:</p>\n<div class=\"codehilite language-ini\"><pre><span></span><span class=\"k\">[blacs]</span>\n<span class=\"na\">plugins:</span>\n    <span class=\"na\">foo</span>\n    <span class=\"c1\"># bar</span>\n    <span class=\"na\">baz</span>\n</pre></div>\n\n\n<p>Which results in:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">LabConfig</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s1\">&#39;blacs&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;plugins&#39;</span><span class=\"p\">)</span>\n<span class=\"sa\">u</span><span class=\"s1\">&#39;</span><span class=\"se\">\\n</span><span class=\"s1\">foo</span><span class=\"se\">\\n</span><span class=\"s1\">baz&#39;</span>\n</pre></div>\n\n\n<p>which is a newline delimited list of values (spurious newline at the start but we should ignore whitespace in it anyway) with commented-out lines not returned. This way a fresh labconfig file from the installer can come with a list of all the plugins, but commented out, or possibly sanctioned 'core' plugins uncommented.</p>\n<p>How does this sound? A GUI is easy to whip up as well but  I think I prefer this. It's how mercurial plugins are enabled and disabled for example, though tortoisehg wraps a GUI full of checkboxes around actually editing the file, and it uses this syntax instead (still configparser I assume):</p>\n<div class=\"codehilite language-ini\"><pre><span></span><span class=\"k\">[extensions]</span>\n<span class=\"na\">convert</span> <span class=\"o\">=</span> \n<span class=\"na\">mq</span> <span class=\"o\">=</span>\n<span class=\"na\">churn</span> <span class=\"o\">=</span> \n<span class=\"na\">hgext.bookmarks</span> <span class=\"o\">=</span>\n<span class=\"na\">git</span> <span class=\"o\">=</span>\n<span class=\"na\">color</span> <span class=\"o\">=</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-11T04:24:24.744398+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-11T04:28:01.701859+00:00", "type": "pullrequest_comment", "id": 42627214}