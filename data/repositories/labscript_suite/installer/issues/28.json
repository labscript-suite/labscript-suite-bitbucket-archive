{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/installer.json"}, "html": {"href": "#!/labscript_suite/installer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{65cd9685-3e8c-4275-9b89-1a7873b341d0}ts=python"}}, "type": "repository", "name": "installer", "full_name": "labscript_suite/installer", "uuid": "{65cd9685-3e8c-4275-9b89-1a7873b341d0}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/installer/issues/28/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/installer/issues/28.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/issues/28/watch"}, "comments": {"href": "data/repositories/labscript_suite/installer/issues/28/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/installer/issues/28/relaunching-of-pinned-apps-is-borked"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/issues/28/vote"}}, "reporter": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "title": "Relaunching of pinned apps is borked", "component": null, "votes": 0, "watches": 1, "content": {"raw": "If using conda, the \"Relaunch command\" being used to configure the taskbar entry for\r\nthe app does not take into account the conda environment like the start menu shortcut does.\r\n\r\nTherefore if you pin a labscript suite app to the taskbar, it errors on relaunching that DLLs cannot be found in recent versions of conda.\r\n\r\nWe should move the code that creates commands for launching apps into `labscript_utils.winshell` or similar, and have both the installer call this code to create the shortcuts, and the apps call the same code to set the relaunch command on their taskbar entries.\r\n\r\nWhilst we're at it, there is duplicated code for the appid stuff in the apps. Much of it can probably be moved into winshell so that we are not repeating the same block of code in every app.", "markup": "markdown", "html": "<p>If using conda, the \"Relaunch command\" being used to configure the taskbar entry for\nthe app does not take into account the conda environment like the start menu shortcut does.</p>\n<p>Therefore if you pin a labscript suite app to the taskbar, it errors on relaunching that DLLs cannot be found in recent versions of conda.</p>\n<p>We should move the code that creates commands for launching apps into <code>labscript_utils.winshell</code> or similar, and have both the installer call this code to create the shortcuts, and the apps call the same code to set the relaunch command on their taskbar entries.</p>\n<p>Whilst we're at it, there is duplicated code for the appid stuff in the apps. Much of it can probably be moved into winshell so that we are not repeating the same block of code in every app.</p>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2019-05-06T18:36:03.528287+00:00", "milestone": null, "updated_on": "2019-06-03T03:56:48.855026+00:00", "type": "issue", "id": 28}