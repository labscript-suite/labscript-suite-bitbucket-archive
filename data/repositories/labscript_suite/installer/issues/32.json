{"priority": "major", "kind": "task", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/installer.json"}, "html": {"href": "#!/labscript_suite/installer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{65cd9685-3e8c-4275-9b89-1a7873b341d0}ts=python"}}, "type": "repository", "name": "installer", "full_name": "labscript_suite/installer", "uuid": "{65cd9685-3e8c-4275-9b89-1a7873b341d0}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/installer/issues/32/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/installer/issues/32.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/issues/32/watch"}, "comments": {"href": "data/repositories/labscript_suite/installer/issues/32/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/installer/issues/32/tasks-relating-to-leaving-bitbucket"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/issues/32/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}, "title": "Tasks relating to leaving BitBucket hosting", "component": null, "votes": 0, "watches": 2, "content": {"raw": "**Please note: General discussion on the migration should be kept on the mailing list \\(see** [**here**](https://groups.google.com/forum/#!topic/labscriptsuite/-lpbHNN1h5I)**\\). This issue is for keeping track of the tasks and our progress.**\r\n\r\nRegardless of the final decision we make on a destination \\(the favourite currently being GitHub\\), there are some things we need to do before we migrate repositories away from BitBucket \\(forced on us due to the removal of mercurial support\\). This issue should be used to keep track of them \\(feel free to add more as we determine what they are\\).\r\n\r\nThese are:\r\n\r\n* Triage/merge all pull requests\r\n* Look at the public forks of each component and import them into the new hosting \\(this will help preserve the history of pull requests, particularly those that were **declined** or that we decline on BitBucket now because solving the remaining issue is too time consuming at the moment, but we might want to restart the pull request later\\).\r\n* Implement issue #31\r\n* import repositories to new host\r\n* Export/backup whatever we can from Bitbucket \\(issues, pull requests, etc\\) before it is deleted on 31st May 2020\r\n* Consider improving the Bitbucket \u2192 GitHub issue importer\r\n\r\n    * I think we should be able to provide a list of access tokens for many users, so that comments are correctly attributed to most authors.\r\n    * Consider finding/replacing changeset links in issue comments\r\n    * Consider matching and updating links to issues in other repositories\r\n    * Handle mismatch to pull request numbers\r\n    * We could in theory consider doing something similar for Pull Requests\u2026make fake pull requests \\(and decline them\\) so that we get the pull request history into GitHub \\(requires us to figure out how to scrape it from Bitbucket though.\r\n    \r\n* Import issues to GitHub\r\n* Put up Git placeholder repos in all existing Bitbucket repository locations we control, pointing people to the new location \\(this is so people reading out theses/papers can \u2018easily\u2019 find the new code location\\)\r\n\r\n\u200c\r\n\r\nThings to figure out on GitHub \\(assuming we move there\\):\r\n\r\n* How GitHub organisations work \\(so that all labscript suite repositories are contained together\\)\r\n\r\n    * On BitBucket we have a labscript\\_suite team with subprojects under that for the labscript suite and for hardware devices. The former should map to organisations I think, but I haven\u2019t checked how to group repositories within an organisation yet.\r\n    \r\n* Do some tests on the fork/pull request workflow so we get the hang of it and can update instructions accordingly\r\n* The use of GitHub pages \\(possibly for hosting a static HTML repository of the old Bitbucket pull requests\\)\r\n* Integration with readthedocs", "markup": "markdown", "html": "<p><strong>Please note: General discussion on the migration should be kept on the mailing list (see</strong> <a data-is-external-link=\"true\" href=\"https://groups.google.com/forum/#!topic/labscriptsuite/-lpbHNN1h5I\" rel=\"nofollow\"><strong>here</strong></a><strong>). This issue is for keeping track of the tasks and our progress.</strong></p>\n<p>Regardless of the final decision we make on a destination (the favourite currently being GitHub), there are some things we need to do before we migrate repositories away from BitBucket (forced on us due to the removal of mercurial support). This issue should be used to keep track of them (feel free to add more as we determine what they are).</p>\n<p>These are:</p>\n<ul>\n<li>Triage/merge all pull requests</li>\n<li>Look at the public forks of each component and import them into the new hosting (this will help preserve the history of pull requests, particularly those that were <strong>declined</strong> or that we decline on BitBucket now because solving the remaining issue is too time consuming at the moment, but we might want to restart the pull request later).</li>\n<li>Implement issue <a href=\"#!/labscript_suite/installer/issues/31/tasks-required-before-moving-to-standard\" rel=\"nofollow\" title=\"Tasks required before moving to standard Python packages\" class=\"ap-connect-link\">#31</a></li>\n<li>import repositories to new host</li>\n<li>Export/backup whatever we can from Bitbucket (issues, pull requests, etc) before it is deleted on 31st May 2020</li>\n<li>\n<p>Consider improving the Bitbucket \u2192 GitHub issue importer</p>\n<ul>\n<li>I think we should be able to provide a list of access tokens for many users, so that comments are correctly attributed to most authors.</li>\n<li>Consider finding/replacing changeset links in issue comments</li>\n<li>Consider matching and updating links to issues in other repositories</li>\n<li>Handle mismatch to pull request numbers</li>\n<li>We could in theory consider doing something similar for Pull Requests\u2026make fake pull requests (and decline them) so that we get the pull request history into GitHub (requires us to figure out how to scrape it from Bitbucket though.</li>\n</ul>\n</li>\n<li>\n<p>Import issues to GitHub</p>\n</li>\n<li>Put up Git placeholder repos in all existing Bitbucket repository locations we control, pointing people to the new location (this is so people reading out theses/papers can \u2018easily\u2019 find the new code location)</li>\n</ul>\n<p>\u200c</p>\n<p>Things to figure out on GitHub (assuming we move there):</p>\n<ul>\n<li>\n<p>How GitHub organisations work (so that all labscript suite repositories are contained together)</p>\n<ul>\n<li>On BitBucket we have a labscript_suite team with subprojects under that for the labscript suite and for hardware devices. The former should map to organisations I think, but I haven\u2019t checked how to group repositories within an organisation yet.</li>\n</ul>\n</li>\n<li>\n<p>Do some tests on the fork/pull request workflow so we get the hang of it and can update instructions accordingly</p>\n</li>\n<li>The use of GitHub pages (possibly for hosting a static HTML repository of the old Bitbucket pull requests)</li>\n<li>Integration with readthedocs</li>\n</ul>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2019-08-28T13:35:12.164620+00:00", "milestone": null, "updated_on": "2019-11-07T14:01:37.851796+00:00", "type": "issue", "id": 32}