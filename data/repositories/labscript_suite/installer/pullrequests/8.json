{"rendered": {"description": {"raw": "Latest anaconda breaks our installer by removing the CONDA_PYTHON_EXE environment variable.\r\n\r\nThis PR modifies our installer to use CONDA_EXE instead. This variable exists in previous anacondas too, so is backward compatible back to at least version 4.4, which the installer checks the currently running version is at least as high as.\r\n\r\nRejig the version check to call conda and ask for the version rather than assuming it based on environment variables.\r\n\r\nWe previously used CONDA_PYTHON_EXE to determine the location of pythonw.exe\r\nand cwp.py. But it was removed in conda 4.6.11. Now we find pythonw.exe and\r\ncwp.py as relative paths to CONDA_EXE, which points to a known path in\r\nthe root environment.\r\n\r\nAssumptions are made in either case about where things are located within the\r\nanaconda directory, but this cannot be helped since there is no way to know\r\nwhere these scripts and executables are in any canonical way at the moment.", "markup": "markdown", "html": "<p>Latest anaconda breaks our installer by removing the CONDA_PYTHON_EXE environment variable.</p>\n<p>This PR modifies our installer to use CONDA_EXE instead. This variable exists in previous anacondas too, so is backward compatible back to at least version 4.4, which the installer checks the currently running version is at least as high as.</p>\n<p>Rejig the version check to call conda and ask for the version rather than assuming it based on environment variables.</p>\n<p>We previously used CONDA_PYTHON_EXE to determine the location of pythonw.exe\nand cwp.py. But it was removed in conda 4.6.11. Now we find pythonw.exe and\ncwp.py as relative paths to CONDA_EXE, which points to a known path in\nthe root environment.</p>\n<p>Assumptions are made in either case about where things are located within the\nanaconda directory, but this cannot be helped since there is no way to know\nwhere these scripts and executables are in any canonical way at the moment.</p>", "type": "rendered"}, "title": {"raw": "In conda 4.6.11, CONDA_PYTHON_EXE does not exist. Modify to use CONDA_EXE instead.", "markup": "markdown", "html": "<p>In conda 4.6.11, CONDA_PYTHON_EXE does not exist. Modify to use CONDA_EXE instead.</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Latest anaconda breaks our installer by removing the CONDA_PYTHON_EXE environment variable.\r\n\r\nThis PR modifies our installer to use CONDA_EXE instead. This variable exists in previous anacondas too, so is backward compatible back to at least version 4.4, which the installer checks the currently running version is at least as high as.\r\n\r\nRejig the version check to call conda and ask for the version rather than assuming it based on environment variables.\r\n\r\nWe previously used CONDA_PYTHON_EXE to determine the location of pythonw.exe\r\nand cwp.py. But it was removed in conda 4.6.11. Now we find pythonw.exe and\r\ncwp.py as relative paths to CONDA_EXE, which points to a known path in\r\nthe root environment.\r\n\r\nAssumptions are made in either case about where things are located within the\r\nanaconda directory, but this cannot be helped since there is no way to know\r\nwhere these scripts and executables are in any canonical way at the moment.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/pullrequests/8/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/diffstat/labscript_suite/installer:eabb298e4d97%0D803aad2fb508?from_pullrequest_id=8"}, "commits": {"href": "data/repositories/labscript_suite/installer/pullrequests/8/commits.json"}, "self": {"href": "data/repositories/labscript_suite/installer/pullrequests/8.json"}, "comments": {"href": "data/repositories/labscript_suite/installer/pullrequests/8/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/pullrequests/8/merge"}, "html": {"href": "#!/labscript_suite/installer/pull-requests/8"}, "activity": {"href": "data/repositories/labscript_suite/installer/pullrequests/8/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/diff/labscript_suite/installer:eabb298e4d97%0D803aad2fb508?from_pullrequest_id=8"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/installer/pullrequests/8/approve"}, "statuses": {"href": "data/repositories/labscript_suite/installer/pullrequests/8/statuses_page=1.json"}}, "title": "In conda 4.6.11, CONDA_PYTHON_EXE does not exist. Modify to use CONDA_EXE instead.", "close_source_branch": false, "reviewers": [{"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}], "id": 8, "destination": {"commit": {"hash": "803aad2fb508", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/installer/commit/803aad2fb508.json"}, "html": {"href": "#!/labscript_suite/installer/commits/803aad2fb508"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/installer.json"}, "html": {"href": "#!/labscript_suite/installer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{65cd9685-3e8c-4275-9b89-1a7873b341d0}ts=python"}}, "type": "repository", "name": "installer", "full_name": "labscript_suite/installer", "uuid": "{65cd9685-3e8c-4275-9b89-1a7873b341d0}"}, "branch": {"name": "default"}}, "created_on": "2019-04-09T19:40:38.581691+00:00", "summary": {"raw": "Latest anaconda breaks our installer by removing the CONDA_PYTHON_EXE environment variable.\r\n\r\nThis PR modifies our installer to use CONDA_EXE instead. This variable exists in previous anacondas too, so is backward compatible back to at least version 4.4, which the installer checks the currently running version is at least as high as.\r\n\r\nRejig the version check to call conda and ask for the version rather than assuming it based on environment variables.\r\n\r\nWe previously used CONDA_PYTHON_EXE to determine the location of pythonw.exe\r\nand cwp.py. But it was removed in conda 4.6.11. Now we find pythonw.exe and\r\ncwp.py as relative paths to CONDA_EXE, which points to a known path in\r\nthe root environment.\r\n\r\nAssumptions are made in either case about where things are located within the\r\nanaconda directory, but this cannot be helped since there is no way to know\r\nwhere these scripts and executables are in any canonical way at the moment.", "markup": "markdown", "html": "<p>Latest anaconda breaks our installer by removing the CONDA_PYTHON_EXE environment variable.</p>\n<p>This PR modifies our installer to use CONDA_EXE instead. This variable exists in previous anacondas too, so is backward compatible back to at least version 4.4, which the installer checks the currently running version is at least as high as.</p>\n<p>Rejig the version check to call conda and ask for the version rather than assuming it based on environment variables.</p>\n<p>We previously used CONDA_PYTHON_EXE to determine the location of pythonw.exe\nand cwp.py. But it was removed in conda 4.6.11. Now we find pythonw.exe and\ncwp.py as relative paths to CONDA_EXE, which points to a known path in\nthe root environment.</p>\n<p>Assumptions are made in either case about where things are located within the\nanaconda directory, but this cannot be helped since there is no way to know\nwhere these scripts and executables are in any canonical way at the moment.</p>", "type": "rendered"}, "source": {"commit": {"hash": "eabb298e4d97", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/installer/commit/eabb298e4d97"}, "html": {"href": "#!/cbillington/installer/commits/eabb298e4d97"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/installer"}, "html": {"href": "#!/cbillington/installer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{118b5a64-37e9-45aa-ae3b-cebb86a6d278}ts=python"}}, "type": "repository", "name": "installer", "full_name": "cbillington/installer", "uuid": "{118b5a64-37e9-45aa-ae3b-cebb86a6d278}"}, "branch": {"name": "default"}}, "comment_count": 4, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}, {"role": "PARTICIPANT", "participated_on": "2019-04-10T00:46:28.289517+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "PARTICIPANT", "participated_on": "2019-04-10T02:34:54.493097+00:00", "type": "participant", "approved": true, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}], "reason": "", "updated_on": "2019-04-10T03:37:30.974334+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "eabb298e4d97", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/installer/commit/eabb298e4d97.json"}, "html": {"href": "#!/labscript_suite/installer/commits/eabb298e4d97"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}