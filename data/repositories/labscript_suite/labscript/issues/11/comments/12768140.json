{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/11/comments/12768140.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/11#comment-12768140"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/11.json"}}, "type": "issue", "id": 11, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Globals and devices should be in modules, not builtins: `shot_globals` and `shot_devices`"}, "content": {"raw": "I've been wondering whether we should have the user explicitly call `labscript_init(h5_file)` in labscript code, and have the only magical thing runmanger does be inserting that h5_file varialble into the namespace, kinda like how lyse does it.\n\nThis would make it once again symmetric between compiling shots standalone and from runmanager, and would define which module gets the globals: instantiating a device puts it into your global namespace, calling `labscript_init()` puts globals in your global namespace. I'll report this as another issue, it has advantages of its own.", "markup": "markdown", "html": "<p>I've been wondering whether we should have the user explicitly call <code>labscript_init(h5_file)</code> in labscript code, and have the only magical thing runmanger does be inserting that h5_file varialble into the namespace, kinda like how lyse does it.</p>\n<p>This would make it once again symmetric between compiling shots standalone and from runmanager, and would define which module gets the globals: instantiating a device puts it into your global namespace, calling <code>labscript_init()</code> puts globals in your global namespace. I'll report this as another issue, it has advantages of its own.</p>", "type": "rendered"}, "created_on": "2014-10-04T03:52:38.825205+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2014-10-04T03:53:20.037283+00:00", "type": "issue_comment", "id": 12768140}