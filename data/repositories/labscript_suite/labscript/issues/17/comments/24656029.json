{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/17/comments/24656029.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/17#comment-24656029"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/17.json"}}, "type": "issue", "id": 17, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "While setting values for the NI PCI 6733 DAQ..."}, "content": {"raw": "Hi Jesse,\n\nGlad it is fixed!\n\nFor future reference on decoding the BLACS exceptions: In the error above there are two exceptions raised. The first was from PyDAQmx:\n>DAQError: Finite acquisition or generation has been stopped before the requested number of samples were acquired or generated.\n\nThis then causes the second exception:\n> Exception: Could not transition to manual. You must restart this device to continue\n\nWhat this tells us is that PyDAQmx had an exception during the BLACS mode of \"transition_to_manual\". BLACS has 4 modes; manual, transition_to_buffered, buffered and transition_to_manual. BLACS moves each device tab through these modes as it prepares and finishes running an experiment. Tabs are in manual mode when you are not running a shot, buffered mode when they are in the middle of a shot and the transition modes to prepare and finalise the shot.\n\nIn this case, the NI card reported that it had not generated all of it's programmed samples by the time the experiment shot was finished. As you found out, that was because the clock line was not connected!\n\nLet us know if you have any further issues!", "markup": "markdown", "html": "<p>Hi Jesse,</p>\n<p>Glad it is fixed!</p>\n<p>For future reference on decoding the BLACS exceptions: In the error above there are two exceptions raised. The first was from PyDAQmx:</p>\n<blockquote>\n<p>DAQError: Finite acquisition or generation has been stopped before the requested number of samples were acquired or generated.</p>\n</blockquote>\n<p>This then causes the second exception:</p>\n<blockquote>\n<p>Exception: Could not transition to manual. You must restart this device to continue</p>\n</blockquote>\n<p>What this tells us is that PyDAQmx had an exception during the BLACS mode of \"transition_to_manual\". BLACS has 4 modes; manual, transition_to_buffered, buffered and transition_to_manual. BLACS moves each device tab through these modes as it prepares and finishes running an experiment. Tabs are in manual mode when you are not running a shot, buffered mode when they are in the middle of a shot and the transition modes to prepare and finalise the shot.</p>\n<p>In this case, the NI card reported that it had not generated all of it's programmed samples by the time the experiment shot was finished. As you found out, that was because the clock line was not connected!</p>\n<p>Let us know if you have any further issues!</p>", "type": "rendered"}, "created_on": "2016-01-12T22:23:34.926113+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 24656029}