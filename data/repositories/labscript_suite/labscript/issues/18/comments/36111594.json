{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18/comments/36111594.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/18#comment-36111594"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18.json"}}, "type": "issue", "id": 18, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Execution of small or time-critical analysis scripts as part of running shot"}, "content": {"raw": "Hi Ian, \n\nIn general I support this proposal. I think this sort of framework may come in handy once we rewrite BIAS in Python (which I hope will be able to be implemented as a remote BLACS tab)\n\nI do have a couple of questions about the details of the proposal:\n\n1. Would making a BLACS tab run a single-shot lyse script solve the same problem? I believe lyse scripts can be run without the lyse GUI, as long as the path to the h5 file is passed in. I guess the concern is if doing this would be slow? But if it's feasible, I think it would be better than having 2 distinct ways of making analysis scripts (and also means you automatically get access to the lyse API for accessing the h5 file, which I think is a big plus).\n\n2. Is there a reason for defining this in the labscript experiment logic file? I'm not necessarily opposed to it, but as a contrasting example, we don't define the lyse analysis scripts to run on a shot from within the labscript file (even though we could). Since it's a break from the current design philosophy (only things that effect the shot, should be defined in the experiment logic), I think it would be prudent to discuss this in detail. \n\nI think it would also be good for us to flesh out how we ensure h5 files remain a complete record of the experiment given that conceivably results of analysis will effect either the current shot or the next (or subsequent) shot(s). If the change is just through runmanager globals, I think everything will be fine, but if there are other mechanisms (which I think ChrisB was discussing with me once?) then we should decide on a standard way to record this so the shots are as reproducible as possible.", "markup": "markdown", "html": "<p>Hi Ian, </p>\n<p>In general I support this proposal. I think this sort of framework may come in handy once we rewrite BIAS in Python (which I hope will be able to be implemented as a remote BLACS tab)</p>\n<p>I do have a couple of questions about the details of the proposal:</p>\n<ol>\n<li>\n<p>Would making a BLACS tab run a single-shot lyse script solve the same problem? I believe lyse scripts can be run without the lyse GUI, as long as the path to the h5 file is passed in. I guess the concern is if doing this would be slow? But if it's feasible, I think it would be better than having 2 distinct ways of making analysis scripts (and also means you automatically get access to the lyse API for accessing the h5 file, which I think is a big plus).</p>\n</li>\n<li>\n<p>Is there a reason for defining this in the labscript experiment logic file? I'm not necessarily opposed to it, but as a contrasting example, we don't define the lyse analysis scripts to run on a shot from within the labscript file (even though we could). Since it's a break from the current design philosophy (only things that effect the shot, should be defined in the experiment logic), I think it would be prudent to discuss this in detail. </p>\n</li>\n</ol>\n<p>I think it would also be good for us to flesh out how we ensure h5 files remain a complete record of the experiment given that conceivably results of analysis will effect either the current shot or the next (or subsequent) shot(s). If the change is just through runmanager globals, I think everything will be fine, but if there are other mechanisms (which I think ChrisB was discussing with me once?) then we should decide on a standard way to record this so the shots are as reproducible as possible.</p>", "type": "rendered"}, "created_on": "2017-04-21T00:15:31.425480+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 36111594}