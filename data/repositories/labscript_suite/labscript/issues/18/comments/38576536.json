{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18/comments/38576536.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/18#comment-38576536"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18.json"}}, "type": "issue", "id": 18, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Execution of small or time-critical analysis scripts as part of running shot"}, "content": {"raw": "Pull request #12 has been backed out due to regressions, so we'll think of a different way to do that! \n\nBasically the transision order needs to be defined only for Devices that are actually are programmed by BLACS, which in labscript are identified by having a BLACS_connection attribute. But inspecting that attribute isn't very compatible with using set_passed_properties. I think in labscript 3, BLACS programmable devices will be identified possibly by inheriting from a [mixin](https://en.wikipedia.org/wiki/Mixin) that adds the desired properties, but I'm happy for something hackier in the meantime.\n\nOne quick fix could be to make the transition order a connection table property instead of a device property - this would make BLACS not see a device group for the device and so would ignore it. It is still kinda silly though for devices that are not being transitioned to buffered mode to even have the attribute though. And that way it wouldn't be able to vary on a per-shot basis.", "markup": "markdown", "html": "<p><a href=\"#!/labscript_suite/labscript/pull-requests/12/provides-start_order-and-stop_order-as-per\" rel=\"nofollow\" class=\"ap-connect-link\">Pull request #12</a> has been backed out due to regressions, so we'll think of a different way to do that! </p>\n<p>Basically the transision order needs to be defined only for Devices that are actually are programmed by BLACS, which in labscript are identified by having a BLACS_connection attribute. But inspecting that attribute isn't very compatible with using set_passed_properties. I think in labscript 3, BLACS programmable devices will be identified possibly by inheriting from a <a data-is-external-link=\"true\" href=\"https://en.wikipedia.org/wiki/Mixin\" rel=\"nofollow\">mixin</a> that adds the desired properties, but I'm happy for something hackier in the meantime.</p>\n<p>One quick fix could be to make the transition order a connection table property instead of a device property - this would make BLACS not see a device group for the device and so would ignore it. It is still kinda silly though for devices that are not being transitioned to buffered mode to even have the attribute though. And that way it wouldn't be able to vary on a per-shot basis.</p>", "type": "rendered"}, "created_on": "2017-07-26T20:01:19.918340+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 38576536}