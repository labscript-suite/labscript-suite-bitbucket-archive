{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18/comments/47179724.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/18#comment-47179724"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/18.json"}}, "type": "issue", "id": 18, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Execution of small or time-critical analysis scripts as part of running shot"}, "content": {"raw": "I have been thinking about persistent variables that you want to retain from shot to shot, and I have a different suggestion than the above.  I suggest a mechanism whereby there is a provided function such as:\n\n    SetPersistentVariable(name, value)\n\nwhere these persistent variables are in reality stored in the next h5 file in the device group for this specific device and the function\n\n    var = GetPersistantVariable(h5file, name)\n\nwill get that specific persistent variable from the current h5 file.   I guess this could equally well be done using the future ability to updated globals to runmanager, in which case the GetPersistantVariable function is not needed.\n\nThis suggests a useful syntax would be:\n\n    SetRunMangerVariable(name, value)\n\n\nMy reasoning for this suggestion is that it is preferable that this state information be retained in the history of shot files.", "markup": "markdown", "html": "<p>I have been thinking about persistent variables that you want to retain from shot to shot, and I have a different suggestion than the above.  I suggest a mechanism whereby there is a provided function such as:</p>\n<div class=\"codehilite\"><pre><span></span>SetPersistentVariable(name, value)\n</pre></div>\n\n\n<p>where these persistent variables are in reality stored in the next h5 file in the device group for this specific device and the function</p>\n<div class=\"codehilite\"><pre><span></span>var = GetPersistantVariable(h5file, name)\n</pre></div>\n\n\n<p>will get that specific persistent variable from the current h5 file.   I guess this could equally well be done using the future ability to updated globals to runmanager, in which case the GetPersistantVariable function is not needed.</p>\n<p>This suggests a useful syntax would be:</p>\n<div class=\"codehilite\"><pre><span></span>SetRunMangerVariable(name, value)\n</pre></div>\n\n\n<p>My reasoning for this suggestion is that it is preferable that this state information be retained in the history of shot files.</p>", "type": "rendered"}, "created_on": "2018-08-08T19:03:18.814723+00:00", "user": {"display_name": "Ian B. Spielman", "uuid": "{bff0d3df-2ed5-4ff6-b13d-ce6cd935edb1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D"}, "html": {"href": "https://bitbucket.org/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/54beee087619e1a612011791e203f277d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIS-0.png"}}, "nickname": "Ian Spielman", "type": "user", "account_id": "557058:b0e98d01-12e7-4a9d-a274-a195def255d2"}, "updated_on": "2018-08-08T19:07:50.167790+00:00", "type": "issue_comment", "id": 47179724}