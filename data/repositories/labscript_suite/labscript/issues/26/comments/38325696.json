{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26/comments/38325696.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/26#comment-38325696"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26.json"}}, "type": "issue", "id": 26, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Port to pyqt5 and python3."}, "content": {"raw": "There is a lot of code in BLACS for PySide, I think it would be a pain to remove and then re-add. Although there is then the consideration of supporting PySide v2 (which I think supports Python 3 but is still in beta?) which potentially complicates things\n\nqtutils should definitely keep PySide support since it is a standalone project to the labscript suite and may be used by other software (I use it in a few private projects, and it's on PyPi and I've spruiked it a few times on stackoverflow, so who knows who else might be using it).\n\nI guess it's an open question as to whether we maintain PySide support (the license is nicer but it has more bugs)\n\nI think, given this, that the best solution might be to ensure that the qtutils update can abstract away all of the PySide things we currently do in our software. That should come first. Then port the labscript suite to use the new qtutils, during which we remove all the toolkit specific hacks (since they should now live in qtutils).\n\n--------\nUPDATE\n\nI forgot to include the change to API v2 for PyQt in the suggested timeline. Since PyQt API v2 is closer to PySide than PyQt API v1, I think you'll actually find it easier to leave the PySide code in. Most of the hacks are actually probably working around the fact that we initially built for PySide, and then moved to PyQt API v1, so you'll probably find a lot of code ends up matching the PySide version and then you can remove the check in that part of the code that swaps between PySide/PyQt (hopefully that makes sense?)", "markup": "markdown", "html": "<p>There is a lot of code in BLACS for PySide, I think it would be a pain to remove and then re-add. Although there is then the consideration of supporting PySide v2 (which I think supports Python 3 but is still in beta?) which potentially complicates things</p>\n<p>qtutils should definitely keep PySide support since it is a standalone project to the labscript suite and may be used by other software (I use it in a few private projects, and it's on PyPi and I've spruiked it a few times on stackoverflow, so who knows who else might be using it).</p>\n<p>I guess it's an open question as to whether we maintain PySide support (the license is nicer but it has more bugs)</p>\n<p>I think, given this, that the best solution might be to ensure that the qtutils update can abstract away all of the PySide things we currently do in our software. That should come first. Then port the labscript suite to use the new qtutils, during which we remove all the toolkit specific hacks (since they should now live in qtutils).</p>\n<hr />\n<p>UPDATE</p>\n<p>I forgot to include the change to API v2 for PyQt in the suggested timeline. Since PyQt API v2 is closer to PySide than PyQt API v1, I think you'll actually find it easier to leave the PySide code in. Most of the hacks are actually probably working around the fact that we initially built for PySide, and then moved to PyQt API v1, so you'll probably find a lot of code ends up matching the PySide version and then you can remove the check in that part of the code that swaps between PySide/PyQt (hopefully that makes sense?)</p>", "type": "rendered"}, "created_on": "2017-07-19T10:37:04.749460+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-07-19T10:40:08.668302+00:00", "type": "issue_comment", "id": 38325696}