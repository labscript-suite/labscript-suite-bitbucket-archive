{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26/comments/38445251.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/26#comment-38445251"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26.json"}}, "type": "issue", "id": 26, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Port to pyqt5 and python3."}, "content": {"raw": "Just more comments about PEP8, there are active pull requests in labscript_devices as well as code in a fork of labscript_deivces yet to be merged that would be fairly severely inconvenienced by having to merge after PEP8 whitespace changes, so it might be a good idea to turn off the PEP8 autoformatting for at least labscript_utils.\n\nWe can slot in a PEP8 formatting of labscript_devices later when it has no unmerged code. \n\nAlso, whilst it's nice to have a one-off PEP8 reformatting for all the projects, unless we enforce and automate compliance with PEP8, there is going to be a lot of commit noise if say, person a) makes a non-pep8-compliant change and then say you make a change which makes their code PEP8 compliant. One-off autoformatting is fine because it shows up clearly in the commit history and you can just keep navigating back to see who wrote some line or whatever, but if it keeps happening it starts to be pretty detrimental to the mergability of unrelated pull requests and to inspecting history.\n\nSo once each project has had a round of PEP8 formatting, further auto PEP8 formatting might not be such a great idea, unless we start requiring all pull requests to respect PEP8. We might start doing that, but until we do, it might be a good idea to disable the sublime plugins's auto-pep8 formatting (I know it's an option to disable it).\n\nWhat I would really like to see is a plugin that auto-pep8-formats only the lines you've *modified*. That would be great - wouldn't interfere with existing code but would ensure all *new* code was formatted correctly. This is basically sublime's default behaviour when it comes to whitespace at the end of lines, would be nice to automatically apply it to other automatic formatting.\n\nAlso, beware of creating diffs that ignore whitespace changes, in order to create commits that lack the auto-pep8 formatting. Since some Python whitespace changes are actually syntactically significant, modifying your commits via a whitespace-ignoring diff can result in wrong code! I've been very confused by this before.\n\nBasically all this auto formatting stuff is a royal pain in the neck for collaborative projects, so even though I'm in favour of a unified code style and I use plugins like this myself in personal projects, I'd like to be pragmatic about it rather than too idealistic, at least until the idealism can be enforced automatically for everyone.", "markup": "markdown", "html": "<p>Just more comments about PEP8, there are active pull requests in labscript_devices as well as code in a fork of labscript_deivces yet to be merged that would be fairly severely inconvenienced by having to merge after PEP8 whitespace changes, so it might be a good idea to turn off the PEP8 autoformatting for at least labscript_utils.</p>\n<p>We can slot in a PEP8 formatting of labscript_devices later when it has no unmerged code. </p>\n<p>Also, whilst it's nice to have a one-off PEP8 reformatting for all the projects, unless we enforce and automate compliance with PEP8, there is going to be a lot of commit noise if say, person a) makes a non-pep8-compliant change and then say you make a change which makes their code PEP8 compliant. One-off autoformatting is fine because it shows up clearly in the commit history and you can just keep navigating back to see who wrote some line or whatever, but if it keeps happening it starts to be pretty detrimental to the mergability of unrelated pull requests and to inspecting history.</p>\n<p>So once each project has had a round of PEP8 formatting, further auto PEP8 formatting might not be such a great idea, unless we start requiring all pull requests to respect PEP8. We might start doing that, but until we do, it might be a good idea to disable the sublime plugins's auto-pep8 formatting (I know it's an option to disable it).</p>\n<p>What I would really like to see is a plugin that auto-pep8-formats only the lines you've <em>modified</em>. That would be great - wouldn't interfere with existing code but would ensure all <em>new</em> code was formatted correctly. This is basically sublime's default behaviour when it comes to whitespace at the end of lines, would be nice to automatically apply it to other automatic formatting.</p>\n<p>Also, beware of creating diffs that ignore whitespace changes, in order to create commits that lack the auto-pep8 formatting. Since some Python whitespace changes are actually syntactically significant, modifying your commits via a whitespace-ignoring diff can result in wrong code! I've been very confused by this before.</p>\n<p>Basically all this auto formatting stuff is a royal pain in the neck for collaborative projects, so even though I'm in favour of a unified code style and I use plugins like this myself in personal projects, I'd like to be pragmatic about it rather than too idealistic, at least until the idealism can be enforced automatically for everyone.</p>", "type": "rendered"}, "created_on": "2017-07-23T22:21:13.457731+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-07-23T22:23:01.126737+00:00", "type": "issue_comment", "id": 38445251}