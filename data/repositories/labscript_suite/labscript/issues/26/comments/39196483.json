{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26/comments/39196483.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/26#comment-39196483"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/26.json"}}, "type": "issue", "id": 26, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Port to pyqt5 and python3."}, "content": {"raw": "Ok so I played with Python 3 compatibility a bit: \n\nRunmanager works and compiles (my connection table) under python 3 now.\n\nLabscript still needs to switch the numpy array types to store unicode instead of bytes but that caused problems for me so I stuck to byte strings for now. Also there might be more problems when actually compiling scripts. I need to finish up labscript_devices to be sure.\n\nBLACS still needs a lot of work with all the unicode it doesn't even fully start up. Most of the unicode incompatibility is currently in connections.py but who knows what more there might be.\n\n~~labscript_devices is still a mess with all the ```print '.....'``` and ```exec '......' in globals()``` but I might go in there later today and at least fix up all of those and add future imports.~~\n\n\nHere are my branches:\n[runmanager](#!/PhyNerd/runmanager/branch/Python3#diff)\n\n[labscript](#!/PhyNerd/labscript/branch/Python3#diff)\n\n[labscript_utils](#!/PhyNerd/labscript_utils/branch/Python3#diff)\n\n[BLACS](#!/PhyNerd/blacs/branch/Python3#diff)\n\n[labscript_devices](#!/PhyNerd/labscript_devices/branch/Python3#diff)\n\n[runviewer](#!/PhyNerd/runviewer/branch/Python3#diff)\n\nI could really need some help with the BLACS (and maybe labscript) stuff as it's a real pain once one thing is fixed another breaks. I'd also be happy to grant anyone write access to these branches if they want to help make python 3 for labscript happen.\n\nAlso runviewer's resampler needs to be  ~~modified and~~ recompiled for python3 since [Py_InitModule3](http://python3porting.com/cextensions.html#module-initialization) doesn't exist in python3.", "markup": "markdown", "html": "<p>Ok so I played with Python 3 compatibility a bit: </p>\n<p>Runmanager works and compiles (my connection table) under python 3 now.</p>\n<p>Labscript still needs to switch the numpy array types to store unicode instead of bytes but that caused problems for me so I stuck to byte strings for now. Also there might be more problems when actually compiling scripts. I need to finish up labscript_devices to be sure.</p>\n<p>BLACS still needs a lot of work with all the unicode it doesn't even fully start up. Most of the unicode incompatibility is currently in connections.py but who knows what more there might be.</p>\n<p><del>labscript_devices is still a mess with all the <code>print '.....'</code> and <code>exec '......' in globals()</code> but I might go in there later today and at least fix up all of those and add future imports.</del></p>\n<p>Here are my branches:\n<a data-is-external-link=\"true\" href=\"#!/PhyNerd/runmanager/branch/Python3#diff\" rel=\"nofollow\">runmanager</a></p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/labscript/branch/Python3#diff\" rel=\"nofollow\">labscript</a></p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/labscript_utils/branch/Python3#diff\" rel=\"nofollow\">labscript_utils</a></p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/blacs/branch/Python3#diff\" rel=\"nofollow\">BLACS</a></p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/labscript_devices/branch/Python3#diff\" rel=\"nofollow\">labscript_devices</a></p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/runviewer/branch/Python3#diff\" rel=\"nofollow\">runviewer</a></p>\n<p>I could really need some help with the BLACS (and maybe labscript) stuff as it's a real pain once one thing is fixed another breaks. I'd also be happy to grant anyone write access to these branches if they want to help make python 3 for labscript happen.</p>\n<p>Also runviewer's resampler needs to be  <del>modified and</del> recompiled for python3 since <a data-is-external-link=\"true\" href=\"http://python3porting.com/cextensions.html#module-initialization\" rel=\"nofollow\">Py_InitModule3</a> doesn't exist in python3.</p>", "type": "rendered"}, "created_on": "2017-08-20T09:58:21.099654+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-20T14:54:09.443087+00:00", "type": "issue_comment", "id": 39196483}