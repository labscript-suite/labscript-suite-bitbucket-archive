{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/28/comments/37984007.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/28#comment-37984007"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/issues/28.json"}}, "type": "issue", "id": 28, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "title": "Remote launching of all Blacs devices"}, "content": {"raw": "Ok so I gave this a try and here is what I came up with:\n\n[Blacs Branch](#!/PhyNerd/blacs/branch/Remote-Worker)\n[Labscript Branch](#!/PhyNerd/labscript/branch/Remote-Workers)\n\nThe Code is tested and works, but there are still a few problems though, that I could need help with before creating a Pull Request:\n\n1. I was not able to extract the ports from zprocess without modifying it so I relay all messages over the WorkerServer. This might slow things down. Does anyone know how to solve this in a better way?\n\n2. BLACS loads for a long time if the WorkerServer is not running as it waits the timeout for each device. If you however chose the timeout to low BLACS will not wait until the Worker and relay Threads are created.\n\n3. Transition to buffered passes the local file path in relation to the BLACS system and the remote Worker expects a local path in relation to it's system. This is a problem if the shared drive has a different Path on both systems.\n\n4. Is there a better place than the ConnectionTable Properties to store worker_host?\n\n5. The Port is currently hardcoded should this move to the Connection Table(editable for each device) or LabConfig(one port for all devices and servers)?", "markup": "markdown", "html": "<p>Ok so I gave this a try and here is what I came up with:</p>\n<p><a data-is-external-link=\"true\" href=\"#!/PhyNerd/blacs/branch/Remote-Worker\" rel=\"nofollow\">Blacs Branch</a>\n<a data-is-external-link=\"true\" href=\"#!/PhyNerd/labscript/branch/Remote-Workers\" rel=\"nofollow\">Labscript Branch</a></p>\n<p>The Code is tested and works, but there are still a few problems though, that I could need help with before creating a Pull Request:</p>\n<ol>\n<li>\n<p>I was not able to extract the ports from zprocess without modifying it so I relay all messages over the WorkerServer. This might slow things down. Does anyone know how to solve this in a better way?</p>\n</li>\n<li>\n<p>BLACS loads for a long time if the WorkerServer is not running as it waits the timeout for each device. If you however chose the timeout to low BLACS will not wait until the Worker and relay Threads are created.</p>\n</li>\n<li>\n<p>Transition to buffered passes the local file path in relation to the BLACS system and the remote Worker expects a local path in relation to it's system. This is a problem if the shared drive has a different Path on both systems.</p>\n</li>\n<li>\n<p>Is there a better place than the ConnectionTable Properties to store worker_host?</p>\n</li>\n<li>\n<p>The Port is currently hardcoded should this move to the Connection Table(editable for each device) or LabConfig(one port for all devices and servers)?</p>\n</li>\n</ol>", "type": "rendered"}, "created_on": "2017-07-03T09:18:51.255902+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-07-05T19:51:44.349523+00:00", "type": "issue_comment", "id": 37984007}