{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/labscript/issues/48/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/labscript/issues/48.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/issues/48/watch"}, "comments": {"href": "data/repositories/labscript_suite/labscript/issues/48/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/48/make-wait-monitors-optional"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/issues/48/vote"}}, "reporter": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "title": "Make wait monitors optional", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Wait monitors are confusing, take up ports and have some bugs and limitations associated with them.\r\n\r\nIf people do not want to have waits automatically time-out, and if they are not using analog inputs that require wait duration information in order to be processed, then they shouldn't need to have a wait monitor in order to run a shot.\r\n\r\nBugs in NI DAQmx counter acquisition at UMD have caused issues that we have worked around by making the wait monitor pulses 100ms long (the counter on the NI DAQmx device in question has a very small buffer and so misses edges if they are too close together and are not read out by the software before more edges come). This has worked well enough, but now at NIST an experiment needs multiple waits closer together than 100ms. They aren't using timeouts or NI DAQmx analog inputs, so the wait monitor is nothing but a source of bugs for them.\r\n\r\nSo I'll likely make wait monitors optional, with errors being raised if you try to do analog input or specify a timeout to wait() without a wait monitor.", "markup": "markdown", "html": "<p>Wait monitors are confusing, take up ports and have some bugs and limitations associated with them.</p>\n<p>If people do not want to have waits automatically time-out, and if they are not using analog inputs that require wait duration information in order to be processed, then they shouldn't need to have a wait monitor in order to run a shot.</p>\n<p>Bugs in NI DAQmx counter acquisition at UMD have caused issues that we have worked around by making the wait monitor pulses 100ms long (the counter on the NI DAQmx device in question has a very small buffer and so misses edges if they are too close together and are not read out by the software before more edges come). This has worked well enough, but now at NIST an experiment needs multiple waits closer together than 100ms. They aren't using timeouts or NI DAQmx analog inputs, so the wait monitor is nothing but a source of bugs for them.</p>\n<p>So I'll likely make wait monitors optional, with errors being raised if you try to do analog input or specify a timeout to wait() without a wait monitor.</p>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-08-23T19:21:53.880127+00:00", "milestone": null, "updated_on": "2019-08-01T17:04:29.620568+00:00", "type": "issue", "id": 48}