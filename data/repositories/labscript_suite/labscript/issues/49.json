{"priority": "minor", "kind": "enhancement", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/labscript/issues/49/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/labscript/issues/49.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/issues/49/watch"}, "comments": {"href": "data/repositories/labscript_suite/labscript/issues/49/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/labscript/issues/49/allow-the-set_passed_properties-decorator"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/issues/49/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "Allow the set_passed_properties decorator to be used on labscript objects that do not have an entry in the device group", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Currently, the `set_passed_properties` decorator is not supported for use on things like `Output` objects because we do not expect to create a device group for things other than devices with a BLACS connection.\r\n\r\nCurrently I think the behaviour actually forces the creation of device groups if you use the decorator on things like outputs, which is bad because BLACS assumes that every entry in the devices group is a real device it can communicate with via a BLACS_connection (hence why we had to role back a commit a while ago that inadvertently did something like this).\r\n\r\nThere are various ways to fix this, for example changing the way that BLACS determines which devices are in use. However, I also think that polluting the devices group with an entry per-channel is probably bad. So maybe we should save a special attribute in the device group for the parent, that contains JSON (aka a dictionary) of the properties of child objects like outputs and inputs.\r\n\r\nAnyway, mainly I'm logging this so we don't forget about it, not because I need the feature right now or because I have a particular solution in mind.", "markup": "markdown", "html": "<p>Currently, the <code>set_passed_properties</code> decorator is not supported for use on things like <code>Output</code> objects because we do not expect to create a device group for things other than devices with a BLACS connection.</p>\n<p>Currently I think the behaviour actually forces the creation of device groups if you use the decorator on things like outputs, which is bad because BLACS assumes that every entry in the devices group is a real device it can communicate with via a BLACS_connection (hence why we had to role back a commit a while ago that inadvertently did something like this).</p>\n<p>There are various ways to fix this, for example changing the way that BLACS determines which devices are in use. However, I also think that polluting the devices group with an entry per-channel is probably bad. So maybe we should save a special attribute in the device group for the parent, that contains JSON (aka a dictionary) of the properties of child objects like outputs and inputs.</p>\n<p>Anyway, mainly I'm logging this so we don't forget about it, not because I need the feature right now or because I have a particular solution in mind.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-10-17T01:00:09.661175+00:00", "milestone": null, "updated_on": "2018-10-17T01:00:09.661175+00:00", "type": "issue", "id": 49}