{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/11/comments/39234751.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/11/_/diff#comment-39234751"}}, "parent": {"id": 39234034, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/11/comments/39234034.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/11/_/diff#comment-39234034"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 11, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/11.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/11"}}, "title": "Added the ability to split ramps."}, "content": {"raw": "I think this is pretty easy to do. We should quantise the times at the end of `Pseudoclock.collect_change_times`, which is after all of the offsets have been taken into account. \n\nI think we should round to the nearest integer multiple of `clock_resolution`, but demand that triggers be `2*clock_resolution` longer than they are now just in case it rounds both start and end points in the direct that makes the trigger shorter.\n\nI don't think that will introduce any issues, but keen for your input to see if I've missed something. We should probably open an issue regarding this so we don't clutter this pull request up.", "markup": "markdown", "html": "<p>I think this is pretty easy to do. We should quantise the times at the end of <code>Pseudoclock.collect_change_times</code>, which is after all of the offsets have been taken into account. </p>\n<p>I think we should round to the nearest integer multiple of <code>clock_resolution</code>, but demand that triggers be <code>2*clock_resolution</code> longer than they are now just in case it rounds both start and end points in the direct that makes the trigger shorter.</p>\n<p>I don't think that will introduce any issues, but keen for your input to see if I've missed something. We should probably open an issue regarding this so we don't clutter this pull request up.</p>", "type": "rendered"}, "created_on": "2017-06-21T03:39:40.691150+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-06-21T03:39:40.693603+00:00", "type": "pullrequest_comment", "id": 39234751}