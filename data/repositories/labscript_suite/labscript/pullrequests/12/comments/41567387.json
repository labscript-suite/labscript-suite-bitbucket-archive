{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/12/comments/41567387.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/12/_/diff#comment-41567387"}}, "parent": {"id": 41565323, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/12/comments/41565323.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/12/_/diff#comment-41565323"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 12, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/12.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/12"}}, "title": "Provides start_order and stop_order as per Issue #18."}, "content": {"raw": "There was no trace back it just said:\n\nERROR BLACS.queue_manager.thread: Exception while transitioning A1_Clockline to buffered mode. Exception was: u'A1_clockline'\n\nAs we are currently not using BLACS that often (we are restructuring the experiment) I was on my way out when the guys in the lab found this error so I didn't do much investigating. But any ideas on where I could look tomorrow?\n\n\nUpdate: Ok so I looked at the BLACS code an think I found the problem (just looking at the code no testing). In queue.py there are [lines 550-553](#!/labscript_suite/blacs/src/f8a0c186837ae09abdb39f356416cfa94d451d4c/queue.py?at=default&fileviewer=file-view-default#queue.py-550) iterating all devices in the hdf5 file in the devices category. Then each of them is supposed to transition to buffered calling self.transition_device_to_buffered() which internally trys to get the tab from the tab list. however Clocklines, Shutter,... don't have tabs. The tabs are created in main.py where there is a iteration over self.connection_table.get_attached_devices(). \n\nCould that cause the problem I'm seeing or am I totally in the wrong here?", "markup": "markdown", "html": "<p>There was no trace back it just said:</p>\n<p>ERROR BLACS.queue_manager.thread: Exception while transitioning A1_Clockline to buffered mode. Exception was: u'A1_clockline'</p>\n<p>As we are currently not using BLACS that often (we are restructuring the experiment) I was on my way out when the guys in the lab found this error so I didn't do much investigating. But any ideas on where I could look tomorrow?</p>\n<p>Update: Ok so I looked at the BLACS code an think I found the problem (just looking at the code no testing). In queue.py there are <a data-is-external-link=\"true\" href=\"#!/labscript_suite/blacs/src/f8a0c186837ae09abdb39f356416cfa94d451d4c/queue.py?at=default&amp;fileviewer=file-view-default#queue.py-550\" rel=\"nofollow\">lines 550-553</a> iterating all devices in the hdf5 file in the devices category. Then each of them is supposed to transition to buffered calling self.transition_device_to_buffered() which internally trys to get the tab from the tab list. however Clocklines, Shutter,... don't have tabs. The tabs are created in main.py where there is a iteration over self.connection_table.get_attached_devices(). </p>\n<p>Could that cause the problem I'm seeing or am I totally in the wrong here?</p>", "type": "rendered"}, "created_on": "2017-07-26T17:44:43.516799+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-07-26T19:35:50.433928+00:00", "type": "pullrequest_comment", "id": 41567387}