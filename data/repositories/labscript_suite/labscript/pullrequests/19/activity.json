{"pagelen": 50, "values": [{"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "deb8e2b499cc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/deb8e2b499cc.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/deb8e2b499cc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "758d760aac43", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/758d760aac43"}, "html": {"href": "#!/PhyNerd/labscript/commits/758d760aac43"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "MERGED", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-01-22T06:03:41.135881+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"approval": {"date": "2018-01-22T06:03:27.811621+00:00", "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/46689348.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-46689348"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "Any progress on the testing of this? In our lab this hasn't caused any trouble till now.", "markup": "markdown", "html": "<p>Any progress on the testing of this? In our lab this hasn't caused any trouble till now.</p>", "type": "rendered"}, "created_on": "2017-10-09T10:01:30.698070+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-10-09T10:01:30.750648+00:00", "type": "pullrequest_comment", "id": 46689348}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/44402333.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-44402333"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "@shjohnst Did you ever get around to testing this?", "markup": "markdown", "html": "<p>@shjohnst Did you ever get around to testing this?</p>", "type": "rendered"}, "created_on": "2017-09-07T02:02:02.116366+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-09-07T02:02:02.127365+00:00", "type": "pullrequest_comment", "id": 44402333}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "2dd1d808c449", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/2dd1d808c449.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/2dd1d808c449"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "758d760aac43", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/758d760aac43"}, "html": {"href": "#!/PhyNerd/labscript/commits/758d760aac43"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-08-07T23:19:40.854112+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42261456.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42261456"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "@shjohnst Could you pull this into our working experiment to verify it doesn't have any adverse effects?", "markup": "markdown", "html": "<p>@shjohnst Could you pull this into our working experiment to verify it doesn't have any adverse effects?</p>", "type": "rendered"}, "created_on": "2017-08-07T06:30:47.064940+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-08-07T06:30:47.074632+00:00", "type": "pullrequest_comment", "id": 42261456}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "2dd1d808c449", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/2dd1d808c449.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/2dd1d808c449"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c982b791631e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/c982b791631e"}, "html": {"href": "#!/PhyNerd/labscript/commits/c982b791631e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-08-07T06:29:24.859412+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42261274.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42261274"}}, "parent": {"id": 42260979, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260979.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260979"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "Mh I think there should be a UI option somewhere in runmanager for this just a checkbox or something. As this allows for quick enable/disable.\n\noh sure xD\nSometimes I overlook these types of things will change right away.", "markup": "markdown", "html": "<p>Mh I think there should be a UI option somewhere in runmanager for this just a checkbox or something. As this allows for quick enable/disable.</p>\n<p>oh sure xD\nSometimes I overlook these types of things will change right away.</p>", "type": "rendered"}, "created_on": "2017-08-07T06:26:30.674870+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-07T06:26:30.722763+00:00", "type": "pullrequest_comment", "id": 42261274}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260979.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260979"}}, "parent": {"id": 42260472, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260472.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260472"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "I think you should be able to override it in an individual labscript file (although that might affect subsequent compilations of another labscript file...in which case runmanager should be fixed so that it resets those config flags as it does for the compiler flags)\n\nOne final change: line 1626 should be `elif not config.suppress_mild_warnings and not config.suppress_all_warnings`", "markup": "markdown", "html": "<p>I think you should be able to override it in an individual labscript file (although that might affect subsequent compilations of another labscript file...in which case runmanager should be fixed so that it resets those config flags as it does for the compiler flags)</p>\n<p>One final change: line 1626 should be <code>elif not config.suppress_mild_warnings and not config.suppress_all_warnings</code></p>", "type": "rendered"}, "created_on": "2017-08-07T06:20:07.187523+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-08-07T06:20:07.190879+00:00", "type": "pullrequest_comment", "id": 42260979}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "2dd1d808c449", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/2dd1d808c449.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/2dd1d808c449"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8873b8c34399", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/8873b8c34399"}, "html": {"href": "#!/PhyNerd/labscript/commits/8873b8c34399"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-08-07T06:16:13.844085+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260472.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260472"}}, "parent": {"id": 42260211, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260211.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260211"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "I'm in favor suppressing this warning if a user so chooses. \n\nAnd I understood the modular approach makes open-> open happen but I still think that the open -> open is incorrect code.\n\nJust out of curiosity is there a place in the UI to activate suppress_mild_warnings? If not we should create a issue to make one\n\nThe changes should be up in a minute", "markup": "markdown", "html": "<p>I'm in favor suppressing this warning if a user so chooses. </p>\n<p>And I understood the modular approach makes open-&gt; open happen but I still think that the open -&gt; open is incorrect code.</p>\n<p>Just out of curiosity is there a place in the UI to activate suppress_mild_warnings? If not we should create a issue to make one</p>\n<p>The changes should be up in a minute</p>", "type": "rendered"}, "created_on": "2017-08-07T06:08:08.165953+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-07T06:08:08.229106+00:00", "type": "pullrequest_comment", "id": 42260472}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42260211.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42260211"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "> I think that this should be raised as a warning to indicate that your script isn't written 100% correctly. It will still compile so there should be no harm in it.\n\nI think you misunderstood what I wrote. I attempted to detail a situation (one that is quite common in our lab) where **correctly** written code may result in open -> open -> closed due to the way it has been modularised for reuse. I'd rather avoid cluttering up the interface with unnecessary warnings because it means you miss out on the ones that are important. This is indeed why we introduced a configuration option to suppress warnings (because we were not seeing the important ones!). Perhaps a compromise could be to only print the message is [`suppress_mild_warnings`](#!/labscript_suite/labscript/src/9d065d0821daace6ee0f42d894d6b5a72e3e2d4a/labscript.py?at=default&fileviewer=file-view-default#labscript.py-58) is False?\n\nI guess to be consistent with those configuration options the warning should not appears if all warnings are suppressed as well!", "markup": "markdown", "html": "<blockquote>\n<p>I think that this should be raised as a warning to indicate that your script isn't written 100% correctly. It will still compile so there should be no harm in it.</p>\n</blockquote>\n<p>I think you misunderstood what I wrote. I attempted to detail a situation (one that is quite common in our lab) where <strong>correctly</strong> written code may result in open -&gt; open -&gt; closed due to the way it has been modularised for reuse. I'd rather avoid cluttering up the interface with unnecessary warnings because it means you miss out on the ones that are important. This is indeed why we introduced a configuration option to suppress warnings (because we were not seeing the important ones!). Perhaps a compromise could be to only print the message is <a data-is-external-link=\"true\" href=\"#!/labscript_suite/labscript/src/9d065d0821daace6ee0f42d894d6b5a72e3e2d4a/labscript.py?at=default&amp;fileviewer=file-view-default#labscript.py-58\" rel=\"nofollow\"><code>suppress_mild_warnings</code></a> is False?</p>\n<p>I guess to be consistent with those configuration options the warning should not appears if all warnings are suppressed as well!</p>", "type": "rendered"}, "created_on": "2017-08-07T06:00:52.089900+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-08-07T06:00:52.093196+00:00", "type": "pullrequest_comment", "id": 42260211}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42259753.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42259753"}}, "parent": {"id": 42254698, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42254698.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42254698"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "Yeah you're right I'll fix that.\n\nI think that this should be raised as a warning to indicate that your script isn't written 100% correctly. It will still compile so there should be no harm in it.\n\nI know it's a temporary fix but no one knows how long it will be and this could solve some problems until then.", "markup": "markdown", "html": "<p>Yeah you're right I'll fix that.</p>\n<p>I think that this should be raised as a warning to indicate that your script isn't written 100% correctly. It will still compile so there should be no harm in it.</p>\n<p>I know it's a temporary fix but no one knows how long it will be and this could solve some problems until then.</p>", "type": "rendered"}, "created_on": "2017-08-07T05:47:36.823811+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-07T05:47:36.884681+00:00", "type": "pullrequest_comment", "id": 42259753}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19/comments/42254698.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19/_/diff#comment-42254698"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}, "content": {"raw": "I think there is a bug here. On line 1613, don't you want `if self.actual_times[next_time]['time'] < self.actual_times[time]['time']`? Otherwise you're comparing a time with a delay to one without. You want to ensure that when you order by user commanded time, the instruction times are in the same order.\n\nAlso, we shouldn't be raising a warning just because the sequence of shutter commands doesn't follow open -> close -> open -> close -> ...\nWe have a significant number of scripts that contain sections logic that can be switched on/off with booleans. As such, some combinations will follow open -> close but some might do something like open -> open -> close (for instance the case where the first open in in an optional section, but there is not time to close and open before the following section of code.\n\nAlso, I'm just going to flag here that `self.actual_times` will become unnecessary in the next major version of labscript when we introduce a proper instruction class that automatically keeps track of all these things internally.", "markup": "markdown", "html": "<p>I think there is a bug here. On line 1613, don't you want <code>if self.actual_times[next_time]['time'] &lt; self.actual_times[time]['time']</code>? Otherwise you're comparing a time with a delay to one without. You want to ensure that when you order by user commanded time, the instruction times are in the same order.</p>\n<p>Also, we shouldn't be raising a warning just because the sequence of shutter commands doesn't follow open -&gt; close -&gt; open -&gt; close -&gt; ...\nWe have a significant number of scripts that contain sections logic that can be switched on/off with booleans. As such, some combinations will follow open -&gt; close but some might do something like open -&gt; open -&gt; close (for instance the case where the first open in in an optional section, but there is not time to close and open before the following section of code.</p>\n<p>Also, I'm just going to flag here that <code>self.actual_times</code> will become unnecessary in the next major version of labscript when we introduce a proper instruction class that automatically keeps track of all these things internally.</p>", "type": "rendered"}, "created_on": "2017-08-07T02:12:10.597500+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-08-07T02:12:10.600056+00:00", "type": "pullrequest_comment", "id": 42254698}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "9d065d0821da", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/9d065d0821da.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/9d065d0821da"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c7c18de9013e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/c7c18de9013e"}, "html": {"href": "#!/PhyNerd/labscript/commits/c7c18de9013e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-08-06T12:14:22.122930+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}, {"update": {"description": "A check has been added which checks whether the shutter is to be closed during the opening process and vice versa. If the new instruction is during the open or close delay, a warning message is emitted.\r\nThis should fix issue #2.\r\n\r\nThis was already merged as part of a bigger pull request and backed out of because of performance issues ([Pull Request #9](#!/labscript_suite/labscript/pull-requests/9/check-ramp-collision-and-shutter-delays/diff)). As @ReneKolb doesn't seem to be active (at the moment) and the changes were useful I'm splitting said pull request into smaller (improved) ones to get them back into discussion.\r\n\r\nThe old version of checks scaled with O(N^2) the new ones (proposed by @pstarkey) scale with O(N)", "title": "Shutter checks", "destination": {"commit": {"hash": "9d065d0821da", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/9d065d0821da.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/9d065d0821da"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "c7c18de9013e", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript/commit/c7c18de9013e"}, "html": {"href": "#!/PhyNerd/labscript/commits/c7c18de9013e"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript"}, "html": {"href": "#!/PhyNerd/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{7ae7c0f3-4119-4307-8b3f-652003761155}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "PhyNerd/labscript", "uuid": "{7ae7c0f3-4119-4307-8b3f-652003761155}"}, "branch": {"name": "Shutter-collision"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-08-06T12:14:22.070698+00:00"}, "pull_request": {"type": "pullrequest", "id": 19, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/19.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/19"}}, "title": "Shutter checks"}}]}