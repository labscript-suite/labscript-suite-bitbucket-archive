{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/22/comments/54212152.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/22/_/diff#comment-54212152"}}, "parent": {"id": 49658944, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/22/comments/49658944.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/22/_/diff#comment-49658944"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/22"}}, "title": "Syntax for remote worker brokers and secondary control systems"}, "content": {"raw": "So, the idea is that `self.BLACS_connection` holds the connection string. The keyword argument is dependent on the device \\(com\\_port, usb, board\\_number, etc\\) and so can't be standardised into the `Device` class.\n\nWhat is the issue with the NovatechDDS9m?. It looks to me like it will end up as `'control2|com14,115200'`. I'm expecting that the code in BLACS will split on the delimiter `|` and check if the beginning matches the current instance of BLACS and then forward on the end to the device tab for instantiation \\(or alternatively, the device tabs will be updated to strip out everything prior to `|`\\). So yes, we need guidelines to ensure that:\n\n* labscript device classes don't prepend something to the com\\_port or equivalent and don't use the same delimiter as the `_RemoteBLACSConnection`\n* BLACS device classes know to strip off everything prior to the `_RemoteBLACSConnection`delimiter\n\nIs there anything else I've missed?", "markup": "markdown", "html": "<p>So, the idea is that <code>self.BLACS_connection</code> holds the connection string. The keyword argument is dependent on the device (com_port, usb, board_number, etc) and so can't be standardised into the <code>Device</code> class.</p>\n<p>What is the issue with the NovatechDDS9m?. It looks to me like it will end up as <code>'control2|com14,115200'</code>. I'm expecting that the code in BLACS will split on the delimiter <code>|</code> and check if the beginning matches the current instance of BLACS and then forward on the end to the device tab for instantiation (or alternatively, the device tabs will be updated to strip out everything prior to <code>|</code>). So yes, we need guidelines to ensure that:</p>\n<ul>\n<li>labscript device classes don't prepend something to the com_port or equivalent and don't use the same delimiter as the <code>_RemoteBLACSConnection</code></li>\n<li>BLACS device classes know to strip off everything prior to the <code>_RemoteBLACSConnection</code>delimiter</li>\n</ul>\n<p>Is there anything else I've missed?</p>", "type": "rendered"}, "created_on": "2018-01-22T05:18:01.023039+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-01-22T05:18:01.025545+00:00", "type": "pullrequest_comment", "id": 54212152}