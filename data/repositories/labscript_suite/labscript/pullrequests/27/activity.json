{"pagelen": 50, "values": [{"update": {"description": "I'm about to make a pull request for runmanager which allows arbitrary batch compiler scripts to be  run that may invoke something other than labscript. As part of this, I'm moving the globals loading and builtins cleanup code over to runmanager. \r\n\r\nThis pull request adds an additional kwargs to labscript init and cleanup methods which allows for the labscript global loading/cleanup code to be disabled. In order to maintain compatibility with old runmanager with this version of labscript, the loading/cleanup is enabled by default in this version of labscript. This can likely be removed in labscript 3.0 though and I've left comments to help with the cleanup when this happens.\r\n\r\nPlease leave me to do the actual merging so that the branch gets closed properly! I'll merge once approved.", "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager", "destination": {"commit": {"hash": "efc543b4e71c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/efc543b4e71c.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/efc543b4e71c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d475f0e29665", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript/commit/d475f0e29665"}, "html": {"href": "#!/pstarkey/labscript/commits/d475f0e29665"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript"}, "html": {"href": "#!/pstarkey/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e07b8a11-58d9-46da-8368-724e708c5ac1}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "pstarkey/labscript", "uuid": "{e07b8a11-58d9-46da-8368-724e708c5ac1}"}, "branch": {"name": "agnostic-runmanager-batchcompiler"}}, "state": "MERGED", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-03-16T01:29:00.721347+00:00"}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"update": {"description": "I'm about to make a pull request for runmanager which allows arbitrary batch compiler scripts to be  run that may invoke something other than labscript. As part of this, I'm moving the globals loading and builtins cleanup code over to runmanager. \r\n\r\nThis pull request adds an additional kwargs to labscript init and cleanup methods which allows for the labscript global loading/cleanup code to be disabled. In order to maintain compatibility with old runmanager with this version of labscript, the loading/cleanup is enabled by default in this version of labscript. This can likely be removed in labscript 3.0 though and I've left comments to help with the cleanup when this happens.\r\n\r\nPlease leave me to do the actual merging so that the branch gets closed properly! I'll merge once approved.", "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager", "destination": {"commit": {"hash": "efc543b4e71c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/efc543b4e71c.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/efc543b4e71c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d475f0e29665", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript/commit/d475f0e29665"}, "html": {"href": "#!/pstarkey/labscript/commits/d475f0e29665"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript"}, "html": {"href": "#!/pstarkey/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e07b8a11-58d9-46da-8368-724e708c5ac1}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "pstarkey/labscript", "uuid": "{e07b8a11-58d9-46da-8368-724e708c5ac1}"}, "branch": {"name": "agnostic-runmanager-batchcompiler"}}, "state": "OPEN", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-03-16T01:29:00.181090+00:00"}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58739026.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58739026"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Updated with latest suggested changes.\n\nTested with both old and new runmanager versions.\n\nTested presence and absence of both globals and device objects in main script and imported module within that script.\n\nEverything works as expected.", "markup": "markdown", "html": "<p>Updated with latest suggested changes.</p>\n<p>Tested with both old and new runmanager versions.</p>\n<p>Tested presence and absence of both globals and device objects in main script and imported module within that script.</p>\n<p>Everything works as expected.</p>", "type": "rendered"}, "created_on": "2018-03-13T22:27:31.034680+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-13T22:27:31.039702+00:00", "type": "pullrequest_comment", "id": 58739026}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"update": {"description": "I'm about to make a pull request for runmanager which allows arbitrary batch compiler scripts to be  run that may invoke something other than labscript. As part of this, I'm moving the globals loading and builtins cleanup code over to runmanager. \r\n\r\nThis pull request adds an additional kwargs to labscript init and cleanup methods which allows for the labscript global loading/cleanup code to be disabled. In order to maintain compatibility with old runmanager with this version of labscript, the loading/cleanup is enabled by default in this version of labscript. This can likely be removed in labscript 3.0 though and I've left comments to help with the cleanup when this happens.\r\n\r\nPlease leave me to do the actual merging so that the branch gets closed properly! I'll merge once approved.", "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager", "destination": {"commit": {"hash": "c60f6b865902", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/c60f6b865902.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/c60f6b865902"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d475f0e29665", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript/commit/d475f0e29665"}, "html": {"href": "#!/pstarkey/labscript/commits/d475f0e29665"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript"}, "html": {"href": "#!/pstarkey/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e07b8a11-58d9-46da-8368-724e708c5ac1}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "pstarkey/labscript", "uuid": "{e07b8a11-58d9-46da-8368-724e708c5ac1}"}, "branch": {"name": "agnostic-runmanager-batchcompiler"}}, "state": "OPEN", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-03-13T22:25:13.562677+00:00"}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"approval": {"date": "2018-03-13T13:14:22.031320+00:00", "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637778.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637778"}}, "parent": {"id": 58637487, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637487.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637487"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Yes, I think so. That way it'll be a stack: labscript will \"restore\" to what runmanager gave it, then runmanager will restore to normal, and either will work correctly in the absence of the other.", "markup": "markdown", "html": "<p>Yes, I think so. That way it'll be a stack: labscript will \"restore\" to what runmanager gave it, then runmanager will restore to normal, and either will work correctly in the absence of the other.</p>", "type": "rendered"}, "created_on": "2018-03-13T08:57:56.457412+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-13T08:57:56.461869+00:00", "type": "pullrequest_comment", "id": 58637778}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637537.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637537"}}, "parent": {"id": 58637173, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637173.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637173"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Ah, I see, makes perfect sense.", "markup": "markdown", "html": "<p>Ah, I see, makes perfect sense.</p>", "type": "rendered"}, "created_on": "2018-03-13T08:56:05.797245+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-13T08:56:05.800993+00:00", "type": "pullrequest_comment", "id": 58637537}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637487.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637487"}}, "parent": {"id": 58634167, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58634167.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58634167"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Hmm, good point. This was not done great previously anyway. If we thought it important I could modify labscript to store a copy of builtins when during labscript\\_init rather than when the module is loaded which would align better with how the batch compiler is now working. Sound good?", "markup": "markdown", "html": "<p>Hmm, good point. This was not done great previously anyway. If we thought it important I could modify labscript to store a copy of builtins when during labscript_init rather than when the module is loaded which would align better with how the batch compiler is now working. Sound good?</p>", "type": "rendered"}, "created_on": "2018-03-13T08:55:38.911883+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-13T08:55:38.917870+00:00", "type": "pullrequest_comment", "id": 58637487}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58637173.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58637173"}}, "parent": {"id": 58634013, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58634013.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58634013"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Labscript had a dependency on runmanager for loading the globals anyway so it's not all that different! \\(I moved the import line for runmanager but it was always there\\)", "markup": "markdown", "html": "<p>Labscript had a dependency on runmanager for loading the globals anyway so it's not all that different! (I moved the import line for runmanager but it was always there)</p>", "type": "rendered"}, "created_on": "2018-03-13T08:53:13.412883+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-13T08:53:13.417409+00:00", "type": "pullrequest_comment", "id": 58637173}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"approval": {"date": "2018-03-13T08:25:46.877106+00:00", "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58634167.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58634167"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "Oh, actually. Labscript still puts devices in the builtins dict, so restoring builtins to its previous state is still something labscript will need to do if running in the absence of runmanager.\n\nThen again, we will probably stop using builtins by the time this code is removed, so it doesn't really matter.", "markup": "markdown", "html": "<p>Oh, actually. Labscript still puts devices in the builtins dict, so restoring builtins to its previous state is still something labscript will need to do if running in the absence of runmanager.</p>\n<p>Then again, we will probably stop using builtins by the time this code is removed, so it doesn't really matter.</p>", "type": "rendered"}, "created_on": "2018-03-13T08:25:42.837690+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-13T08:25:42.841202+00:00", "type": "pullrequest_comment", "id": 58634167}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27/comments/58634013.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27/_/diff#comment-58634013"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}, "content": {"raw": "OK cool. So we're separating globals-loading from all the other labscript stuff, and moving it into runmanager, and runmanager can now call both load_globals() or whatever you've called it, and then labscript_init(load_globals=False).\n\nOnce removed from labscript, it does break the idea that labscript can take an HDF5 file and can just run with it though. It will now have a dependency on runmanager. This doesn't bother me that much though, and it can be changed if we're going to break backward compatibility anyway in the future.", "markup": "markdown", "html": "<p>OK cool. So we're separating globals-loading from all the other labscript stuff, and moving it into runmanager, and runmanager can now call both load_globals() or whatever you've called it, and then labscript_init(load_globals=False).</p>\n<p>Once removed from labscript, it does break the idea that labscript can take an HDF5 file and can just run with it though. It will now have a dependency on runmanager. This doesn't bother me that much though, and it can be changed if we're going to break backward compatibility anyway in the future.</p>", "type": "rendered"}, "created_on": "2018-03-13T08:23:45.954891+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-13T08:23:45.957878+00:00", "type": "pullrequest_comment", "id": 58634013}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"update": {"description": "I'm about to make a pull request for runmanager which allows arbitrary batch compiler scripts to be  run that may invoke something other than labscript. As part of this, I'm moving the globals loading and builtins cleanup code over to runmanager. \r\n\r\nThis pull request adds an additional kwargs to labscript init and cleanup methods which allows for the labscript global loading/cleanup code to be disabled. In order to maintain compatibility with old runmanager with this version of labscript, the loading/cleanup is enabled by default in this version of labscript. This can likely be removed in labscript 3.0 though and I've left comments to help with the cleanup when this happens.\r\n\r\nPlease leave me to do the actual merging so that the branch gets closed properly! I'll merge once approved.", "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager", "destination": {"commit": {"hash": "6e993a63ccb9", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/6e993a63ccb9.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/6e993a63ccb9"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0cd4d4dffbd0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript/commit/0cd4d4dffbd0"}, "html": {"href": "#!/pstarkey/labscript/commits/0cd4d4dffbd0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript"}, "html": {"href": "#!/pstarkey/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e07b8a11-58d9-46da-8368-724e708c5ac1}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "pstarkey/labscript", "uuid": "{e07b8a11-58d9-46da-8368-724e708c5ac1}"}, "branch": {"name": "agnostic-runmanager-batchcompiler"}}, "state": "OPEN", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-03-13T05:10:21.579589+00:00"}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}, {"update": {"description": "I'm about to make a pull request for runmanager which allows arbitrary batch compiler scripts to be  run that may invoke something other than labscript. As part of this, I'm moving the globals loading and builtins cleanup code over to runmanager. \r\n\r\nThis pull request adds an additional kwargs to labscript init and cleanup methods which allows for the labscript global loading/cleanup code to be disabled. In order to maintain compatibility with old runmanager with this version of labscript, the loading/cleanup is enabled by default in this version of labscript. This can likely be removed in labscript 3.0 though and I've left comments to help with the cleanup when this happens.\r\n\r\nPlease leave me to do the actual merging so that the branch gets closed properly! I'll merge once approved.", "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager", "destination": {"commit": {"hash": "6e993a63ccb9", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/6e993a63ccb9.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/6e993a63ccb9"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "0cd4d4dffbd0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript/commit/0cd4d4dffbd0"}, "html": {"href": "#!/pstarkey/labscript/commits/0cd4d4dffbd0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/pstarkey/labscript"}, "html": {"href": "#!/pstarkey/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{e07b8a11-58d9-46da-8368-724e708c5ac1}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "pstarkey/labscript", "uuid": "{e07b8a11-58d9-46da-8368-724e708c5ac1}"}, "branch": {"name": "agnostic-runmanager-batchcompiler"}}, "state": "OPEN", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2018-03-13T05:10:21.534993+00:00"}, "pull_request": {"type": "pullrequest", "id": 27, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/27.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/27"}}, "title": "Disabled loading/cleanup of globals into builtins, ready for it to be moved to runmanager"}}]}