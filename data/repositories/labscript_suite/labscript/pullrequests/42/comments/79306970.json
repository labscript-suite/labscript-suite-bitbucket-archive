{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/42/comments/79306970.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/42/_/diff#comment-79306970"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 42, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/42.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/42"}}, "title": "Have wait monitor pulses not exceed acquisition device's capabilities"}, "content": {"raw": "If the wait monitor\u2019s `wait_monitor_minimum_pulse_width` is not equal to `duration` but the difference is less than the inverse of the clocklines `clock_limit` \\(derived from whatever intermediate devices you have attached\\) then you'll get an error about instructions being too close together. It might be safer to modify `compiler.trigger_duration` to use `wait_monitor_minimum_pulse_width` if it is bigger than the existing duration, so that all triggers are the same length.\n\nBy doing this you also avoid collisions with user code after a wait, which currently might occur because the length of this \\(potentially longer\\) wait monitor trigger is not included by the duration returned by `wait()`. ", "markup": "markdown", "html": "<p>If the wait monitor\u2019s <code>wait_monitor_minimum_pulse_width</code> is not equal to <code>duration</code> but the difference is less than the inverse of the clocklines <code>clock_limit</code> (derived from whatever intermediate devices you have attached) then you'll get an error about instructions being too close together. It might be safer to modify <code>compiler.trigger_duration</code> to use <code>wait_monitor_minimum_pulse_width</code> if it is bigger than the existing duration, so that all triggers are the same length.</p>\n<p>By doing this you also avoid collisions with user code after a wait, which currently might occur because the length of this (potentially longer) wait monitor trigger is not included by the duration returned by <code>wait()</code>. </p>", "type": "rendered"}, "created_on": "2018-10-16T22:44:19.769252+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-10-16T22:46:13.010449+00:00", "type": "pullrequest_comment", "id": 79306970}