{"rendered": {"description": {"raw": "Move trigger validity checks into TriggerableDevice from the Camera class.\r\n\r\nThey are applicable to all triggerable devices, not just the Camera, so\r\nit avoids code duplication to have them here. Devices requesting triggers at\r\nparticular times should call self.trigger() instead of self.trigger_device.trigger(),\r\nin order to take advantage of the checks.\r\n\r\nThis was motivated by me implementing a new camera class, this way I will\r\nnot be duplicating code.\r\n\r\nI'll make a separate change to the Camera class in labscript_devices,\r\nremoving the code from there and depending on this version of labscript.\r\nIt is harmless having the checks be in both places, the checks in\r\nlabscript will not find any triggers to throw errors about until device classes\r\nare updated to call self.trigger() instead of self.trigger_device.trigger().\r\n\r\nSpurious errors could be thrown if some devices called self.trigger() and others\r\ncalled self.trigger_device.trigger(), so all the devices in labscript_devices\r\nwill be updated at once (I think it's just the camera, but I'll check).\r\n\r\nThis is worth testing on an existing setup to confirm I haven't overlooked anything major, if anyone is interested.", "markup": "markdown", "html": "<p>Move trigger validity checks into TriggerableDevice from the Camera class.</p>\n<p>They are applicable to all triggerable devices, not just the Camera, so\nit avoids code duplication to have them here. Devices requesting triggers at\nparticular times should call self.trigger() instead of self.trigger_device.trigger(),\nin order to take advantage of the checks.</p>\n<p>This was motivated by me implementing a new camera class, this way I will\nnot be duplicating code.</p>\n<p>I'll make a separate change to the Camera class in labscript_devices,\nremoving the code from there and depending on this version of labscript.\nIt is harmless having the checks be in both places, the checks in\nlabscript will not find any triggers to throw errors about until device classes\nare updated to call self.trigger() instead of self.trigger_device.trigger().</p>\n<p>Spurious errors could be thrown if some devices called self.trigger() and others\ncalled self.trigger_device.trigger(), so all the devices in labscript_devices\nwill be updated at once (I think it's just the camera, but I'll check).</p>\n<p>This is worth testing on an existing setup to confirm I haven't overlooked anything major, if anyone is interested.</p>", "type": "rendered"}, "title": {"raw": "Move trigger validity checks into TriggerableDevice from the Camera class.", "markup": "markdown", "html": "<p>Move trigger validity checks into TriggerableDevice from the Camera class.</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Move trigger validity checks into TriggerableDevice from the Camera class.\r\n\r\nThey are applicable to all triggerable devices, not just the Camera, so\r\nit avoids code duplication to have them here. Devices requesting triggers at\r\nparticular times should call self.trigger() instead of self.trigger_device.trigger(),\r\nin order to take advantage of the checks.\r\n\r\nThis was motivated by me implementing a new camera class, this way I will\r\nnot be duplicating code.\r\n\r\nI'll make a separate change to the Camera class in labscript_devices,\r\nremoving the code from there and depending on this version of labscript.\r\nIt is harmless having the checks be in both places, the checks in\r\nlabscript will not find any triggers to throw errors about until device classes\r\nare updated to call self.trigger() instead of self.trigger_device.trigger().\r\n\r\nSpurious errors could be thrown if some devices called self.trigger() and others\r\ncalled self.trigger_device.trigger(), so all the devices in labscript_devices\r\nwill be updated at once (I think it's just the camera, but I'll check).\r\n\r\nThis is worth testing on an existing setup to confirm I haven't overlooked anything major, if anyone is interested.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/45/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/diffstat/labscript_suite/labscript:a4c98a2bb5db%0Dd69295135157?from_pullrequest_id=45"}, "commits": {"href": "data/repositories/labscript_suite/labscript/pullrequests/45/commits.json"}, "self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/45.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript/pullrequests/45/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/45/merge"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/45"}, "activity": {"href": "data/repositories/labscript_suite/labscript/pullrequests/45/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/diff/labscript_suite/labscript:a4c98a2bb5db%0Dd69295135157?from_pullrequest_id=45"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/45/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript/pullrequests/45/statuses_page=1.json"}}, "title": "Move trigger validity checks into TriggerableDevice from the Camera class.", "close_source_branch": true, "reviewers": [{"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}], "id": 45, "destination": {"commit": {"hash": "d69295135157", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/d69295135157.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/d69295135157"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "created_on": "2019-03-29T01:07:30.658394+00:00", "summary": {"raw": "Move trigger validity checks into TriggerableDevice from the Camera class.\r\n\r\nThey are applicable to all triggerable devices, not just the Camera, so\r\nit avoids code duplication to have them here. Devices requesting triggers at\r\nparticular times should call self.trigger() instead of self.trigger_device.trigger(),\r\nin order to take advantage of the checks.\r\n\r\nThis was motivated by me implementing a new camera class, this way I will\r\nnot be duplicating code.\r\n\r\nI'll make a separate change to the Camera class in labscript_devices,\r\nremoving the code from there and depending on this version of labscript.\r\nIt is harmless having the checks be in both places, the checks in\r\nlabscript will not find any triggers to throw errors about until device classes\r\nare updated to call self.trigger() instead of self.trigger_device.trigger().\r\n\r\nSpurious errors could be thrown if some devices called self.trigger() and others\r\ncalled self.trigger_device.trigger(), so all the devices in labscript_devices\r\nwill be updated at once (I think it's just the camera, but I'll check).\r\n\r\nThis is worth testing on an existing setup to confirm I haven't overlooked anything major, if anyone is interested.", "markup": "markdown", "html": "<p>Move trigger validity checks into TriggerableDevice from the Camera class.</p>\n<p>They are applicable to all triggerable devices, not just the Camera, so\nit avoids code duplication to have them here. Devices requesting triggers at\nparticular times should call self.trigger() instead of self.trigger_device.trigger(),\nin order to take advantage of the checks.</p>\n<p>This was motivated by me implementing a new camera class, this way I will\nnot be duplicating code.</p>\n<p>I'll make a separate change to the Camera class in labscript_devices,\nremoving the code from there and depending on this version of labscript.\nIt is harmless having the checks be in both places, the checks in\nlabscript will not find any triggers to throw errors about until device classes\nare updated to call self.trigger() instead of self.trigger_device.trigger().</p>\n<p>Spurious errors could be thrown if some devices called self.trigger() and others\ncalled self.trigger_device.trigger(), so all the devices in labscript_devices\nwill be updated at once (I think it's just the camera, but I'll check).</p>\n<p>This is worth testing on an existing setup to confirm I haven't overlooked anything major, if anyone is interested.</p>", "type": "rendered"}, "source": {"commit": {"hash": "a498d2d7f3d8", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript/commit/a498d2d7f3d8"}, "html": {"href": "#!/cbillington/labscript/commits/a498d2d7f3d8"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript"}, "html": {"href": "#!/cbillington/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b88125ae-abd7-48a2-9b60-fed8b7d6724b}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "cbillington/labscript", "uuid": "{b88125ae-abd7-48a2-9b60-fed8b7d6724b}"}, "branch": {"name": "trigger_checks"}}, "comment_count": 2, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, {"role": "PARTICIPANT", "participated_on": "2019-04-08T18:35:36.334949+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}], "reason": "", "updated_on": "2019-04-15T17:36:03.927633+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "a4c98a2bb5db", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/a4c98a2bb5db.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/a4c98a2bb5db"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}