{"rendered": {"description": {"raw": "Allow setting marker colors using strings such as 'red' or '#ff8g80'.\r\nIf no colour is set, save the color as (-1, -1, -1), to distinguish 'no colour\r\nset' from black. This way, actually setting the colour to black can be done,\r\nwhereas the BLACS progress bar can fall back to default colours if no colour has\r\nbeen set (right now it uses default colours if it encounters black, precluding\r\none from actually using black).\r\n\r\nIf BLACS and runviewer are not updated after this change, they will encounter\r\ncolours that are (-1, -1, -1). They will not break, but they will print a\r\nwarning from Qt and will treat the colour as black. So this is fairly backward\r\ncompatible - the only visible consequence is the BLACS progress bar will be black\r\ninstead of blue for markers with no colour set, until BLACS is updated to be\r\naware of the change (I have tested that both apps are fine encountering shots compiled with this change).\r\n\r\nCorresponding changes to BLACS and runviewer will make them aware of the\r\ndistinction between black and 'unset'.\r\n\r\nThis change uses PIL, which whilst present on Anaconda already, I will add to the dependencies in the installer. The pending LightCrafter DMD pull request also requires PIL, so its inclusion is not solely for this.\r\n\r\nSince this is pretty simple, I will merge on Monday if there are no comments.", "markup": "markdown", "html": "<p>Allow setting marker colors using strings such as 'red' or '#ff8g80'.\nIf no colour is set, save the color as (-1, -1, -1), to distinguish 'no colour\nset' from black. This way, actually setting the colour to black can be done,\nwhereas the BLACS progress bar can fall back to default colours if no colour has\nbeen set (right now it uses default colours if it encounters black, precluding\none from actually using black).</p>\n<p>If BLACS and runviewer are not updated after this change, they will encounter\ncolours that are (-1, -1, -1). They will not break, but they will print a\nwarning from Qt and will treat the colour as black. So this is fairly backward\ncompatible - the only visible consequence is the BLACS progress bar will be black\ninstead of blue for markers with no colour set, until BLACS is updated to be\naware of the change (I have tested that both apps are fine encountering shots compiled with this change).</p>\n<p>Corresponding changes to BLACS and runviewer will make them aware of the\ndistinction between black and 'unset'.</p>\n<p>This change uses PIL, which whilst present on Anaconda already, I will add to the dependencies in the installer. The pending LightCrafter DMD pull request also requires PIL, so its inclusion is not solely for this.</p>\n<p>Since this is pretty simple, I will merge on Monday if there are no comments.</p>", "type": "rendered"}, "title": {"raw": "Marker colour enhancements", "markup": "markdown", "html": "<p>Marker colour enhancements</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Allow setting marker colors using strings such as 'red' or '#ff8g80'.\r\nIf no colour is set, save the color as (-1, -1, -1), to distinguish 'no colour\r\nset' from black. This way, actually setting the colour to black can be done,\r\nwhereas the BLACS progress bar can fall back to default colours if no colour has\r\nbeen set (right now it uses default colours if it encounters black, precluding\r\none from actually using black).\r\n\r\nIf BLACS and runviewer are not updated after this change, they will encounter\r\ncolours that are (-1, -1, -1). They will not break, but they will print a\r\nwarning from Qt and will treat the colour as black. So this is fairly backward\r\ncompatible - the only visible consequence is the BLACS progress bar will be black\r\ninstead of blue for markers with no colour set, until BLACS is updated to be\r\naware of the change (I have tested that both apps are fine encountering shots compiled with this change).\r\n\r\nCorresponding changes to BLACS and runviewer will make them aware of the\r\ndistinction between black and 'unset'.\r\n\r\nThis change uses PIL, which whilst present on Anaconda already, I will add to the dependencies in the installer. The pending LightCrafter DMD pull request also requires PIL, so its inclusion is not solely for this.\r\n\r\nSince this is pretty simple, I will merge on Monday if there are no comments.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/48/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/diffstat/labscript_suite/labscript:05cf8b9676a9%0D789de78d2b75?from_pullrequest_id=48"}, "commits": {"href": "data/repositories/labscript_suite/labscript/pullrequests/48/commits.json"}, "self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/48.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript/pullrequests/48/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/48/merge"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/48"}, "activity": {"href": "data/repositories/labscript_suite/labscript/pullrequests/48/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/diff/labscript_suite/labscript:05cf8b9676a9%0D789de78d2b75?from_pullrequest_id=48"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript/pullrequests/48/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript/pullrequests/48/statuses_page=1.json"}}, "title": "Marker colour enhancements", "close_source_branch": true, "reviewers": [{"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}], "id": 48, "destination": {"commit": {"hash": "789de78d2b75", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/789de78d2b75.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/789de78d2b75"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript.json"}, "html": {"href": "#!/labscript_suite/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{48848b08-1db5-463b-bbdc-911beadf8bbf}ts=249917"}}, "type": "repository", "name": "labscript", "full_name": "labscript_suite/labscript", "uuid": "{48848b08-1db5-463b-bbdc-911beadf8bbf}"}, "branch": {"name": "default"}}, "created_on": "2019-05-08T18:13:32.447578+00:00", "summary": {"raw": "Allow setting marker colors using strings such as 'red' or '#ff8g80'.\r\nIf no colour is set, save the color as (-1, -1, -1), to distinguish 'no colour\r\nset' from black. This way, actually setting the colour to black can be done,\r\nwhereas the BLACS progress bar can fall back to default colours if no colour has\r\nbeen set (right now it uses default colours if it encounters black, precluding\r\none from actually using black).\r\n\r\nIf BLACS and runviewer are not updated after this change, they will encounter\r\ncolours that are (-1, -1, -1). They will not break, but they will print a\r\nwarning from Qt and will treat the colour as black. So this is fairly backward\r\ncompatible - the only visible consequence is the BLACS progress bar will be black\r\ninstead of blue for markers with no colour set, until BLACS is updated to be\r\naware of the change (I have tested that both apps are fine encountering shots compiled with this change).\r\n\r\nCorresponding changes to BLACS and runviewer will make them aware of the\r\ndistinction between black and 'unset'.\r\n\r\nThis change uses PIL, which whilst present on Anaconda already, I will add to the dependencies in the installer. The pending LightCrafter DMD pull request also requires PIL, so its inclusion is not solely for this.\r\n\r\nSince this is pretty simple, I will merge on Monday if there are no comments.", "markup": "markdown", "html": "<p>Allow setting marker colors using strings such as 'red' or '#ff8g80'.\nIf no colour is set, save the color as (-1, -1, -1), to distinguish 'no colour\nset' from black. This way, actually setting the colour to black can be done,\nwhereas the BLACS progress bar can fall back to default colours if no colour has\nbeen set (right now it uses default colours if it encounters black, precluding\none from actually using black).</p>\n<p>If BLACS and runviewer are not updated after this change, they will encounter\ncolours that are (-1, -1, -1). They will not break, but they will print a\nwarning from Qt and will treat the colour as black. So this is fairly backward\ncompatible - the only visible consequence is the BLACS progress bar will be black\ninstead of blue for markers with no colour set, until BLACS is updated to be\naware of the change (I have tested that both apps are fine encountering shots compiled with this change).</p>\n<p>Corresponding changes to BLACS and runviewer will make them aware of the\ndistinction between black and 'unset'.</p>\n<p>This change uses PIL, which whilst present on Anaconda already, I will add to the dependencies in the installer. The pending LightCrafter DMD pull request also requires PIL, so its inclusion is not solely for this.</p>\n<p>Since this is pretty simple, I will merge on Monday if there are no comments.</p>", "type": "rendered"}, "source": {"commit": {"hash": "c4caa2d24af0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript/commit/c4caa2d24af0"}, "html": {"href": "#!/cbillington/labscript/commits/c4caa2d24af0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript"}, "html": {"href": "#!/cbillington/labscript"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b88125ae-abd7-48a2-9b60-fed8b7d6724b}ts=python"}}, "type": "repository", "name": "labscript", "full_name": "cbillington/labscript", "uuid": "{b88125ae-abd7-48a2-9b60-fed8b7d6724b}"}, "branch": {"name": "marker-colours"}}, "comment_count": 0, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}], "reason": "", "updated_on": "2019-05-12T22:55:02.855176+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "05cf8b9676a9", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript/commit/05cf8b9676a9.json"}, "html": {"href": "#!/labscript_suite/labscript/commits/05cf8b9676a9"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}