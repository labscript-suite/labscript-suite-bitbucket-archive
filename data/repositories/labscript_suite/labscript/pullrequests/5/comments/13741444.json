{"links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/5/comments/13741444.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/5/_/diff#comment-13741444"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 5, "links": {"self": {"href": "data/repositories/labscript_suite/labscript/pullrequests/5.json"}, "html": {"href": "#!/labscript_suite/labscript/pull-requests/5"}}, "title": "Truncation decorator for ramp functions"}, "content": {"raw": "I don't think the modifications to `exp_ramp` and `exp_ramp_t` are correct in the latest change.\n\nThe truncation type determines whether it is a direct truncation of the duration or a truncation to a final output value (at least that was my understanding). The `_check_truncation()` method should only be run on direct truncations of the duration, as the value of `truncation` for a truncation of a ramp to a specific output value is not necessarily going to fall within the range `0 <= truncation <= 1`. That was why I suggested adding the `_check_truncation()` function before specific lines (which apply only to the cases of a direct truncation of the duration)", "markup": "markdown", "html": "<p>I don't think the modifications to <code>exp_ramp</code> and <code>exp_ramp_t</code> are correct in the latest change.</p>\n<p>The truncation type determines whether it is a direct truncation of the duration or a truncation to a final output value (at least that was my understanding). The <code>_check_truncation()</code> method should only be run on direct truncations of the duration, as the value of <code>truncation</code> for a truncation of a ramp to a specific output value is not necessarily going to fall within the range <code>0 &lt;= truncation &lt;= 1</code>. That was why I suggested adding the <code>_check_truncation()</code> function before specific lines (which apply only to the cases of a direct truncation of the duration)</p>", "type": "rendered"}, "created_on": "2016-01-22T00:49:59.619006+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2016-01-22T00:49:59.624308+00:00", "type": "pullrequest_comment", "id": 13741444}