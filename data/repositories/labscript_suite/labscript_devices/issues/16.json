{"priority": "critical", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices.json"}, "html": {"href": "#!/labscript_suite/labscript_devices"}, "avatar": {"href": "data/bytebucket.org/ravatar/{30c94cb1-feec-4534-8885-92452023c9c9}ts=python"}}, "type": "repository", "name": "labscript_devices", "full_name": "labscript_suite/labscript_devices", "uuid": "{30c94cb1-feec-4534-8885-92452023c9c9}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/labscript_devices/issues/16/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/labscript_devices/issues/16.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/issues/16/watch"}, "comments": {"href": "data/repositories/labscript_suite/labscript_devices/issues/16/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/issues/16/introduction-of-asymmetric-pulseblaster"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/issues/16/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "Introduction of asymmetric pulseblaster clock ticks were not introduced in a backwards compatible fashion and has created bugs with long experiments", "component": null, "votes": 0, "watches": 2, "content": {"raw": "The introduction of asymmetric clock ticks (changeset: 67d75ca) has introduced a bug with long delays.\r\nIt was implemented in such a way that bypasses the check for adding a `LONG_DELAY` opcode.\r\n\r\nIt also defaults to a clock tick of 66ns, which is extremely fast and is likely the cause of random missed triggers we've experienced in the lab for the past year.\r\n\r\nI think it would be good to set the default behaviour (`pulse_width=None` keyword argument at instantiation) to use the original 50/50 high/low clock tick behaviour (thus making the change backwards compatible)\r\n\r\nThe bug with long delays should also be fixed.", "markup": "markdown", "html": "<p>The introduction of asymmetric clock ticks (changeset: <a href=\"#!/labscript_suite/labscript_devices/commits/67d75ca\" rel=\"nofollow\" class=\"ap-connect-link\">67d75ca</a>) has introduced a bug with long delays.\nIt was implemented in such a way that bypasses the check for adding a <code>LONG_DELAY</code> opcode.</p>\n<p>It also defaults to a clock tick of 66ns, which is extremely fast and is likely the cause of random missed triggers we've experienced in the lab for the past year.</p>\n<p>I think it would be good to set the default behaviour (<code>pulse_width=None</code> keyword argument at instantiation) to use the original 50/50 high/low clock tick behaviour (thus making the change backwards compatible)</p>\n<p>The bug with long delays should also be fixed.</p>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2016-02-17T06:26:14.948137+00:00", "milestone": null, "updated_on": "2016-03-22T03:59:22.345186+00:00", "type": "issue", "id": 16}