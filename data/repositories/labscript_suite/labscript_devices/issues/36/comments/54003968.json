{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/issues/36/comments/54003968.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/issues/36#comment-54003968"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/issues/36.json"}}, "type": "issue", "id": 36, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices.json"}, "html": {"href": "#!/labscript_suite/labscript_devices"}, "avatar": {"href": "data/bytebucket.org/ravatar/{30c94cb1-feec-4534-8885-92452023c9c9}ts=python"}}, "type": "repository", "name": "labscript_devices", "full_name": "labscript_suite/labscript_devices", "uuid": "{30c94cb1-feec-4534-8885-92452023c9c9}"}, "title": "BLACS hang with continuous camera acquisitions"}, "content": {"raw": "Maybe found where the backup is happening. The pyqtgraph.ItemView\nultimately uses the QGraphicsItem.update()\n<https://doc.qt.io/qt-5/qgraphicsitem.html#update> method which the\ndocumentation states \"This function does not cause an immediate paint;\ninstead it schedules a paint request that is processed by QGraphicsView\nafter control reaches the event loop. The item will only be redrawn if it\nis visible in any associated view.\"\n\nThis does seem related. The current hang behavior is such that when\ncontinuous is started images update fine, but all GUI interaction is hung.\nClicking in the GUI than causes the image update to hang as well until the\nGUI interaction processes eventually. Once that processes images will\nupdate again with the GUI interaction still hung up. Is BLACS just getting\ncrushed by Qt paint update requests?\n", "markup": "markdown", "html": "<p>Maybe found where the backup is happening. The pyqtgraph.ItemView\nultimately uses the QGraphicsItem.update()\n<a href=\"https://doc.qt.io/qt-5/qgraphicsitem.html#update\">https://doc.qt.io/qt-5/qgraphicsitem.html#update</a> method which the\ndocumentation states \"This function does not cause an immediate paint;\ninstead it schedules a paint request that is processed by QGraphicsView\nafter control reaches the event loop. The item will only be redrawn if it\nis visible in any associated view.\"</p>\n<p>This does seem related. The current hang behavior is such that when\ncontinuous is started images update fine, but all GUI interaction is hung.\nClicking in the GUI than causes the image update to hang as well until the\nGUI interaction processes eventually. Once that processes images will\nupdate again with the GUI interaction still hung up. Is BLACS just getting\ncrushed by Qt paint update requests?</p>", "type": "rendered"}, "created_on": "2019-09-20T16:10:21.526392+00:00", "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, "updated_on": null, "type": "issue_comment", "id": 54003968}