{"rendered": {"reason": {"raw": "This is now superseded by pull request #56", "markup": "markdown", "html": "<p>This is now superseded by <a href=\"#!/labscript_suite/labscript_devices/pull-requests/56/universal-ni-daqmx-support\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #56</a></p>", "type": "rendered"}, "description": {"raw": "I have added the generic NI class that we use at the JQI.  I also took the time to find all (most?) of the bug fixes that have been applied to other NI cards over the past year and get them into this class.  This change required a small number of changes to the NIboard class to give it instance rather than class level variables, and I also changed some variable names to be more consistent across the board.\r\n\r\nThis in turn required some changes in all of the remaining NI boards.   It is probable that I have introduced some bugs in the process of doing this, and I don't have ready access to hardware to test.\r\n\r\nThe syntax of this new class is:\r\n\r\n```\r\nfrom labscript_devices.NI_DAQmx import NI_DAQmx\r\n\r\nNI_DAQmx(name='ni_pci_6733_0', parent_device=pulseblaster_0_ni_pci_clock,\r\n        MAX_name='Dev1',\r\n        clock_terminal='/Dev1/RTSI0', \r\n        num_AO=8,\r\n        sample_rate_AO=700e3,\r\n        num_DO=8,\r\n        sample_rate_DO=2e6,\r\n        num_AI=0,\r\n        clock_terminal_AI='/Dev1/PFI0',\r\n        mode_AI='labscript', # 'labscript', 'gated', 'triggered'\r\n        sample_rate_AI=1000,\r\n        num_PFI=0\r\n)\r\n```\r\n\r\nAs can be seen, every current feature of this device is specified in its initialization, removing the need for many classes dedicated to essentially the same NI board.", "markup": "markdown", "html": "<p>I have added the generic NI class that we use at the JQI.  I also took the time to find all (most?) of the bug fixes that have been applied to other NI cards over the past year and get them into this class.  This change required a small number of changes to the NIboard class to give it instance rather than class level variables, and I also changed some variable names to be more consistent across the board.</p>\n<p>This in turn required some changes in all of the remaining NI boards.   It is probable that I have introduced some bugs in the process of doing this, and I don't have ready access to hardware to test.</p>\n<p>The syntax of this new class is:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">labscript_devices.NI_DAQmx</span> <span class=\"kn\">import</span> <span class=\"n\">NI_DAQmx</span>\n\n<span class=\"n\">NI_DAQmx</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;ni_pci_6733_0&#39;</span><span class=\"p\">,</span> <span class=\"n\">parent_device</span><span class=\"o\">=</span><span class=\"n\">pulseblaster_0_ni_pci_clock</span><span class=\"p\">,</span>\n        <span class=\"n\">MAX_name</span><span class=\"o\">=</span><span class=\"s1\">&#39;Dev1&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">clock_terminal</span><span class=\"o\">=</span><span class=\"s1\">&#39;/Dev1/RTSI0&#39;</span><span class=\"p\">,</span> \n        <span class=\"n\">num_AO</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span>\n        <span class=\"n\">sample_rate_AO</span><span class=\"o\">=</span><span class=\"mf\">700e3</span><span class=\"p\">,</span>\n        <span class=\"n\">num_DO</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span>\n        <span class=\"n\">sample_rate_DO</span><span class=\"o\">=</span><span class=\"mf\">2e6</span><span class=\"p\">,</span>\n        <span class=\"n\">num_AI</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n        <span class=\"n\">clock_terminal_AI</span><span class=\"o\">=</span><span class=\"s1\">&#39;/Dev1/PFI0&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">mode_AI</span><span class=\"o\">=</span><span class=\"s1\">&#39;labscript&#39;</span><span class=\"p\">,</span> <span class=\"c1\"># &#39;labscript&#39;, &#39;gated&#39;, &#39;triggered&#39;</span>\n        <span class=\"n\">sample_rate_AI</span><span class=\"o\">=</span><span class=\"mi\">1000</span><span class=\"p\">,</span>\n        <span class=\"n\">num_PFI</span><span class=\"o\">=</span><span class=\"mi\">0</span>\n<span class=\"p\">)</span>\n</pre></div>\n\n\n<p>As can be seen, every current feature of this device is specified in its initialization, removing the need for many classes dedicated to essentially the same NI board.</p>", "type": "rendered"}, "title": {"raw": "JQI generic NI board class", "markup": "markdown", "html": "<p>JQI generic NI board class</p>", "type": "rendered"}}, "type": "pullrequest", "description": "I have added the generic NI class that we use at the JQI.  I also took the time to find all (most?) of the bug fixes that have been applied to other NI cards over the past year and get them into this class.  This change required a small number of changes to the NIboard class to give it instance rather than class level variables, and I also changed some variable names to be more consistent across the board.\r\n\r\nThis in turn required some changes in all of the remaining NI boards.   It is probable that I have introduced some bugs in the process of doing this, and I don't have ready access to hardware to test.\r\n\r\nThe syntax of this new class is:\r\n\r\n```\r\nfrom labscript_devices.NI_DAQmx import NI_DAQmx\r\n\r\nNI_DAQmx(name='ni_pci_6733_0', parent_device=pulseblaster_0_ni_pci_clock,\r\n        MAX_name='Dev1',\r\n        clock_terminal='/Dev1/RTSI0', \r\n        num_AO=8,\r\n        sample_rate_AO=700e3,\r\n        num_DO=8,\r\n        sample_rate_DO=2e6,\r\n        num_AI=0,\r\n        clock_terminal_AI='/Dev1/PFI0',\r\n        mode_AI='labscript', # 'labscript', 'gated', 'triggered'\r\n        sample_rate_AI=1000,\r\n        num_PFI=0\r\n)\r\n```\r\n\r\nAs can be seen, every current feature of this device is specified in its initialization, removing the need for many classes dedicated to essentially the same NI board.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/15/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/diffstat/None?from_pullrequest_id=15"}, "commits": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/commits.json"}, "self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/15/merge"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15"}, "activity": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/diff/None?from_pullrequest_id=15"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/15/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/statuses_page=1.json"}}, "title": "JQI generic NI board class", "close_source_branch": false, "reviewers": [], "id": 15, "destination": {"commit": {"hash": "18f51a6359d5", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/commit/18f51a6359d5.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/commits/18f51a6359d5"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices.json"}, "html": {"href": "#!/labscript_suite/labscript_devices"}, "avatar": {"href": "data/bytebucket.org/ravatar/{30c94cb1-feec-4534-8885-92452023c9c9}ts=python"}}, "type": "repository", "name": "labscript_devices", "full_name": "labscript_suite/labscript_devices", "uuid": "{30c94cb1-feec-4534-8885-92452023c9c9}"}, "branch": {"name": "default"}}, "created_on": "2017-06-20T17:18:06.008783+00:00", "summary": {"raw": "I have added the generic NI class that we use at the JQI.  I also took the time to find all (most?) of the bug fixes that have been applied to other NI cards over the past year and get them into this class.  This change required a small number of changes to the NIboard class to give it instance rather than class level variables, and I also changed some variable names to be more consistent across the board.\r\n\r\nThis in turn required some changes in all of the remaining NI boards.   It is probable that I have introduced some bugs in the process of doing this, and I don't have ready access to hardware to test.\r\n\r\nThe syntax of this new class is:\r\n\r\n```\r\nfrom labscript_devices.NI_DAQmx import NI_DAQmx\r\n\r\nNI_DAQmx(name='ni_pci_6733_0', parent_device=pulseblaster_0_ni_pci_clock,\r\n        MAX_name='Dev1',\r\n        clock_terminal='/Dev1/RTSI0', \r\n        num_AO=8,\r\n        sample_rate_AO=700e3,\r\n        num_DO=8,\r\n        sample_rate_DO=2e6,\r\n        num_AI=0,\r\n        clock_terminal_AI='/Dev1/PFI0',\r\n        mode_AI='labscript', # 'labscript', 'gated', 'triggered'\r\n        sample_rate_AI=1000,\r\n        num_PFI=0\r\n)\r\n```\r\n\r\nAs can be seen, every current feature of this device is specified in its initialization, removing the need for many classes dedicated to essentially the same NI board.", "markup": "markdown", "html": "<p>I have added the generic NI class that we use at the JQI.  I also took the time to find all (most?) of the bug fixes that have been applied to other NI cards over the past year and get them into this class.  This change required a small number of changes to the NIboard class to give it instance rather than class level variables, and I also changed some variable names to be more consistent across the board.</p>\n<p>This in turn required some changes in all of the remaining NI boards.   It is probable that I have introduced some bugs in the process of doing this, and I don't have ready access to hardware to test.</p>\n<p>The syntax of this new class is:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">labscript_devices.NI_DAQmx</span> <span class=\"kn\">import</span> <span class=\"n\">NI_DAQmx</span>\n\n<span class=\"n\">NI_DAQmx</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s1\">&#39;ni_pci_6733_0&#39;</span><span class=\"p\">,</span> <span class=\"n\">parent_device</span><span class=\"o\">=</span><span class=\"n\">pulseblaster_0_ni_pci_clock</span><span class=\"p\">,</span>\n        <span class=\"n\">MAX_name</span><span class=\"o\">=</span><span class=\"s1\">&#39;Dev1&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">clock_terminal</span><span class=\"o\">=</span><span class=\"s1\">&#39;/Dev1/RTSI0&#39;</span><span class=\"p\">,</span> \n        <span class=\"n\">num_AO</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span>\n        <span class=\"n\">sample_rate_AO</span><span class=\"o\">=</span><span class=\"mf\">700e3</span><span class=\"p\">,</span>\n        <span class=\"n\">num_DO</span><span class=\"o\">=</span><span class=\"mi\">8</span><span class=\"p\">,</span>\n        <span class=\"n\">sample_rate_DO</span><span class=\"o\">=</span><span class=\"mf\">2e6</span><span class=\"p\">,</span>\n        <span class=\"n\">num_AI</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span>\n        <span class=\"n\">clock_terminal_AI</span><span class=\"o\">=</span><span class=\"s1\">&#39;/Dev1/PFI0&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">mode_AI</span><span class=\"o\">=</span><span class=\"s1\">&#39;labscript&#39;</span><span class=\"p\">,</span> <span class=\"c1\"># &#39;labscript&#39;, &#39;gated&#39;, &#39;triggered&#39;</span>\n        <span class=\"n\">sample_rate_AI</span><span class=\"o\">=</span><span class=\"mi\">1000</span><span class=\"p\">,</span>\n        <span class=\"n\">num_PFI</span><span class=\"o\">=</span><span class=\"mi\">0</span>\n<span class=\"p\">)</span>\n</pre></div>\n\n\n<p>As can be seen, every current feature of this device is specified in its initialization, removing the need for many classes dedicated to essentially the same NI board.</p>", "type": "rendered"}, "source": {"commit": null, "repository": null, "branch": {"name": "default"}}, "comment_count": 25, "state": "DECLINED", "task_count": 0, "participants": [{"role": "PARTICIPANT", "participated_on": "2018-11-10T18:01:07.483771+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "PARTICIPANT", "participated_on": "2017-06-21T19:42:25.775661+00:00", "type": "participant", "approved": false, "user": {"display_name": "Ian B. Spielman", "uuid": "{bff0d3df-2ed5-4ff6-b13d-ce6cd935edb1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D"}, "html": {"href": "https://bitbucket.org/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/54beee087619e1a612011791e203f277d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIS-0.png"}}, "nickname": "Ian Spielman", "type": "user", "account_id": "557058:b0e98d01-12e7-4a9d-a274-a195def255d2"}}, {"role": "PARTICIPANT", "participated_on": "2017-07-18T00:34:53.280662+00:00", "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}, {"role": "PARTICIPANT", "participated_on": "2017-11-13T14:49:06.604048+00:00", "type": "participant", "approved": false, "user": {"display_name": "Daniel Barker", "uuid": "{6f3f4446-92ab-4af6-83ed-bb2906b3a304}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6f3f4446-92ab-4af6-83ed-bb2906b3a304%7D"}, "html": {"href": "https://bitbucket.org/%7B6f3f4446-92ab-4af6-83ed-bb2906b3a304%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fbcf4c479308ad530548be5884a7c70fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDB-4.png"}}, "nickname": "dsbarker", "type": "user", "account_id": "557058:02be919f-267c-4793-9e86-ef07d163b58b"}}, {"role": "PARTICIPANT", "participated_on": "2017-11-07T15:50:50.935982+00:00", "type": "participant", "approved": false, "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}}, {"role": "PARTICIPANT", "participated_on": "2017-11-10T09:03:58.969414+00:00", "type": "participant", "approved": false, "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}}], "reason": "This is now superseded by pull request #56", "updated_on": "2018-11-10T18:01:07.494495+00:00", "author": {"display_name": "Ian B. Spielman", "uuid": "{bff0d3df-2ed5-4ff6-b13d-ce6cd935edb1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D"}, "html": {"href": "https://bitbucket.org/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/54beee087619e1a612011791e203f277d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIS-0.png"}}, "nickname": "Ian Spielman", "type": "user", "account_id": "557058:b0e98d01-12e7-4a9d-a274-a195def255d2"}, "merge_commit": null, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}