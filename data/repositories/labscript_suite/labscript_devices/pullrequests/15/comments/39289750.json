{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/comments/39289750.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15/_/diff#comment-39289750"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 15, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15"}}, "title": "JQI generic NI board class"}, "content": {"raw": "David, it would be _great_ if you were able to test this code on a range of devices.  We have it running at JQI on a couple of PCI cards and on some USB based devices, so it is fairly solid, but may have many edge cases.  One thing I implemented was the zlock lock to prevent simultaneous access to the NI library.  I don't know if this is needed, but it (may have) fixed a hang.  I do notice that it is not uniformly applied, to all calls to the NI library.  A hidden bug or not, I don't know, but certainly not consistent.\n\nRegarding error checking, I believe that your suggestion is great.  I have implemented it in my fork, but with more lines to give better error reporting.", "markup": "markdown", "html": "<p>David, it would be <em>great</em> if you were able to test this code on a range of devices.  We have it running at JQI on a couple of PCI cards and on some USB based devices, so it is fairly solid, but may have many edge cases.  One thing I implemented was the zlock lock to prevent simultaneous access to the NI library.  I don't know if this is needed, but it (may have) fixed a hang.  I do notice that it is not uniformly applied, to all calls to the NI library.  A hidden bug or not, I don't know, but certainly not consistent.</p>\n<p>Regarding error checking, I believe that your suggestion is great.  I have implemented it in my fork, but with more lines to give better error reporting.</p>", "type": "rendered"}, "created_on": "2017-06-21T15:00:00.568334+00:00", "user": {"display_name": "Ian B. Spielman", "uuid": "{bff0d3df-2ed5-4ff6-b13d-ce6cd935edb1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D"}, "html": {"href": "https://bitbucket.org/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/54beee087619e1a612011791e203f277d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIS-0.png"}}, "nickname": "Ian Spielman", "type": "user", "account_id": "557058:b0e98d01-12e7-4a9d-a274-a195def255d2"}, "updated_on": "2017-06-21T15:00:13.782170+00:00", "type": "pullrequest_comment", "id": 39289750}