{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/comments/39312530.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15/_/diff#comment-39312530"}}, "parent": {"id": 39289750, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15/comments/39289750.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15/_/diff#comment-39289750"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 15, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/15.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/15"}}, "title": "JQI generic NI board class"}, "content": {"raw": "We put locks like that in originally, but I think we found they were not necessary. It seemed that different processes calling the API at the same time was fine - they would just get errors if hey tried to access the same hardware, and within a process the API seemed to provide its own lock automatically (though I could be misremembering that). We kept the one for the wait monitor out of an overabundance of caution since it is in charge of timing out waits - and we wanted to minimise the chances of an error on our part causing that part of the code to be locked out of using the API when it needed to.", "markup": "markdown", "html": "<p>We put locks like that in originally, but I think we found they were not necessary. It seemed that different processes calling the API at the same time was fine - they would just get errors if hey tried to access the same hardware, and within a process the API seemed to provide its own lock automatically (though I could be misremembering that). We kept the one for the wait monitor out of an overabundance of caution since it is in charge of timing out waits - and we wanted to minimise the chances of an error on our part causing that part of the code to be locked out of using the API when it needed to.</p>", "type": "rendered"}, "created_on": "2017-06-21T19:50:30.556426+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-21T19:54:32.408795+00:00", "type": "pullrequest_comment", "id": 39312530}