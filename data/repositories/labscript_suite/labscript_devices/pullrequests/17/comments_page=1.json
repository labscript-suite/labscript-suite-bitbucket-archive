{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42704508.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42704508"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17"}}, "title": "time based shot duration workaround for old pulseblasters"}, "content": {"raw": "A new lab at NIST started using the labscript suite about two weeks ago, and ran into some problems immediately - it turned out their PulseBlaster is so old that it doesn't respond to status checks. The Spincore API's documentation says that not all boards support the status check function, so I suppose we found one.\n\nThis workaround just has Python end the experiment a fixed amount of time after it starts, equal to the duration of the shot plus some extra time (0.5 sec by default but configurable) to allow for software delays. It is up to the user to ensure the \"extra time\" is enough to encompass any waits that might occur.\n\nThis code has been in use in that lab for the past two weeks.", "markup": "markdown", "html": "<p>A new lab at NIST started using the labscript suite about two weeks ago, and ran into some problems immediately - it turned out their PulseBlaster is so old that it doesn't respond to status checks. The Spincore API's documentation says that not all boards support the status check function, so I suppose we found one.</p>\n<p>This workaround just has Python end the experiment a fixed amount of time after it starts, equal to the duration of the shot plus some extra time (0.5 sec by default but configurable) to allow for software delays. It is up to the user to ensure the \"extra time\" is enough to encompass any waits that might occur.</p>\n<p>This code has been in use in that lab for the past two weeks.</p>", "type": "rendered"}, "created_on": "2017-08-12T15:59:21.164944+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-12T15:59:21.167128+00:00", "type": "pullrequest_comment", "id": 42704508}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42707581.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42707581"}}, "parent": {"id": 42704508, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42704508.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42704508"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17"}}, "title": "time based shot duration workaround for old pulseblasters"}, "content": {"raw": "Given that the maximum length of a wait is defined by the wait timeout, couldn't you use that (in the BLACS worker process) to make the users life easier so they didn't have to increase the extra time to account for the lengths of the waits?", "markup": "markdown", "html": "<p>Given that the maximum length of a wait is defined by the wait timeout, couldn't you use that (in the BLACS worker process) to make the users life easier so they didn't have to increase the extra time to account for the lengths of the waits?</p>", "type": "rendered"}, "created_on": "2017-08-13T07:34:04.661068+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-08-13T07:34:04.664088+00:00", "type": "pullrequest_comment", "id": 42707581}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42711606.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42711606"}}, "parent": {"id": 42707581, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42707581.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42707581"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17"}}, "title": "time based shot duration workaround for old pulseblasters"}, "content": {"raw": "Yes, I suppose the sum of all waits timeouts should be included in the calculation of how long the experiment is.\n\nThe \"extra time\" is then still necessary because timing out waits is done in software, but at least it doesn't have to be changed based on what you're doing with waits.\n\nThe comment (and in future...actual documentation) should note that if you're using this mode, you should pay attention to the waits timeouts, which otherwise default to 5 seconds which is probably larger than what you want.\n\nEdit: done.\n\n@dsbarker, you'll need to pull from my fork (#!/cbillington/labscript_devices/) to get this workaround once you revert your local copies to mainline labscript since this change isn't in mainline yet. If you could let us know if your experiment still works with this most recent commit, that would be great!", "markup": "markdown", "html": "<p>Yes, I suppose the sum of all waits timeouts should be included in the calculation of how long the experiment is.</p>\n<p>The \"extra time\" is then still necessary because timing out waits is done in software, but at least it doesn't have to be changed based on what you're doing with waits.</p>\n<p>The comment (and in future...actual documentation) should note that if you're using this mode, you should pay attention to the waits timeouts, which otherwise default to 5 seconds which is probably larger than what you want.</p>\n<p>Edit: done.</p>\n<p>@dsbarker, you'll need to pull from my fork (<a href=\"#!/cbillington/labscript_devices/\" rel=\"nofollow\" class=\"ap-connect-link\">#!/cbillington/labscript_devices/</a>) to get this workaround once you revert your local copies to mainline labscript since this change isn't in mainline yet. If you could let us know if your experiment still works with this most recent commit, that would be great!</p>", "type": "rendered"}, "created_on": "2017-08-13T18:35:51.826696+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-13T19:14:08.012796+00:00", "type": "pullrequest_comment", "id": 42711606}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/42961088.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-42961088"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17"}}, "title": "time based shot duration workaround for old pulseblasters"}, "content": {"raw": "I've tested the most recent code from @cbillington. It did not break our ancient equipment, so I think this can be merged.", "markup": "markdown", "html": "<p>I've tested the most recent code from @cbillington. It did not break our ancient equipment, so I think this can be merged.</p>", "type": "rendered"}, "created_on": "2017-08-16T21:05:19.657935+00:00", "user": {"display_name": "Daniel Barker", "uuid": "{6f3f4446-92ab-4af6-83ed-bb2906b3a304}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6f3f4446-92ab-4af6-83ed-bb2906b3a304%7D"}, "html": {"href": "https://bitbucket.org/%7B6f3f4446-92ab-4af6-83ed-bb2906b3a304%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fbcf4c479308ad530548be5884a7c70fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDB-4.png"}}, "nickname": "dsbarker", "type": "user", "account_id": "557058:02be919f-267c-4793-9e86-ef07d163b58b"}, "updated_on": "2017-08-16T21:05:19.715425+00:00", "type": "pullrequest_comment", "id": 42961088}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17/comments/43567061.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17/_/diff#comment-43567061"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/17"}}, "title": "time based shot duration workaround for old pulseblasters"}, "content": {"raw": "I've now tested on our experiment, doesn't seem to break anything for our devices.", "markup": "markdown", "html": "<p>I've now tested on our experiment, doesn't seem to break anything for our devices.</p>", "type": "rendered"}, "created_on": "2017-08-25T05:06:02.441240+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": "2017-08-25T05:06:02.443874+00:00", "type": "pullrequest_comment", "id": 43567061}], "page": 1, "size": 5}