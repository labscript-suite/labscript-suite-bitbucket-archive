{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/21/comments/59836967.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/21/_/diff#comment-59836967"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/21"}}, "title": "Python3"}, "content": {"raw": "@chrisbillington was there a reason to revert the changes to rjust in Pulseblaster No DDS in commit [debe912](#!/PhyNerd/labscript_devices/commits/debe9125a49e0ee5e5f7764be310bcfee179dd9a?at=default#LPulseBlaster_No_DDS.pyF424)? \n\nThis will cause problems for Python2:\n\n    JWrkPC:~ janwerkmann$ python\n    Python 2.7.14 |Anaconda, Inc.| (default, Oct 27 2017, 11:24:26) \n    [GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)] on darwin\n    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n    >>> from __future__ import unicode_literals\n    >>> bin(123)[2:].rjust(5, '0')[::-1]\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n    TypeError: rjust() argument 2 must be char, not unicode\n\nThe simple fix with b'0' would then cause python3 problems:\n\n    JWrkPC:~ janwerkmann$ python3\n    Python 3.6.1 (default, Jun 25 2017, 16:13:42) \n    [GCC 4.2.1 Compatible Apple LLVM 8.1.0 (clang-802.0.42)] on darwin\n    Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n    >>> bin(123)[2:].rjust(5, b'0')[::-1]\n    Traceback (most recent call last):\n      File \"<stdin>\", line 1, in <module>\n    TypeError: The fill character must be a unicode character, not bytes", "markup": "markdown", "html": "<p>@chrisbillington was there a reason to revert the changes to rjust in Pulseblaster No DDS in commit <a data-is-external-link=\"true\" href=\"#!/PhyNerd/labscript_devices/commits/debe9125a49e0ee5e5f7764be310bcfee179dd9a?at=default#LPulseBlaster_No_DDS.pyF424\" rel=\"nofollow\">debe912</a>? </p>\n<p>This will cause problems for Python2:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nv\">JWrkPC</span><span class=\"s s-Atom\">:~</span> <span class=\"s s-Atom\">janwerkmann$</span> <span class=\"s s-Atom\">python</span>\n<span class=\"nv\">Python</span> <span class=\"mf\">2.7.14</span> <span class=\"p\">|</span><span class=\"nv\">Anaconda</span><span class=\"p\">,</span> <span class=\"nv\">Inc</span><span class=\"p\">.|</span> <span class=\"p\">(</span><span class=\"s s-Atom\">default</span><span class=\"p\">,</span> <span class=\"nv\">Oct</span> <span class=\"mi\">27</span> <span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"s s-Atom\">:</span><span class=\"mi\">24</span><span class=\"s s-Atom\">:</span><span class=\"mi\">26</span><span class=\"p\">)</span> \n<span class=\"p\">[</span><span class=\"nv\">GCC</span> <span class=\"mf\">4.2.1</span> <span class=\"nv\">Compatible</span> <span class=\"nv\">Clang</span> <span class=\"mf\">4.0.1</span> <span class=\"p\">(</span><span class=\"s s-Atom\">tags</span><span class=\"o\">/</span><span class=\"nv\">RELEASE_401</span><span class=\"o\">/</span><span class=\"s s-Atom\">final</span><span class=\"p\">)]</span> <span class=\"s s-Atom\">on</span> <span class=\"s s-Atom\">darwin</span>\n<span class=\"nv\">Type</span> <span class=\"s2\">&quot;help&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;copyright&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;credits&quot;</span> <span class=\"s s-Atom\">or</span> <span class=\"s2\">&quot;license&quot;</span> <span class=\"s s-Atom\">for</span> <span class=\"s s-Atom\">more</span> <span class=\"s s-Atom\">information</span><span class=\"p\">.</span>\n<span class=\"s s-Atom\">&gt;&gt;&gt;</span> <span class=\"s s-Atom\">from</span> <span class=\"k\">__</span><span class=\"s s-Atom\">future__</span> <span class=\"s s-Atom\">import</span> <span class=\"s s-Atom\">unicode_literals</span>\n<span class=\"s s-Atom\">&gt;&gt;&gt;</span> <span class=\"nf\">bin</span><span class=\"p\">(</span><span class=\"mi\">123</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"s s-Atom\">:</span><span class=\"p\">].</span><span class=\"nf\">rjust</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"s s-Atom\">&#39;0&#39;</span><span class=\"p\">)[</span><span class=\"s s-Atom\">::-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"nv\">Traceback</span> <span class=\"p\">(</span><span class=\"s s-Atom\">most</span> <span class=\"s s-Atom\">recent</span> <span class=\"s s-Atom\">call</span> <span class=\"s s-Atom\">last</span><span class=\"p\">)</span><span class=\"s s-Atom\">:</span>\n  <span class=\"nv\">File</span> <span class=\"s2\">&quot;&lt;stdin&gt;&quot;</span><span class=\"p\">,</span> <span class=\"s s-Atom\">line</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s s-Atom\">in</span> <span class=\"o\">&lt;</span><span class=\"s s-Atom\">module</span><span class=\"o\">&gt;</span>\n<span class=\"nv\">TypeError</span><span class=\"s s-Atom\">:</span> <span class=\"nf\">rjust</span><span class=\"p\">()</span> <span class=\"s s-Atom\">argument</span> <span class=\"mi\">2</span> <span class=\"s s-Atom\">must</span> <span class=\"s s-Atom\">be</span> <span class=\"s s-Atom\">char</span><span class=\"p\">,</span> <span class=\"o\">not</span> <span class=\"s s-Atom\">unicode</span>\n</pre></div>\n\n\n<p>The simple fix with b'0' would then cause python3 problems:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nv\">JWrkPC</span><span class=\"s s-Atom\">:~</span> <span class=\"s s-Atom\">janwerkmann$</span> <span class=\"s s-Atom\">python3</span>\n<span class=\"nv\">Python</span> <span class=\"mf\">3.6.1</span> <span class=\"p\">(</span><span class=\"s s-Atom\">default</span><span class=\"p\">,</span> <span class=\"nv\">Jun</span> <span class=\"mi\">25</span> <span class=\"mi\">2017</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"s s-Atom\">:</span><span class=\"mi\">13</span><span class=\"s s-Atom\">:</span><span class=\"mi\">42</span><span class=\"p\">)</span> \n<span class=\"p\">[</span><span class=\"nv\">GCC</span> <span class=\"mf\">4.2.1</span> <span class=\"nv\">Compatible</span> <span class=\"nv\">Apple</span> <span class=\"nv\">LLVM</span> <span class=\"mf\">8.1.0</span> <span class=\"p\">(</span><span class=\"s s-Atom\">clang</span><span class=\"o\">-</span><span class=\"mf\">802.0.42</span><span class=\"p\">)]</span> <span class=\"s s-Atom\">on</span> <span class=\"s s-Atom\">darwin</span>\n<span class=\"nv\">Type</span> <span class=\"s2\">&quot;help&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;copyright&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;credits&quot;</span> <span class=\"s s-Atom\">or</span> <span class=\"s2\">&quot;license&quot;</span> <span class=\"s s-Atom\">for</span> <span class=\"s s-Atom\">more</span> <span class=\"s s-Atom\">information</span><span class=\"p\">.</span>\n<span class=\"s s-Atom\">&gt;&gt;&gt;</span> <span class=\"nf\">bin</span><span class=\"p\">(</span><span class=\"mi\">123</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"s s-Atom\">:</span><span class=\"p\">].</span><span class=\"nf\">rjust</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"s s-Atom\">b&#39;0&#39;</span><span class=\"p\">)[</span><span class=\"s s-Atom\">::-</span><span class=\"mi\">1</span><span class=\"p\">]</span>\n<span class=\"nv\">Traceback</span> <span class=\"p\">(</span><span class=\"s s-Atom\">most</span> <span class=\"s s-Atom\">recent</span> <span class=\"s s-Atom\">call</span> <span class=\"s s-Atom\">last</span><span class=\"p\">)</span><span class=\"s s-Atom\">:</span>\n  <span class=\"nv\">File</span> <span class=\"s2\">&quot;&lt;stdin&gt;&quot;</span><span class=\"p\">,</span> <span class=\"s s-Atom\">line</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s s-Atom\">in</span> <span class=\"o\">&lt;</span><span class=\"s s-Atom\">module</span><span class=\"o\">&gt;</span>\n<span class=\"nv\">TypeError</span><span class=\"s s-Atom\">:</span> <span class=\"nv\">The</span> <span class=\"s s-Atom\">fill</span> <span class=\"s s-Atom\">character</span> <span class=\"s s-Atom\">must</span> <span class=\"s s-Atom\">be</span> <span class=\"s s-Atom\">a</span> <span class=\"s s-Atom\">unicode</span> <span class=\"s s-Atom\">character</span><span class=\"p\">,</span> <span class=\"o\">not</span> <span class=\"s s-Atom\">bytes</span>\n</pre></div>", "type": "rendered"}, "created_on": "2018-03-26T10:04:03.803790+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-26T10:04:04.009481+00:00", "type": "pullrequest_comment", "id": 59836967}