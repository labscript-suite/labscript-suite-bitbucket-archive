{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/39/comments/83660291.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/39/_/diff#comment-83660291"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/39"}}, "title": "Python3 ZaberStage"}, "content": {"raw": "On Python 3, I get the following error:\n\n```python\nTraceback (most recent call last):\r\n  File \"C:\\labscript_suite\\labscript_devices\\ZaberStageController.py\", line 148, in program_manual\r\n    zaberapi.move(self.connection,port,data=values[stage])\r\n  File \"C:\\labscript_suite\\userlib\\pythonlib\\zaberapi\\zaberapi.py\", line 75, in move\r\n    connection.write(packet.pack(devnum,movecomm,data))\r\nstruct.error: required argument is not an integer\n```\n\nRemedied by casting value of data argument to int within `zaberapi.move` \\(in `transition_to_buffered` and `program_manual`\\). Incidentally, I made the zaberapi \\(Monash pythonlib\\) Python 3 compatible.", "markup": "markdown", "html": "<p>On Python 3, I get the following error:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_devices\\ZaberStageController.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">148</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">program_manual</span>\n    <span class=\"n\">zaberapi</span><span class=\"o\">.</span><span class=\"n\">move</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">connection</span><span class=\"p\">,</span><span class=\"n\">port</span><span class=\"p\">,</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">values</span><span class=\"p\">[</span><span class=\"n\">stage</span><span class=\"p\">])</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\userlib\\pythonlib\\zaberapi\\zaberapi.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">75</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">move</span>\n    <span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"n\">packet</span><span class=\"o\">.</span><span class=\"n\">pack</span><span class=\"p\">(</span><span class=\"n\">devnum</span><span class=\"p\">,</span><span class=\"n\">movecomm</span><span class=\"p\">,</span><span class=\"n\">data</span><span class=\"p\">))</span>\n<span class=\"n\">struct</span><span class=\"o\">.</span><span class=\"n\">error</span><span class=\"p\">:</span> <span class=\"n\">required</span> <span class=\"n\">argument</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"n\">an</span> <span class=\"n\">integer</span>\n</pre></div>\n\n\n<p>Remedied by casting value of data argument to int within <code>zaberapi.move</code> (in <code>transition_to_buffered</code> and <code>program_manual</code>). Incidentally, I made the zaberapi (Monash pythonlib) Python 3 compatible.</p>", "type": "rendered"}, "created_on": "2018-11-27T09:42:29.279214+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2018-11-27T09:42:29.302051+00:00", "type": "pullrequest_comment", "id": 83660291}