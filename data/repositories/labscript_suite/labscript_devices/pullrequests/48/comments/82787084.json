{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/48/comments/82787084.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/48/_/diff#comment-82787084"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 48, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/48.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/48"}}, "title": "Imaqdx server"}, "content": {"raw": "I\u2019ve soak tested the abort functionality, sending \u2018abort\u2019 to the server at the following times:\n\n* While the acquisition thread is alive, i.e. before any/all images have been acquired and `grab_multiple()` is running,\n* After all images have been acquired, but before `transition_to_static()`.\n\nThis revealed the following bugs:\n\n* In subsequent shot\\(s\\), `abort()` would be called erroneously as the `camera._acquisition_abort` flag was not always reset.\n* `grab_multiple()` was not interrupted by issuing 'abort' until the experiment shot duration had elapsed, raising a `TimeoutError` in `Camera.abort()`.\n\nThese were resolved in c20831a.", "markup": "markdown", "html": "<p>I\u2019ve soak tested the abort functionality, sending \u2018abort\u2019 to the server at the following times:</p>\n<ul>\n<li>While the acquisition thread is alive, i.e. before any/all images have been acquired and <code>grab_multiple()</code> is running,</li>\n<li>After all images have been acquired, but before <code>transition_to_static()</code>.</li>\n</ul>\n<p>This revealed the following bugs:</p>\n<ul>\n<li>In subsequent shot(s), <code>abort()</code> would be called erroneously as the <code>camera._acquisition_abort</code> flag was not always reset.</li>\n<li><code>grab_multiple()</code> was not interrupted by issuing 'abort' until the experiment shot duration had elapsed, raising a <code>TimeoutError</code> in <code>Camera.abort()</code>.</li>\n</ul>\n<p>These were resolved in <a href=\"#!/labscript_suite/labscript_devices/commits/c20831a\" rel=\"nofollow\" class=\"ap-connect-link\">c20831a</a>.</p>", "type": "rendered"}, "created_on": "2018-11-19T06:55:17.487615+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2018-11-20T00:39:27.051428+00:00", "type": "pullrequest_comment", "id": 82787084}