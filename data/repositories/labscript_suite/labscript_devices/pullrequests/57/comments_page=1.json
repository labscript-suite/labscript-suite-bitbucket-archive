{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/57/comments/84351317.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/57/_/diff#comment-84351317"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/57.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/57"}}, "title": "Fix broken pb_no_dds class in pb_stop_programming/STOP mode"}, "content": {"raw": "Another approach to this, since the device class knows at compile-time which programming scheme is being used, is to modify how the instructions are generated, rather than how they are programmed. If line zero is going to be a wait on the final state of the program, this should probably be generated by labscript. Then the BLACS worker can just dumbly program in what it has. This can perhaps be a task for the eventual great PulseBlaster re-unification when we bring PulseBlaster.py and PulseBlaster_no_DDS.py back together to deduplicate all the code they have in common.\n\nBut that is a task for another day, in the meantime if anyone wants to test this, that would be great! As mentioned the PulseBlaster_No_DDS changes are well-tested, at least in pb_stop_programming/STOP mode, but I just copied the change to PulseBlaster.py and this has not been tested.", "markup": "markdown", "html": "<p>Another approach to this, since the device class knows at compile-time which programming scheme is being used, is to modify how the instructions are generated, rather than how they are programmed. If line zero is going to be a wait on the final state of the program, this should probably be generated by labscript. Then the BLACS worker can just dumbly program in what it has. This can perhaps be a task for the eventual great PulseBlaster re-unification when we bring PulseBlaster.py and PulseBlaster_no_DDS.py back together to deduplicate all the code they have in common.</p>\n<p>But that is a task for another day, in the meantime if anyone wants to test this, that would be great! As mentioned the PulseBlaster_No_DDS changes are well-tested, at least in pb_stop_programming/STOP mode, but I just copied the change to PulseBlaster.py and this has not been tested.</p>", "type": "rendered"}, "created_on": "2018-12-03T15:43:02.631739+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-12-03T15:43:19.189391+00:00", "type": "pullrequest_comment", "id": 84351317}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/57/comments/90712616.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/57/_/diff#comment-90712616"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 57, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/57.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/57"}}, "title": "Fix broken pb_no_dds class in pb_stop_programming/STOP mode"}, "content": {"raw": "This has been in use for a while now on an experiment here, and although we're only using one of the classes, the code is obviously identical for both.\n\nI'll merge it next Monday if there is no enthusiasm for further testing, since I'm pretty unconcerned about the potential for regressions from this one.", "markup": "markdown", "html": "<p>This has been in use for a while now on an experiment here, and although we're only using one of the classes, the code is obviously identical for both.</p>\n<p>I'll merge it next Monday if there is no enthusiasm for further testing, since I'm pretty unconcerned about the potential for regressions from this one.</p>", "type": "rendered"}, "created_on": "2019-02-06T23:00:21.184695+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-02-06T23:00:21.193323+00:00", "type": "pullrequest_comment", "id": 90712616}], "page": 1, "size": 2}