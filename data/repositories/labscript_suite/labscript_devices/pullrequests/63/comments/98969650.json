{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/63/comments/98969650.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/63/_/diff#comment-98969650"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 63, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/63.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/63"}}, "title": "IMAQdxCamera"}, "content": {"raw": "The code this class derives from permitted either the MAX name _or_ serial number be used \\(in various formats\\) to specify the camera. Why get rid of the latter? Using the MAX name is better aligned with how we instantiate NI-branded devices, but this represents a shift from the long-established option to identify cameras by their serial number. \n\nI agree with the reductions you\u2019ve explicitly mentioned above. In addition to these, there are some other omissions from imaqdx\\_server.py \\(pull request #48\\), and I wonder whether some/all of these were deliberate, too.\n\n* set\\_attribute missing assertion that isinstance\\(value, \\(bytes, str, float\\)\\).\n* ImaqDxError handling in get\\_attribute and get\\_attribute\\_options.\n\n\u2026 and IMAQdxCameraServer:\n\n* transition\\_to\\_buffered:\n\n    * set n\\_images to 0 or None if no exposures in current shot. Perhaps inconsequential.\n    \n\nRegarding the omission of introspecting the experiment shot duration and using this to inform the acquisition timeout, you mention that \u201cThere is no harm to timing out regularly throughout the shot\u201d and that \u201cmore frequent timeouts are better\u201d. But now the timeout is never set at all, so there\u2019s no guarantee that it\u2019s less than the experiment shot duration. If it\u2019s been set \\(inadvertently or by default\\) to a value longer than the experiment shot duration, wouldn\u2019t that delay shot completion in the event of a genuine timeout?\n\nCool idea to save all IMAQdx attributes to the shot file. I cannot test this as I don\u2019t presently have a camera.", "markup": "markdown", "html": "<p>The code this class derives from permitted either the MAX name <em>or</em> serial number be used (in various formats) to specify the camera. Why get rid of the latter? Using the MAX name is better aligned with how we instantiate NI-branded devices, but this represents a shift from the long-established option to identify cameras by their serial number. </p>\n<p>I agree with the reductions you\u2019ve explicitly mentioned above. In addition to these, there are some other omissions from imaqdx_server.py (<a href=\"#!/labscript_suite/labscript_devices/pull-requests/48/imaqdx-server\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #48</a>), and I wonder whether some/all of these were deliberate, too.</p>\n<ul>\n<li>set_attribute missing assertion that isinstance(value, (bytes, str, float)).</li>\n<li>ImaqDxError handling in get_attribute and get_attribute_options.</li>\n</ul>\n<p>\u2026 and IMAQdxCameraServer:</p>\n<ul>\n<li>\n<p>transition_to_buffered:</p>\n<ul>\n<li>set n_images to 0 or None if no exposures in current shot. Perhaps inconsequential.</li>\n</ul>\n</li>\n</ul>\n<p>Regarding the omission of introspecting the experiment shot duration and using this to inform the acquisition timeout, you mention that \u201cThere is no harm to timing out regularly throughout the shot\u201d and that \u201cmore frequent timeouts are better\u201d. But now the timeout is never set at all, so there\u2019s no guarantee that it\u2019s less than the experiment shot duration. If it\u2019s been set (inadvertently or by default) to a value longer than the experiment shot duration, wouldn\u2019t that delay shot completion in the event of a genuine timeout?</p>\n<p>Cool idea to save all IMAQdx attributes to the shot file. I cannot test this as I don\u2019t presently have a camera.</p>", "type": "rendered"}, "created_on": "2019-04-16T13:09:55.223439+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-04-16T13:09:55.246928+00:00", "type": "pullrequest_comment", "id": 98969650}