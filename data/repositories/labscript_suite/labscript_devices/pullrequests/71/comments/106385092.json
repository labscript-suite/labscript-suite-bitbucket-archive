{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/71/comments/106385092.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/71/_/diff#comment-106385092"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 71, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/71.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/71"}}, "title": "FlyCapture2 backend for IMAQdxCamera driver"}, "content": {"raw": "In testing this, I was able to reproduce one of the bugs I saw in PR #69, namely the temp.h5 file issue. Basically, if I sent a trigger too fast and the camera missed it and timed out I would get this error when trying to transition back to manual. I uncommented the raise and got a more descriptive error:\n\n![](data/bitbucket.org/repo/6AK7EM/images/3849789154-image.png)\nFurther testing revealed that this error is not present when blacs is started via command line \\( \\`python -m blacs\\` \\). Best guess is that because temp.h5 is not a fully qualified path, when run from the Windows shortcut it attempts to open it in a protected space and gets rejected. Providing a safer path will probably fix this. That said, the queue locking up is still a thing, but maybe that is not a high priority to chase down.", "markup": "markdown", "html": "<p>In testing this, I was able to reproduce one of the bugs I saw in <a href=\"#!/labscript_suite/labscript_devices/pull-requests/69/pylon-backend-for-imaqdxcamera-class\" rel=\"nofollow\" class=\"ap-connect-link\">PR #69</a>, namely the temp.h5 file issue. Basically, if I sent a trigger too fast and the camera missed it and timed out I would get this error when trying to transition back to manual. I uncommented the raise and got a more descriptive error:</p>\n<p><img alt=\"\" src=\"data/bitbucket.org/repo/6AK7EM/images/3849789154-image.png\" />\nFurther testing revealed that this error is not present when blacs is started via command line ( `python -m blacs` ). Best guess is that because temp.h5 is not a fully qualified path, when run from the Windows shortcut it attempts to open it in a protected space and gets rejected. Providing a safer path will probably fix this. That said, the queue locking up is still a thing, but maybe that is not a high priority to chase down.</p>", "type": "rendered"}, "created_on": "2019-06-19T23:14:03.578173+00:00", "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, "updated_on": "2019-06-19T23:14:03.808361+00:00", "type": "pullrequest_comment", "id": 106385092}