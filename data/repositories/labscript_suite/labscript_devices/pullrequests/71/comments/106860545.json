{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/71/comments/106860545.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/71/_/diff#comment-106860545"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 71, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/71.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/71"}}, "title": "FlyCapture2 backend for IMAQdxCamera driver"}, "content": {"raw": "Found a couple fairly serious bugs in the attribute setting code that required a rework.\n\nWhile testing, I noticed that transitioning to buffered involves a complete reset of all camera attributes for each shot. With my test configuration, that takes about 200ms which is a bit ridiculous since only one setting is actually changing between buffered and manual mode.  I suspect this kind of slowdown is going to be common to all the camera classes, so what would you think about modifying the IMAQdx camera to have three settings dictionaries: camera attributes \\(for common settings\\), manual mode camera attributes \\(for manual mode\\), and buffered mode camera attributes \\(for buffered mode\\)? Then it would be easy for the user to tune what settings get set when and cut down on unnecessary writes.", "markup": "markdown", "html": "<p>Found a couple fairly serious bugs in the attribute setting code that required a rework.</p>\n<p>While testing, I noticed that transitioning to buffered involves a complete reset of all camera attributes for each shot. With my test configuration, that takes about 200ms which is a bit ridiculous since only one setting is actually changing between buffered and manual mode.  I suspect this kind of slowdown is going to be common to all the camera classes, so what would you think about modifying the IMAQdx camera to have three settings dictionaries: camera attributes (for common settings), manual mode camera attributes (for manual mode), and buffered mode camera attributes (for buffered mode)? Then it would be easy for the user to tune what settings get set when and cut down on unnecessary writes.</p>", "type": "rendered"}, "created_on": "2019-06-24T21:59:49.196539+00:00", "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, "updated_on": "2019-06-24T21:59:49.503832+00:00", "type": "pullrequest_comment", "id": 106860545}