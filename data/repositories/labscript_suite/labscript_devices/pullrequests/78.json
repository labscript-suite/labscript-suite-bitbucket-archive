{"rendered": {"description": {"raw": "As described by David in issue #37, it appears that it was a misunderstanding to think of 'm 0' 'm a' and 'm n' as\r\nthree options for the phase mode (with 'm 0' meaning 'default' - corresponding\r\nto one of the others). Rather, 'm n' and 'm a' are the two options\r\nfor the phase mode, and 'm 0' and 'm t' are for switching between table mode\r\nand single-tone mode.\r\n\r\nTherefore this PR calls 'm 0' at startup, and then one of 'm a' or 'm n' to set\r\nthe phase mode, which is now by default 'continuous', with 'default' having been\r\nremoved as an option, but being interpreted as 'continuous' for the case of\r\nalready-compiled shots that used it.\r\n\r\nThereafter, transition between single-tone mode and table mode is done with\r\n'm 0' and 'm t', with no further calls to set the phase mode.\r\n\r\nAlso added a better explanation of the 'double clutch' hack.\r\n\r\nWill get this into some JQI labs for regression testing.", "markup": "markdown", "html": "<p>As described by David in issue <a href=\"#!/labscript_suite/labscript_devices/issues/37/novatech-dds-transition-to-manual\" rel=\"nofollow\" title=\"Novatech DDS transition to manual strangeness\" class=\"ap-connect-link\"><s>#37</s></a>, it appears that it was a misunderstanding to think of 'm 0' 'm a' and 'm n' as\nthree options for the phase mode (with 'm 0' meaning 'default' - corresponding\nto one of the others). Rather, 'm n' and 'm a' are the two options\nfor the phase mode, and 'm 0' and 'm t' are for switching between table mode\nand single-tone mode.</p>\n<p>Therefore this PR calls 'm 0' at startup, and then one of 'm a' or 'm n' to set\nthe phase mode, which is now by default 'continuous', with 'default' having been\nremoved as an option, but being interpreted as 'continuous' for the case of\nalready-compiled shots that used it.</p>\n<p>Thereafter, transition between single-tone mode and table mode is done with\n'm 0' and 'm t', with no further calls to set the phase mode.</p>\n<p>Also added a better explanation of the 'double clutch' hack.</p>\n<p>Will get this into some JQI labs for regression testing.</p>", "type": "rendered"}, "title": {"raw": "Fix issue #37: incorrect transition to manual/buffered semantics for novatech.", "markup": "markdown", "html": "<p>Fix issue <a href=\"#!/labscript_suite/labscript_devices/issues/37/novatech-dds-transition-to-manual\" rel=\"nofollow\" title=\"Novatech DDS transition to manual strangeness\" class=\"ap-connect-link\"><s>#37</s></a>: incorrect transition to manual/buffered semantics for novatech.</p>", "type": "rendered"}}, "type": "pullrequest", "description": "As described by David in issue #37, it appears that it was a misunderstanding to think of 'm 0' 'm a' and 'm n' as\r\nthree options for the phase mode (with 'm 0' meaning 'default' - corresponding\r\nto one of the others). Rather, 'm n' and 'm a' are the two options\r\nfor the phase mode, and 'm 0' and 'm t' are for switching between table mode\r\nand single-tone mode.\r\n\r\nTherefore this PR calls 'm 0' at startup, and then one of 'm a' or 'm n' to set\r\nthe phase mode, which is now by default 'continuous', with 'default' having been\r\nremoved as an option, but being interpreted as 'continuous' for the case of\r\nalready-compiled shots that used it.\r\n\r\nThereafter, transition between single-tone mode and table mode is done with\r\n'm 0' and 'm t', with no further calls to set the phase mode.\r\n\r\nAlso added a better explanation of the 'double clutch' hack.\r\n\r\nWill get this into some JQI labs for regression testing.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/78/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/diffstat/labscript_suite/labscript_devices:625926f151be%0De8ab068665ab?from_pullrequest_id=78"}, "commits": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/78/commits.json"}, "self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/78.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/78/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/78/merge"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/78"}, "activity": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/78/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/diff/labscript_suite/labscript_devices:625926f151be%0De8ab068665ab?from_pullrequest_id=78"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_devices/pullrequests/78/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/78/statuses_page=1.json"}}, "title": "Fix issue #37: incorrect transition to manual/buffered semantics for novatech.", "close_source_branch": true, "reviewers": [{"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}, {"display_name": "Shaun Johnstone", "uuid": "{29b89d33-dfb4-4651-9a79-ffb35b7ca689}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D"}, "html": {"href": "https://bitbucket.org/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8105ae398115f6a5b58ce40d07fa431fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-0.png"}}, "nickname": "shaunj", "type": "user", "account_id": "557058:af791b1b-04dd-4b89-8a97-fd688cb64b82"}], "id": 78, "destination": {"commit": {"hash": "e8ab068665ab", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/commit/e8ab068665ab.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/commits/e8ab068665ab"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices.json"}, "html": {"href": "#!/labscript_suite/labscript_devices"}, "avatar": {"href": "data/bytebucket.org/ravatar/{30c94cb1-feec-4534-8885-92452023c9c9}ts=python"}}, "type": "repository", "name": "labscript_devices", "full_name": "labscript_suite/labscript_devices", "uuid": "{30c94cb1-feec-4534-8885-92452023c9c9}"}, "branch": {"name": "default"}}, "created_on": "2019-08-08T15:38:53.553217+00:00", "summary": {"raw": "As described by David in issue #37, it appears that it was a misunderstanding to think of 'm 0' 'm a' and 'm n' as\r\nthree options for the phase mode (with 'm 0' meaning 'default' - corresponding\r\nto one of the others). Rather, 'm n' and 'm a' are the two options\r\nfor the phase mode, and 'm 0' and 'm t' are for switching between table mode\r\nand single-tone mode.\r\n\r\nTherefore this PR calls 'm 0' at startup, and then one of 'm a' or 'm n' to set\r\nthe phase mode, which is now by default 'continuous', with 'default' having been\r\nremoved as an option, but being interpreted as 'continuous' for the case of\r\nalready-compiled shots that used it.\r\n\r\nThereafter, transition between single-tone mode and table mode is done with\r\n'm 0' and 'm t', with no further calls to set the phase mode.\r\n\r\nAlso added a better explanation of the 'double clutch' hack.\r\n\r\nWill get this into some JQI labs for regression testing.", "markup": "markdown", "html": "<p>As described by David in issue <a href=\"#!/labscript_suite/labscript_devices/issues/37/novatech-dds-transition-to-manual\" rel=\"nofollow\" title=\"Novatech DDS transition to manual strangeness\" class=\"ap-connect-link\"><s>#37</s></a>, it appears that it was a misunderstanding to think of 'm 0' 'm a' and 'm n' as\nthree options for the phase mode (with 'm 0' meaning 'default' - corresponding\nto one of the others). Rather, 'm n' and 'm a' are the two options\nfor the phase mode, and 'm 0' and 'm t' are for switching between table mode\nand single-tone mode.</p>\n<p>Therefore this PR calls 'm 0' at startup, and then one of 'm a' or 'm n' to set\nthe phase mode, which is now by default 'continuous', with 'default' having been\nremoved as an option, but being interpreted as 'continuous' for the case of\nalready-compiled shots that used it.</p>\n<p>Thereafter, transition between single-tone mode and table mode is done with\n'm 0' and 'm t', with no further calls to set the phase mode.</p>\n<p>Also added a better explanation of the 'double clutch' hack.</p>\n<p>Will get this into some JQI labs for regression testing.</p>", "type": "rendered"}, "source": {"commit": {"hash": "73505bd6b5f0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_devices/commit/73505bd6b5f0"}, "html": {"href": "#!/cbillington/labscript_devices/commits/73505bd6b5f0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_devices"}, "html": {"href": "#!/cbillington/labscript_devices"}, "avatar": {"href": "data/bytebucket.org/ravatar/{a2db461e-24e6-495e-a15d-8b80435f721e}ts=python"}}, "type": "repository", "name": "labscript_devices", "full_name": "cbillington/labscript_devices", "uuid": "{a2db461e-24e6-495e-a15d-8b80435f721e}"}, "branch": {"name": "novatech_phase_mode_fix"}}, "comment_count": 3, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Shaun Johnstone", "uuid": "{29b89d33-dfb4-4651-9a79-ffb35b7ca689}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D"}, "html": {"href": "https://bitbucket.org/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8105ae398115f6a5b58ce40d07fa431fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-0.png"}}, "nickname": "shaunj", "type": "user", "account_id": "557058:af791b1b-04dd-4b89-8a97-fd688cb64b82"}}, {"role": "PARTICIPANT", "participated_on": "2019-12-10T18:46:06.068912+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, {"role": "REVIEWER", "participated_on": "2019-12-10T18:42:07.130407+00:00", "type": "participant", "approved": false, "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}}], "reason": "", "updated_on": "2019-12-10T18:46:06.068912+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "625926f151be", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/commit/625926f151be.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/commits/625926f151be"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}