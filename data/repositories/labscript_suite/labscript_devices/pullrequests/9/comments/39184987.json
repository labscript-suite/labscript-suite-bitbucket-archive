{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/9/comments/39184987.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/9/_/diff#comment-39184987"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 9, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_devices/pullrequests/9.json"}, "html": {"href": "#!/labscript_suite/labscript_devices/pull-requests/9"}}, "title": "Update of NIBoard.py for DIO cards with multiple ports"}, "content": {"raw": "Cameron,\n\nWe have made some changes to the NI card classes at JQI that allow for definitions of pretty much any NI card like this:\n\n```\nNI_DAQmx(name='ni_pci_6733_0', parent_device=pulseblaster_0_ni_pci_clock,\n        MAX_name='Dev1',\n        clock_terminal='/Dev1/RTSI0', \n        num_AO=8,\n        sample_rate_AO=700e3,\n        num_DO=8,\n        sample_rate_DO=2e6,\n        num_AI=0,\n        clock_terminal_AI='/Dev1/PFI0',\n        mode_AI='labscript', # 'labscript', 'gated', 'triggered'\n        sample_rate_AI=1000,\n        num_PFI=0\n)\n```\nin the actual lab script.  To a large extent this eliminates the need for different classes for essentially identical devices.  I would like to get this pulled and then (if needed) get your code in as well.  I think this solves your problem since you will define num_DO to get the different ports.  If this is not correct we could add a new ports_DO to the signature of this object.\n\nIn the JQI experiments, this is the only object we use for all of our NI devices, so it is fairly well tested.  We use the DO's heavily, so that aspect is strong as well.\n", "markup": "markdown", "html": "<p>Cameron,</p>\n<p>We have made some changes to the NI card classes at JQI that allow for definitions of pretty much any NI card like this:</p>\n<div class=\"codehilite\"><pre><span></span>NI_DAQmx(name=&#39;ni_pci_6733_0&#39;, parent_device=pulseblaster_0_ni_pci_clock,\n        MAX_name=&#39;Dev1&#39;,\n        clock_terminal=&#39;/Dev1/RTSI0&#39;, \n        num_AO=8,\n        sample_rate_AO=700e3,\n        num_DO=8,\n        sample_rate_DO=2e6,\n        num_AI=0,\n        clock_terminal_AI=&#39;/Dev1/PFI0&#39;,\n        mode_AI=&#39;labscript&#39;, # &#39;labscript&#39;, &#39;gated&#39;, &#39;triggered&#39;\n        sample_rate_AI=1000,\n        num_PFI=0\n)\n</pre></div>\n\n\n<p>in the actual lab script.  To a large extent this eliminates the need for different classes for essentially identical devices.  I would like to get this pulled and then (if needed) get your code in as well.  I think this solves your problem since you will define num_DO to get the different ports.  If this is not correct we could add a new ports_DO to the signature of this object.</p>\n<p>In the JQI experiments, this is the only object we use for all of our NI devices, so it is fairly well tested.  We use the DO's heavily, so that aspect is strong as well.</p>", "type": "rendered"}, "created_on": "2017-06-20T14:10:48.563817+00:00", "user": {"display_name": "Ian B. Spielman", "uuid": "{bff0d3df-2ed5-4ff6-b13d-ce6cd935edb1}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D"}, "html": {"href": "https://bitbucket.org/%7Bbff0d3df-2ed5-4ff6-b13d-ce6cd935edb1%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/54beee087619e1a612011791e203f277d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsIS-0.png"}}, "nickname": "Ian Spielman", "type": "user", "account_id": "557058:b0e98d01-12e7-4a9d-a274-a195def255d2"}, "updated_on": "2017-06-20T14:12:19.471112+00:00", "type": "pullrequest_comment", "id": 39184987}