{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/issues/21/comments/48007021.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/issues/21#comment-48007021"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "title": "Concurrent log handler causes unbearable slowdown"}, "content": {"raw": "Thanks! if it's not disk write speed from the OS syncing disk caches, then it must just be an accumulation of a lot of system calls, and there might just be some inefficiency there in the way file locking is implemented on Windows. System calls are pretty expensive usually anyway, and since pull request #56 now does them in another thread instead of the main thread (zmq writing to a TCP socket happens in zmq's IO thread), BLACS might even run a little faster than before the concurrent logging handler.", "markup": "markdown", "html": "<p>Thanks! if it's not disk write speed from the OS syncing disk caches, then it must just be an accumulation of a lot of system calls, and there might just be some inefficiency there in the way file locking is implemented on Windows. System calls are pretty expensive usually anyway, and since <a href=\"#!/labscript_suite/labscript_utils/pull-requests/56/use-zlog-for-logging\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #56</a> now does them in another thread instead of the main thread (zmq writing to a TCP socket happens in zmq's IO thread), BLACS might even run a little faster than before the concurrent logging handler.</p>", "type": "rendered"}, "created_on": "2018-09-25T20:06:56.941009+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 48007021}