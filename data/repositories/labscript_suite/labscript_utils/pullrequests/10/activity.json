{"pagelen": 50, "values": [{"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b09196ada4e7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/b09196ada4e7"}, "html": {"href": "#!/cbillington/labscript_utils/commits/b09196ada4e7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-18T22:53:37.968344+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b09196ada4e7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/b09196ada4e7"}, "html": {"href": "#!/cbillington/labscript_utils/commits/b09196ada4e7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-18T22:53:37.600034+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10/comments/39038462.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10/_/diff#comment-39038462"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}, "content": {"raw": "Merging since this is uncontroversial", "markup": "markdown", "html": "<p>Merging since this is uncontroversial</p>", "type": "rendered"}, "created_on": "2017-06-18T22:53:26.068508+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-18T22:53:26.070565+00:00", "type": "pullrequest_comment", "id": 39038462}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"approval": {"date": "2017-06-18T04:48:07.473066+00:00", "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b09196ada4e7", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/b09196ada4e7"}, "html": {"href": "#!/cbillington/labscript_utils/commits/b09196ada4e7"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-18T04:36:09.139856+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ce9889e7078c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/ce9889e7078c"}, "html": {"href": "#!/cbillington/labscript_utils/commits/ce9889e7078c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-18T04:29:30.971757+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10/comments/39031797.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10/_/diff#comment-39031797"}}, "parent": {"id": 39031513, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10/comments/39031513.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10/_/diff#comment-39031513"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}, "content": {"raw": "To clarify, it would only work with promotion if you put a QLabel in a QScrollArea in a QWidget in Qt designer, and then promoted the QScrollArea and QWidget to my sublasses. And by \"work\" I mean \"could be made to work\", if I changed the interface a bit. But it seemed like nobody would do that, so it's not what I was going for.", "markup": "markdown", "html": "<p>To clarify, it would only work with promotion if you put a QLabel in a QScrollArea in a QWidget in Qt designer, and then promoted the QScrollArea and QWidget to my sublasses. And by \"work\" I mean \"could be made to work\", if I changed the interface a bit. But it seemed like nobody would do that, so it's not what I was going for.</p>", "type": "rendered"}, "created_on": "2017-06-18T04:25:33.606452+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-18T04:25:33.609017+00:00", "type": "pullrequest_comment", "id": 39031797}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10/comments/39031513.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10/_/diff#comment-39031513"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}, "content": {"raw": "No problem! As usual there were fixes I had to make anyway.\n\nI don't think it can. I've been trying and can't seem to make it scroll. Early in making it I could scroll with alt+mousewheel, and then I stopped being able to do so when I set `self.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)` on the `QScrollArea`. Previously the scrollbar was on, but had zero size.\n\nIf it's discovered that it can scroll (perhaps platform-dependent behaviour), I could simply hook up `self.scroll_area.horizontalScrollBar().valueChanged.connect(self.update_elide_widget)`, which is currently commented out because it seemed unneeded and I don't want to connect more slots than necessary. I don't think we should allow scrolling. If we want tiny scrolling textboxes, we can use read-only LineEdits, or some other widget that people expect to be able to scroll - or we could make a similar widget like this that has a different background colour or something so that it is obviously not a QLabel. But I think that's a different job, ellipsis does most of the job for making BLACS' interface a bit less jumpy.\n\nIt probably would work with the promotion, but it's pretty funky! I was disappointed that I couldn't seem to actually subclass QLabel to do this. I mean I could have if I wanted to be writing my own paint() methods, which seemed super complicated if you wanted to support rich text (for plain text it would be dead simple). So, the convenience function seems to work pretty well. You have to give it the parent layout though, which means keeping things in sync as you move things around in Qt Designer. I accidentally gave it the wrong parent layout when trying to use this in BLACS, and reparented the label to somewhere totally different. Was very confused for a while. So I think probably using the convenience function is better than adding an extra 2 layers for each label in Qt designer.\n\nActually, that's an important improvement I can make. Whilst it's probably not worth trying to automatically find the layout that the widget is in (this isn't trivial, since `QWidget.parent()` skips layouts and goes directly to the layout's parent), I could at least add a check that the widget is in fact in the layout you specified, so that you get an error message instead of a misplaced widget if you give the wrong layout.\n\nHere's the current state of changes I'm making to BLACS with this, among a few other GUI tweaks:\n\n![blacs_elision.png](data/bitbucket.org/repo/xg9BdE/images/2330923503-blacs_elision.png)\n\n", "markup": "markdown", "html": "<p>No problem! As usual there were fixes I had to make anyway.</p>\n<p>I don't think it can. I've been trying and can't seem to make it scroll. Early in making it I could scroll with alt+mousewheel, and then I stopped being able to do so when I set <code>self.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)</code> on the <code>QScrollArea</code>. Previously the scrollbar was on, but had zero size.</p>\n<p>If it's discovered that it can scroll (perhaps platform-dependent behaviour), I could simply hook up <code>self.scroll_area.horizontalScrollBar().valueChanged.connect(self.update_elide_widget)</code>, which is currently commented out because it seemed unneeded and I don't want to connect more slots than necessary. I don't think we should allow scrolling. If we want tiny scrolling textboxes, we can use read-only LineEdits, or some other widget that people expect to be able to scroll - or we could make a similar widget like this that has a different background colour or something so that it is obviously not a QLabel. But I think that's a different job, ellipsis does most of the job for making BLACS' interface a bit less jumpy.</p>\n<p>It probably would work with the promotion, but it's pretty funky! I was disappointed that I couldn't seem to actually subclass QLabel to do this. I mean I could have if I wanted to be writing my own paint() methods, which seemed super complicated if you wanted to support rich text (for plain text it would be dead simple). So, the convenience function seems to work pretty well. You have to give it the parent layout though, which means keeping things in sync as you move things around in Qt Designer. I accidentally gave it the wrong parent layout when trying to use this in BLACS, and reparented the label to somewhere totally different. Was very confused for a while. So I think probably using the convenience function is better than adding an extra 2 layers for each label in Qt designer.</p>\n<p>Actually, that's an important improvement I can make. Whilst it's probably not worth trying to automatically find the layout that the widget is in (this isn't trivial, since <code>QWidget.parent()</code> skips layouts and goes directly to the layout's parent), I could at least add a check that the widget is in fact in the layout you specified, so that you get an error message instead of a misplaced widget if you give the wrong layout.</p>\n<p>Here's the current state of changes I'm making to BLACS with this, among a few other GUI tweaks:</p>\n<p><img alt=\"blacs_elision.png\" src=\"data/bitbucket.org/repo/xg9BdE/images/2330923503-blacs_elision.png\" /></p>", "type": "rendered"}, "created_on": "2017-06-18T02:22:58.781050+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-18T02:26:08.061475+00:00", "type": "pullrequest_comment", "id": 39031513}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10/comments/39031491.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10/_/diff#comment-39031491"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}, "content": {"raw": "Sorry, there are so many pull requests and issue tracker comments going on that I forgot about this one!\n\nCouple of questions:\n\n* Can the scroll area be accidentally scrolled somehow? Should we stop this? Or should we allow you to scroll? Or even scroll it on mouse over?\n* Does this work with widget promotion in Qt Designer? Maybe it is not worth it if you need to add QWidget -> QScrollArea -> QLabel and promote the first 2 in order to make it work (at that point it's probably easier to just use your convenience function)", "markup": "markdown", "html": "<p>Sorry, there are so many pull requests and issue tracker comments going on that I forgot about this one!</p>\n<p>Couple of questions:</p>\n<ul>\n<li>Can the scroll area be accidentally scrolled somehow? Should we stop this? Or should we allow you to scroll? Or even scroll it on mouse over?</li>\n<li>Does this work with widget promotion in Qt Designer? Maybe it is not worth it if you need to add QWidget -&gt; QScrollArea -&gt; QLabel and promote the first 2 in order to make it work (at that point it's probably easier to just use your convenience function)</li>\n</ul>", "type": "rendered"}, "created_on": "2017-06-18T02:06:23.925274+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-06-18T02:06:23.928663+00:00", "type": "pullrequest_comment", "id": 39031491}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1e68d157d125", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/1e68d157d125"}, "html": {"href": "#!/cbillington/labscript_utils/commits/1e68d157d125"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-18T01:55:43.997519+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nThe module also has a function for modifying an existing QLabel that already lives in a layout.\r\nThat way this can be applied to QLabels that from .ui files. This is done by reparenting the QLabel to the QScrollArea, and then inserting the result back into the layout at the position where the label was.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "464005fd04e2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/464005fd04e2"}, "html": {"href": "#!/cbillington/labscript_utils/commits/464005fd04e2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-17T02:28:50.566602+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "464005fd04e2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/464005fd04e2"}, "html": {"href": "#!/cbillington/labscript_utils/commits/464005fd04e2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-17T02:26:35.206290+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}, {"update": {"description": "It turned out to be quite tricky to get a QLabel to elide its text in a way that was\r\ncompatible with it being rich text. Now we could just give up on having labels with\r\nbold text in them, but that have been the easy way out.\r\n\r\nThis pull request adds a widget that, rather than being a QLabel with\r\nelided text, wraps an existing QLabel, putting it in a QScrollArea so as\r\nto only show part of the QLabel. An additional label displaying ellipsis \"...\"\r\nis shown next to the QScrollArea to indicate that some of the text is not\r\nbeing shown. This only really works well for single lines of text. The tooltip shows the full text.\r\n\r\nMinor version bump since new functionality introduced, so programs using this feature can\r\nrely on check_version() to ensure they have the feautre. (version number with 'prerelease' suffix,\r\nto be removed when tagged as a new version in mercurial. check_version works fine with this)\r\n\r\nHere's a test: ![elide_label.png](https://bitbucket.org/repo/KEMMje/images/3498332852-elide_label.png)", "title": "Qt widget for eliding QLabel with rich text", "destination": {"commit": {"hash": "c049971f01bc", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c049971f01bc.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c049971f01bc"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "464005fd04e2", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/464005fd04e2"}, "html": {"href": "#!/cbillington/labscript_utils/commits/464005fd04e2"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "feature"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-17T02:26:35.123585+00:00"}, "pull_request": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/10"}}, "title": "Qt widget for eliding QLabel with rich text"}}]}