{"pagelen": 50, "values": [{"update": {"description": "Fix bug in which ToolPalette would not shrink to its minimum size when placed in a layout, not shrinking smaller than a certain size. For larger vertical sizes (larger than QScrollArea's default minimumSizeHint of about 75 pixels it seems) it was not noticeable, but once there was only one or two rows of widgets they would be allocated too much space. In BLACS the DigitalOutput buttons don't don't grow like the tool buttons do in the below screenshots, so in BLACS instead this resulted in a large amount of space between the rows of buttons. \r\n\r\nThe problem was because size in a layout is set be the sizeHint and minimumSizeHint properties, rather than the minimumSize property (confusingly).\r\n\r\nSo I implemented ToolPalette.sizeHint() and ToolPalette.minimumSizeHint(),\r\nwhich communicate to the parent layout what the size should be in a layout.\r\n\r\nAlso fixed minor error in height calculation, which did not distinguish between\r\nmargins and spacing and so was off by a few pixels (likely not noticeable before I changed the spacing and margins to be different from each other in an earlier pull request).\r\n\r\nSo total height is now calculated as (for number of rows n):\r\n\r\n `n * widget_height + (n - 1) * spacing + top_margin + bottom_margin`\r\n\r\nBefore:\r\n\r\n![toolpalette_before.png](https://bitbucket.org/repo/KEMMje/images/1129253231-toolpalette_before.png)\r\n\r\nAfter:\r\n\r\n![tool_palette_after.png](https://bitbucket.org/repo/KEMMje/images/4041797923-tool_palette_after.png)", "title": "ToolPalette vertical size bugfix", "destination": {"commit": {"hash": "daea43c65b1a", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/daea43c65b1a.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/daea43c65b1a"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "69b3924c883c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/69b3924c883c"}, "html": {"href": "#!/cbillington/labscript_utils/commits/69b3924c883c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix2"}}, "state": "MERGED", "author": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "date": "2017-06-20T10:30:02.367072+00:00"}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"approval": {"date": "2017-06-20T10:29:55.265140+00:00", "pullrequest": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13/comments/39143390.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13/_/diff#comment-39143390"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}, "content": {"raw": "Can confirm that in BLACS, the extra space below a a single row of digital outs (e.g. on the NI PCI6733) goes away with this patch.", "markup": "markdown", "html": "<p>Can confirm that in BLACS, the extra space below a a single row of digital outs (e.g. on the NI PCI6733) goes away with this patch.</p>", "type": "rendered"}, "created_on": "2017-06-20T07:09:12.827729+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": "2017-06-20T07:09:12.831088+00:00", "type": "pullrequest_comment", "id": 39143390}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13/comments/39131331.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13/_/diff#comment-39131331"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}, "content": {"raw": "Yes, it does!", "markup": "markdown", "html": "<p>Yes, it does!</p>", "type": "rendered"}, "created_on": "2017-06-20T01:29:48.415598+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T01:29:48.418668+00:00", "type": "pullrequest_comment", "id": 39131331}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13/comments/39130846.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13/_/diff#comment-39130846"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}, "content": {"raw": "Could you verify that this still works correctly with multi-line button labels? (like we have in BLACS)", "markup": "markdown", "html": "<p>Could you verify that this still works correctly with multi-line button labels? (like we have in BLACS)</p>", "type": "rendered"}, "created_on": "2017-06-20T01:12:41.070944+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-06-20T01:12:41.073386+00:00", "type": "pullrequest_comment", "id": 39130846}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"update": {"description": "Fix bug in which ToolPalette would not shrink to its minimum size when placed in a layout, not shrinking smaller than a certain size. For larger vertical sizes (larger than QScrollArea's default minimumSizeHint of about 75 pixels it seems) it was not noticeable, but once there was only one or two rows of widgets they would be allocated too much space. In BLACS the DigitalOutput buttons don't don't grow like the tool buttons do in the below screenshots, so in BLACS instead this resulted in a large amount of space between the rows of buttons. \r\n\r\nThe problem was because size in a layout is set be the sizeHint and minimumSizeHint properties, rather than the minimumSize property (confusingly).\r\n\r\nSo I implemented ToolPalette.sizeHint() and ToolPalette.minimumSizeHint(),\r\nwhich communicate to the parent layout what the size should be in a layout.\r\n\r\nAlso fixed minor error in height calculation, which did not distinguish between\r\nmargins and spacing and so was off by a few pixels (likely not noticeable before I changed the spacing and margins to be different from each other in an earlier pull request).\r\n\r\nSo total height is now calculated as (for number of rows n):\r\n\r\n `n * widget_height + (n - 1) * spacing + top_margin + bottom_margin`\r\n\r\nBefore:\r\n\r\n![toolpalette_before.png](https://bitbucket.org/repo/KEMMje/images/1129253231-toolpalette_before.png)\r\n\r\nAfter:\r\n\r\n![tool_palette_after.png](https://bitbucket.org/repo/KEMMje/images/4041797923-tool_palette_after.png)", "title": "ToolPalette vertical size bugfix", "destination": {"commit": {"hash": "d59b794caf4b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d59b794caf4b.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d59b794caf4b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "69b3924c883c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/69b3924c883c"}, "html": {"href": "#!/cbillington/labscript_utils/commits/69b3924c883c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix2"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-20T00:59:18.790920+00:00"}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}, {"update": {"description": "Fix bug in which ToolPalette would not shrink to its minimum size when placed in a layout, not shrinking smaller than a certain size. For larger vertical sizes (larger than QScrollArea's default minimumSizeHint of about 75 pixels it seems) it was not noticeable, but once there was only one or two rows of widgets they would be allocated too much space. In BLACS the DigitalOutput buttons don't don't grow like the tool buttons do in the below screenshots, so in BLACS instead this resulted in a large amount of space between the rows of buttons. \r\n\r\nThe problem was because size in a layout is set be the sizeHint and minimumSizeHint properties, rather than the minimumSize property (confusingly).\r\n\r\nSo I implemented ToolPalette.sizeHint() and ToolPalette.minimumSizeHint(),\r\nwhich communicate to the parent layout what the size should be in a layout.\r\n\r\nAlso fixed minor error in height calculation, which did not distinguish between\r\nmargins and spacing and so was off by a few pixels (likely not noticeable before I changed the spacing and margins to be different from each other in an earlier pull request).\r\n\r\nSo total height is now calculated as (for number of rows n):\r\n\r\n `n * widget_height + (n - 1) * spacing + top_margin + bottom_margin`\r\n\r\nBefore:\r\n\r\n![toolpalette_before.png](https://bitbucket.org/repo/KEMMje/images/1129253231-toolpalette_before.png)\r\n\r\nAfter:\r\n\r\n![tool_palette_after.png](https://bitbucket.org/repo/KEMMje/images/4041797923-tool_palette_after.png)", "title": "ToolPalette vertical size bugfix", "destination": {"commit": {"hash": "d59b794caf4b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d59b794caf4b.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d59b794caf4b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "69b3924c883c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/69b3924c883c"}, "html": {"href": "#!/cbillington/labscript_utils/commits/69b3924c883c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix2"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2017-06-20T00:59:18.748615+00:00"}, "pull_request": {"type": "pullrequest", "id": 13, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/13.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/13"}}, "title": "ToolPalette vertical size bugfix"}}]}