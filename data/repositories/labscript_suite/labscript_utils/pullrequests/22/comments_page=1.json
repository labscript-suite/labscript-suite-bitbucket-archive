{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224112.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224112"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22"}}, "title": "Fix dynamic hostnames under macOS (#14)"}, "content": {"raw": "Thanks!\n\nA suggestion to be more kosher and forward compatible with Python 3. Even though it doesn't matter in this case the subprocess module is the standard for running commands, so you could replace `os.popen()` with:\n\n``hostname = subprocess.check_output(['scutil', '--get', 'LocalHostName']).decode('utf8').strip()``\n\ndoing a `strip()` rather than `[:-1]` (hostnames can't end or start with whitespace anyway), and decoding the output so it converts the bytestring to a unicode string on Python 3. Then hopefully it won't break once it's running in Python 3 in the not too distant future!\n\n`os.popen` and friends are deprecated because they don't raise exceptions on failure, they do silly things like return None and require you to do checks yourself, leading to confusing tracebacks about not being able to do string operations on `None`.", "markup": "markdown", "html": "<p>Thanks!</p>\n<p>A suggestion to be more kosher and forward compatible with Python 3. Even though it doesn't matter in this case the subprocess module is the standard for running commands, so you could replace <code>os.popen()</code> with:</p>\n<p><code>hostname = subprocess.check_output(['scutil', '--get', 'LocalHostName']).decode('utf8').strip()</code></p>\n<p>doing a <code>strip()</code> rather than <code>[:-1]</code> (hostnames can't end or start with whitespace anyway), and decoding the output so it converts the bytestring to a unicode string on Python 3. Then hopefully it won't break once it's running in Python 3 in the not too distant future!</p>\n<p><code>os.popen</code> and friends are deprecated because they don't raise exceptions on failure, they do silly things like return None and require you to do checks yourself, leading to confusing tracebacks about not being able to do string operations on <code>None</code>.</p>", "type": "rendered"}, "created_on": "2017-08-04T18:04:04.279954+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-04T18:05:26.858587+00:00", "type": "pullrequest_comment", "id": 42224112}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224265.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224265"}}, "parent": {"id": 42224112, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224112.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224112"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22"}}, "title": "Fix dynamic hostnames under macOS (#14)"}, "content": {"raw": "I didn't want to add new imports thats why I went for os. But sure I can replace it. And thanks for the python 3 compatibility tip I'll test before I do any changes under both python 3 and python 2.", "markup": "markdown", "html": "<p>I didn't want to add new imports thats why I went for os. But sure I can replace it. And thanks for the python 3 compatibility tip I'll test before I do any changes under both python 3 and python 2.</p>", "type": "rendered"}, "created_on": "2017-08-04T18:06:47.487990+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-04T18:06:47.542666+00:00", "type": "pullrequest_comment", "id": 42224265}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224829.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224829"}}, "parent": {"id": 42224265, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224265.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224265"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22"}}, "title": "Fix dynamic hostnames under macOS (#14)"}, "content": {"raw": "Understood, but it's all good to import pretty much whatever standard library modules\u2014the subprocess module is definitely present in the Python interpreter for every labscript program already, so the only thing affected by importing it from labconfig as well is labconfig's namespace.", "markup": "markdown", "html": "<p>Understood, but it's all good to import pretty much whatever standard library modules\u2014the subprocess module is definitely present in the Python interpreter for every labscript program already, so the only thing affected by importing it from labconfig as well is labconfig's namespace.</p>", "type": "rendered"}, "created_on": "2017-08-04T18:16:52.124328+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-04T18:16:52.126799+00:00", "type": "pullrequest_comment", "id": 42224829}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42227620.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42227620"}}, "parent": {"id": 42224829, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22/comments/42224829.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22/_/diff#comment-42224829"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/22"}}, "title": "Fix dynamic hostnames under macOS (#14)"}, "content": {"raw": "your code worked just fine so I added it.", "markup": "markdown", "html": "<p>your code worked just fine so I added it.</p>", "type": "rendered"}, "created_on": "2017-08-04T19:02:33.871194+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-04T19:02:33.923171+00:00", "type": "pullrequest_comment", "id": 42227620}], "page": 1, "size": 4}