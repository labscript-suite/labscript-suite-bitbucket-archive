{"pagelen": 50, "values": [{"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "60ab1fdeddaf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/60ab1fdeddaf"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/60ab1fdeddaf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-02-28T23:19:30.387862+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"approval": {"date": "2018-02-28T23:15:07.908758+00:00", "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57613832.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57613832"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I'll merge this, then merge the inverted DO PR, and tag the result as version 2.6. If there are no problems once BLACS starts using labscript_utils.connections, then we can leave the version requirement the same. Otherwise we'll have to fix issues with labscript_utils.connections and bump the version further.", "markup": "markdown", "html": "<p>I'll merge this, then merge the inverted DO PR, and tag the result as version 2.6. If there are no problems once BLACS starts using labscript_utils.connections, then we can leave the version requirement the same. Otherwise we'll have to fix issues with labscript_utils.connections and bump the version further.</p>", "type": "rendered"}, "created_on": "2018-02-28T23:14:55.848724+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-28T23:14:55.852179+00:00", "type": "pullrequest_comment", "id": 57613832}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57612582.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57612582"}}, "parent": {"id": 57599381, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57599381.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57599381"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I've approved the merging of the labscript\\_utils inverted DO pull request \\(will leave it for @cbillington to coordinate the merging\\).\n\nThe BLACS one needs a little more work \\(I've left some comments\\) but that shouldn't hold up moving forward with labscript\\_utils.", "markup": "markdown", "html": "<p>I've approved the merging of the labscript_utils inverted DO pull request (will leave it for @cbillington to coordinate the merging).</p>\n<p>The BLACS one needs a little more work (I've left some comments) but that shouldn't hold up moving forward with labscript_utils.</p>", "type": "rendered"}, "created_on": "2018-02-28T22:56:20.150056+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-02-28T22:56:20.163711+00:00", "type": "pullrequest_comment", "id": 57612582}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57599844.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57599844"}}, "parent": {"id": 57541401, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57541401.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57541401"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I split my BLACS python 3 changes into smaller chunks in order to allow to resolve merge conflicts in the future easier and make it more readable.\n\nIf we can get the 2 minimal pull request merged I should be able to update my python 3 BLACS pull request fairly quickly. And we could also test python 3 stuff on BLACS.\n\nI have had BLACS running on python 3 on my test machine for quite some time now but didn't do too much testing on it as I was waiting on feedback on the pull requests here.", "markup": "markdown", "html": "<p>I split my BLACS python 3 changes into smaller chunks in order to allow to resolve merge conflicts in the future easier and make it more readable.</p>\n<p>If we can get the 2 minimal pull request merged I should be able to update my python 3 BLACS pull request fairly quickly. And we could also test python 3 stuff on BLACS.</p>\n<p>I have had BLACS running on python 3 on my test machine for quite some time now but didn't do too much testing on it as I was waiting on feedback on the pull requests here.</p>", "type": "rendered"}, "created_on": "2018-02-28T20:23:52.398471+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-28T20:23:52.461121+00:00", "type": "pullrequest_comment", "id": 57599844}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57599381.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57599381"}}, "parent": {"id": 57597015, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57597015.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57597015"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Sounds Great!", "markup": "markdown", "html": "<p>Sounds Great!</p>", "type": "rendered"}, "created_on": "2018-02-28T20:18:52.958949+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-28T20:18:52.986058+00:00", "type": "pullrequest_comment", "id": 57599381}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57597015.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57597015"}}, "parent": {"id": 57544247, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57544247.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57544247"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I'll have to review those again before we can merge them. I'll try to do it today.  \n  \n", "markup": "markdown", "html": "<p>I'll have to review those again before we can merge them. I'll try to do it today.  </p>", "type": "rendered"}, "created_on": "2018-02-28T19:52:10.938566+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-02-28T19:52:10.941470+00:00", "type": "pullrequest_comment", "id": 57597015}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "60ab1fdeddaf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/60ab1fdeddaf"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/60ab1fdeddaf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-28T19:49:42.876613+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "60ab1fdeddaf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/60ab1fdeddaf"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/60ab1fdeddaf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-28T19:48:39.493341+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57544247.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57544247"}}, "parent": {"id": 57541401, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57541401.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57541401"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Done.\n\nI'll do some testing later today and will report back on any problems I had with the new changes.\n\nCould we maybe merge the remaining two inverted DO pull request soonish? They are running in our lab for a while now and I think we could just merge them now.", "markup": "markdown", "html": "<p>Done.</p>\n<p>I'll do some testing later today and will report back on any problems I had with the new changes.</p>\n<p>Could we maybe merge the remaining two inverted DO pull request soonish? They are running in our lab for a while now and I think we could just merge them now.</p>", "type": "rendered"}, "created_on": "2018-02-28T12:33:21.235653+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-28T12:33:21.300022+00:00", "type": "pullrequest_comment", "id": 57544247}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "60ab1fdeddaf", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/60ab1fdeddaf"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/60ab1fdeddaf"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-28T12:29:23.548763+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57541401.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57541401"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "connections.py has been moved into labscript_utils in my branch of this (@Phynerd if you could pull it into this pull request?)\n\nI also moved dict_diff from lyse into labscript_utils since I modified connections.py to use it (that change to lyse is in its Python 3 pull request and is backward compatible, lyse imports dict_diff for anyone who still expects to find it there).\n\nI've ported connections.py to Python 3 and done some basic testing on Python 3, as well as testing it with BLACS on Python 2 (can't test it with BLACS with Python 3 for obvious reasons). I can run shots, recompile connection tables, save and load front panel state, so I think that should have covered most of the code changes.\n\nThis PR must be merged before the corresponding one in BLACS, but until the BLACS PR is merged, any problems with this connections.py will not break anything, because BLACS is still using its own connections.py. So testing can happen in the BLACS PR after this one is merged.", "markup": "markdown", "html": "<p>connections.py has been moved into labscript_utils in my branch of this (@Phynerd if you could pull it into this pull request?)</p>\n<p>I also moved dict_diff from lyse into labscript_utils since I modified connections.py to use it (that change to lyse is in its Python 3 pull request and is backward compatible, lyse imports dict_diff for anyone who still expects to find it there).</p>\n<p>I've ported connections.py to Python 3 and done some basic testing on Python 3, as well as testing it with BLACS on Python 2 (can't test it with BLACS with Python 3 for obvious reasons). I can run shots, recompile connection tables, save and load front panel state, so I think that should have covered most of the code changes.</p>\n<p>This PR must be merged before the corresponding one in BLACS, but until the BLACS PR is merged, any problems with this connections.py will not break anything, because BLACS is still using its own connections.py. So testing can happen in the BLACS PR after this one is merged.</p>", "type": "rendered"}, "created_on": "2018-02-28T12:09:34.936059+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-28T12:13:17.057150+00:00", "type": "pullrequest_comment", "id": 57541401}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57402987.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57402987"}}, "parent": {"id": 57402386, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57402386.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57402386"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I'm a bit overwhelmed with the changes happening at the moment, so it might quite possibly happen that you will be getting to the pull request faster than me.\n\nI'm still in the process of updating our lab fork to the changes made in the last 48 hours.", "markup": "markdown", "html": "<p>I'm a bit overwhelmed with the changes happening at the moment, so it might quite possibly happen that you will be getting to the pull request faster than me.</p>\n<p>I'm still in the process of updating our lab fork to the changes made in the last 48 hours.</p>", "type": "rendered"}, "created_on": "2018-02-27T11:06:34.046106+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-27T11:06:34.098902+00:00", "type": "pullrequest_comment", "id": 57402987}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57402386.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57402386"}}, "parent": {"id": 57401993, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57401993.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57401993"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Thanks!\n\nDon't worry about updating the other ones if you don't feel like it, I'm going to be going over them in detail anyway.", "markup": "markdown", "html": "<p>Thanks!</p>\n<p>Don't worry about updating the other ones if you don't feel like it, I'm going to be going over them in detail anyway.</p>", "type": "rendered"}, "created_on": "2018-02-27T11:02:22.605559+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T11:02:22.609224+00:00", "type": "pullrequest_comment", "id": 57402386}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57401993.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57401993"}}, "parent": {"id": 57387635, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57387635.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57387635"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "I added your changed version. I'll update the other pull requests later today or tomorrow.", "markup": "markdown", "html": "<p>I added your changed version. I'll update the other pull requests later today or tomorrow.</p>", "type": "rendered"}, "created_on": "2018-02-27T10:59:32.883645+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-27T10:59:32.927436+00:00", "type": "pullrequest_comment", "id": 57401993}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e49f18eb51b3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/e49f18eb51b3"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/e49f18eb51b3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-27T10:57:21.365193+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e49f18eb51b3", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/e49f18eb51b3"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/e49f18eb51b3"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-27T10:57:21.312148+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "055d7e696591", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/055d7e696591"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/055d7e696591"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-27T10:56:03.669928+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "055d7e696591", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/055d7e696591"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/055d7e696591"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2018-02-27T10:50:54.510686+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57387635.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57387635"}}, "parent": {"id": 57376475, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57376475.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57376475"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Pull request submitted: https://github.com/numpy/numpy/pull/10672\n\nAlso, one can't monkeypatch the C objects in numpy so it looks like your hack is the way to go. I'll put it back in...", "markup": "markdown", "html": "<p>Pull request submitted: <a href=\"https://github.com/numpy/numpy/pull/10672\" rel=\"nofollow\" class=\"ap-connect-link\">https://github.com/numpy/numpy/pull/10672</a></p>\n<p>Also, one can't monkeypatch the C objects in numpy so it looks like your hack is the way to go. I'll put it back in...</p>", "type": "rendered"}, "created_on": "2018-02-27T09:09:12.714857+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T09:09:12.720267+00:00", "type": "pullrequest_comment", "id": 57387635}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57378366.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57378366"}}, "parent": {"id": 57376475, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57376475.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57376475"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Ah, I see. So it doesn't work with `unicode_literals` imported from `__future__`.\n\nWhat a dumb bug. The fix is obvious and I'm surprised people are debating instead of acting, but maybe it's because nobody has writenn the code - I'll have a quick look to see if it's within my abilities to submit a patch to numpy, and likely monkeypatch numpy from labscript_utils to apply the change in the meantime. So some sort of hack is necessary, yours or otherwise. I'll look into it.", "markup": "markdown", "html": "<p>Ah, I see. So it doesn't work with <code>unicode_literals</code> imported from <code>__future__</code>.</p>\n<p>What a dumb bug. The fix is obvious and I'm surprised people are debating instead of acting, but maybe it's because nobody has writenn the code - I'll have a quick look to see if it's within my abilities to submit a patch to numpy, and likely monkeypatch numpy from labscript_utils to apply the change in the meantime. So some sort of hack is necessary, yours or otherwise. I'll look into it.</p>", "type": "rendered"}, "created_on": "2018-02-27T07:43:20.426310+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T07:43:20.431116+00:00", "type": "pullrequest_comment", "id": 57378366}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57377355.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57377355"}}, "parent": {"id": 57371529, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57371529.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57371529"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "This change sounds pretty good I'll look at it later today and update this pullrequest as needed.", "markup": "markdown", "html": "<p>This change sounds pretty good I'll look at it later today and update this pullrequest as needed.</p>", "type": "rendered"}, "created_on": "2018-02-27T07:30:31.728533+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-27T07:30:31.778702+00:00", "type": "pullrequest_comment", "id": 57377355}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57376475.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57376475"}}, "parent": {"id": 57365587, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57365587.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57365587"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Dtype fieldnames must be the native string type if we are working with lists. Dictionaries however work fine receiving either unicode or byte strings under python 2 and 3. I'm trying to get around this fact with this hack any other ideas?\n\n[https://github.com/numpy/numpy/issues/2407](https://github.com/numpy/numpy/issues/2407)\n\n\u200c\n\nIt is really useful when porting devices and labscript.py", "markup": "markdown", "html": "<p>Dtype fieldnames must be the native string type if we are working with lists. Dictionaries however work fine receiving either unicode or byte strings under python 2 and 3. I'm trying to get around this fact with this hack any other ideas?</p>\n<p><a data-is-external-link=\"true\" href=\"https://github.com/numpy/numpy/issues/2407\" rel=\"nofollow\">https://github.com/numpy/numpy/issues/2407</a></p>\n<p>\u200c</p>\n<p>It is really useful when porting devices and labscript.py</p>", "type": "rendered"}, "created_on": "2018-02-27T07:18:40.492567+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-02-27T07:25:16.140119+00:00", "type": "pullrequest_comment", "id": 57376475}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57373223.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57373223"}}, "parent": {"id": 57372660, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57372660.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57372660"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Yep, sounds good to me, I'll look into it (likely not until next week). We can get all that stringy stuff in the one place.", "markup": "markdown", "html": "<p>Yep, sounds good to me, I'll look into it (likely not until next week). We can get all that stringy stuff in the one place.</p>", "type": "rendered"}, "created_on": "2018-02-27T06:31:37.134016+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T06:31:37.138025+00:00", "type": "pullrequest_comment", "id": 57373223}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57372660.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57372660"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Can I suggest you move the connection table parsing code from BLACS into labscript\\_utils as part of this? I've been meaning to do it for ages and this could be a good opportunity since it needs to change anyway...", "markup": "markdown", "html": "<p>Can I suggest you move the connection table parsing code from BLACS into labscript_utils as part of this? I've been meaning to do it for ages and this could be a good opportunity since it needs to change anyway...</p>", "type": "rendered"}, "created_on": "2018-02-27T06:21:11.471711+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-02-27T06:21:11.475407+00:00", "type": "pullrequest_comment", "id": 57372660}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57371529.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57371529"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Things are looking pretty good! I've made some changes to this code, mostly to how `properties.py` handles strings.\n\nI've made it store native string types, and be able to read all string types, when storing and retrieving JSON encoded objects. Since what you get back is the object that was JSON encoded, and you don't care what type of string was stored, this ensures properties can be read regardless of how they were written. I think this should be the approach for Python 3 compatibility with other strings in h5 files: write native strings, be able to read anything.\n\nI also changed properties so that it can extract connection table properties regardless of whether the *name* of the device was stored in the connection table as a fixed-length bytestring or as a variable length unicode string. At the moment they're all stored as fixed length strings, but this allows us to change how they are stored when porting labscript to python 3, whilst ensuring everyone can still read them regardless of what Python version they are on. \n\ntl;dr: code that reads strings should be able to read them no matter what type of string they are. There'll be more work like this in the BLACS connection table code. As usual this is most of the subtlety in porting to Python 3.\n\nI also did some minor cleanups (based on things highlighted by running 2to3) and removed the `dtypeslist2dict` hack. But, I'll put that back in if there is a good reason for it that I'm overlooking, if you could let me know.\n\nI've run 2to3 over the whole thing and looked at every issue it raised - there are none remaining that require action as far as I can tell.\n\nI've done rudimentary testing of the result of all this, and been able to compile, run and analyse shots.\n\nIf you're happy with the `dtypeslist2dict` hack being removed, then it would be great if you could `hg pull --branch Python3 #!/cbillington/labscript_utils` to get my additional commits into this pull request, then we can proceed to test a bit more.\n\nAnd we shouldn't merge until qtutils gets a 2.1.0 release on PyPI so that this code can depend on it. In the meantime this can be tested by installing the release candidate of qtutils 2.1.0 with: \n\n`pip install https://pstarkey.github.io/bitbucket-archive/#!/downloads/qtutils-2.1.0-rc1.zip`", "markup": "markdown", "html": "<p>Things are looking pretty good! I've made some changes to this code, mostly to how <code>properties.py</code> handles strings.</p>\n<p>I've made it store native string types, and be able to read all string types, when storing and retrieving JSON encoded objects. Since what you get back is the object that was JSON encoded, and you don't care what type of string was stored, this ensures properties can be read regardless of how they were written. I think this should be the approach for Python 3 compatibility with other strings in h5 files: write native strings, be able to read anything.</p>\n<p>I also changed properties so that it can extract connection table properties regardless of whether the <em>name</em> of the device was stored in the connection table as a fixed-length bytestring or as a variable length unicode string. At the moment they're all stored as fixed length strings, but this allows us to change how they are stored when porting labscript to python 3, whilst ensuring everyone can still read them regardless of what Python version they are on. </p>\n<p>tl;dr: code that reads strings should be able to read them no matter what type of string they are. There'll be more work like this in the BLACS connection table code. As usual this is most of the subtlety in porting to Python 3.</p>\n<p>I also did some minor cleanups (based on things highlighted by running 2to3) and removed the <code>dtypeslist2dict</code> hack. But, I'll put that back in if there is a good reason for it that I'm overlooking, if you could let me know.</p>\n<p>I've run 2to3 over the whole thing and looked at every issue it raised - there are none remaining that require action as far as I can tell.</p>\n<p>I've done rudimentary testing of the result of all this, and been able to compile, run and analyse shots.</p>\n<p>If you're happy with the <code>dtypeslist2dict</code> hack being removed, then it would be great if you could <code>hg pull --branch Python3 #!/cbillington/labscript_utils</code> to get my additional commits into this pull request, then we can proceed to test a bit more.</p>\n<p>And we shouldn't merge until qtutils gets a 2.1.0 release on PyPI so that this code can depend on it. In the meantime this can be tested by installing the release candidate of qtutils 2.1.0 with: </p>\n<p><code>pip install https://pstarkey.github.io/bitbucket-archive/#!/downloads/qtutils-2.1.0-rc1.zip</code></p>", "type": "rendered"}, "created_on": "2018-02-27T05:58:48.014879+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T06:00:03.816995+00:00", "type": "pullrequest_comment", "id": 57371529}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28/comments/57365587.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28/_/diff#comment-57365587"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}, "content": {"raw": "Looking into this now.\n\nIs the `dtypeslist2dict` function necessary? As far as I can tell, the `[(name1, format1), (name2, format2)]` way of specifying a compound datatype continues to work in Python 3 as-is, is there a reason to change it to the dictionary way of specifying a datatype?", "markup": "markdown", "html": "<p>Looking into this now.</p>\n<p>Is the <code>dtypeslist2dict</code> function necessary? As far as I can tell, the <code>[(name1, format1), (name2, format2)]</code> way of specifying a compound datatype continues to work in Python 3 as-is, is there a reason to change it to the dictionary way of specifying a datatype?</p>", "type": "rendered"}, "created_on": "2018-02-27T03:33:02.814811+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-02-27T03:33:02.817972+00:00", "type": "pullrequest_comment", "id": 57365587}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "828eccbc8f42", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/828eccbc8f42"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/828eccbc8f42"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-11-17T15:57:52.975096+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "5b4ff405a8aa", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/5b4ff405a8aa"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/5b4ff405a8aa"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-11-09T16:48:26.418726+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7333b3540f77", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/7333b3540f77"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/7333b3540f77"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-10-19T13:40:52.361784+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}, {"update": {"description": "This pull request aims at bringing Python 2/3 compatibility to the labscript suite.\r\n\r\nThe changes are mostly printfunctions adjustments, string/unicode compatibility, future imports and explicit int division.\r\n\r\nI also added a file containing a function to convert lists of dtypes to dicts of dtypes for numpy. This is because numpy doesn't like non native strings in dtype lists but in dicts they are fine.\r\n\r\n* **future** imports added to unitconversions and Python 3 changes\r\n* Added future imports to all files\r\n* Python3 changes\r\n* Python 3 string/exception handeling in properties.py\r\n* some unicode adjustments for properties.py and a function to convert a list of dtypes to a dict of dtypes to fix some problems with numpy", "title": "Python3", "destination": {"commit": {"hash": "ee0808eb9205", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/ee0808eb9205.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/ee0808eb9205"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7333b3540f77", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils/commit/7333b3540f77"}, "html": {"href": "#!/PhyNerd/labscript_utils/commits/7333b3540f77"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/labscript_utils"}, "html": {"href": "#!/PhyNerd/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{02bff725-3db8-46ab-9b30-db6618a29d91}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "PhyNerd/labscript_utils", "uuid": "{02bff725-3db8-46ab-9b30-db6618a29d91}"}, "branch": {"name": "Python3"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-10-19T13:40:52.285259+00:00"}, "pull_request": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/28"}}, "title": "Python3"}}]}