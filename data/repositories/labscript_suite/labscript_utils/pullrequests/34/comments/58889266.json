{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/34/comments/58889266.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/34/_/diff#comment-58889266"}}, "parent": {"id": 58882523, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/34/comments/58882523.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/34/_/diff#comment-58882523"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/34.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/34"}}, "title": "Prepare Connectiontable for Remote Workers"}, "content": {"raw": "Ok so first of all Phil is mostly right this pull request prevents the non-devices introduced by #22 from being initiated by BLACS and adds a easier access to the hostename and \\(if specified\\) port. So this pull request is independet from the was we want workers to be run on another machine.\n\nThe other change that Devices attached to a secondary control system don't get instantiated is in here because Phil's proposal wants them to live in a second BLACS and have it's tab be handled there.\n\nAs for still returning Remoteworkers with a `Connection.remote_connections` length of 1 this is so that imidiate Remote workers can than be instanciated in`tab_base_classes.py`. This is something that can be either done by my current hack or your zprocess 'remote launcher' deamon.\n\nBy the way I'm in great favor of moving the remote stuff to zprocess but we should consider a few things that my current implementation of remote workers is hacking around:\n\n* transition\\_to\\_buffered and transition\\_to\\_manual receive the local file path to h5 files this would have to change or get modified in `tab_base_classes.py`'s event\\_queue loop\n* New features like the Analog In pull request talking with specific local ports will need a Forwarder of some kind or need to know that they are non local and where to finde the main machine\n* Worker creation should be non blocking if the deamon on the other machine is not running otherwise starting BLACS could come to a crawl\n\n", "markup": "markdown", "html": "<p>Ok so first of all Phil is mostly right this pull request prevents the non-devices introduced by <a href=\"#!/labscript_suite/labscript_utils/issues/22/the-win7appid-executable-can-be-replaced\" rel=\"nofollow\" title=\"The Win7AppId executable can be replaced with Python calls now\" class=\"ap-connect-link\"><s>#22</s></a> from being initiated by BLACS and adds a easier access to the hostename and (if specified) port. So this pull request is independet from the was we want workers to be run on another machine.</p>\n<p>The other change that Devices attached to a secondary control system don't get instantiated is in here because Phil's proposal wants them to live in a second BLACS and have it's tab be handled there.</p>\n<p>As for still returning Remoteworkers with a <code>Connection.remote_connections</code> length of 1 this is so that imidiate Remote workers can than be instanciated in<code>tab_base_classes.py</code>. This is something that can be either done by my current hack or your zprocess 'remote launcher' deamon.</p>\n<p>By the way I'm in great favor of moving the remote stuff to zprocess but we should consider a few things that my current implementation of remote workers is hacking around:</p>\n<ul>\n<li>transition_to_buffered and transition_to_manual receive the local file path to h5 files this would have to change or get modified in <code>tab_base_classes.py</code>'s event_queue loop</li>\n<li>New features like the Analog In pull request talking with specific local ports will need a Forwarder of some kind or need to know that they are non local and where to finde the main machine</li>\n<li>Worker creation should be non blocking if the deamon on the other machine is not running otherwise starting BLACS could come to a crawl</li>\n</ul>", "type": "rendered"}, "created_on": "2018-03-15T06:21:21.547016+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-15T06:32:07.998705+00:00", "type": "pullrequest_comment", "id": 58889266}