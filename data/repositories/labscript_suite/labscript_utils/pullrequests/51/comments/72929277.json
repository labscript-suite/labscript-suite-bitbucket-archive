{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/51/comments/72929277.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/51/_/diff#comment-72929277"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 51, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/51.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/51"}}, "title": "Concurrent logging"}, "content": {"raw": "concurrent-log-handler uses OS-level file locking to ensure multiple processes are not able to rotate the log file at the same time.\n\nI had planned on making some kind of network logger, it would probably be more performant but would come with other issues and was going to be rather complicated to make. This package is performant enough (~100us or so per log line) and we don't have to maintain it, so as long as it doesn't turn up any problems I think we should just use it as is.\n\nI'm pretty sure OS file locking only works for local files, so log files cannot be on a network drive. I doubt this will be a problem.\n\nHat tip to Russ for pointing me in the direction of this package.", "markup": "markdown", "html": "<p>concurrent-log-handler uses OS-level file locking to ensure multiple processes are not able to rotate the log file at the same time.</p>\n<p>I had planned on making some kind of network logger, it would probably be more performant but would come with other issues and was going to be rather complicated to make. This package is performant enough (~100us or so per log line) and we don't have to maintain it, so as long as it doesn't turn up any problems I think we should just use it as is.</p>\n<p>I'm pretty sure OS file locking only works for local files, so log files cannot be on a network drive. I doubt this will be a problem.</p>\n<p>Hat tip to Russ for pointing me in the direction of this package.</p>", "type": "rendered"}, "created_on": "2018-08-14T15:24:21.981735+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-08-14T15:24:21.988615+00:00", "type": "pullrequest_comment", "id": 72929277}