{"pagelen": 50, "values": [{"update": {"description": "Raise TypeError rather than silently converting non-string keys in JSON encoding.\r\n\r\nPython's JSON encoder silently converts non-string dict keys to strings. This can cause subtle bugs, and the user should be made aware that they can only store strings as keys. Conversion to strings should be done explicitly to minimise surprise.\r\n\r\nThis bit me whilst adding some connection table properties to a device class I'm working on. One of the properties was a dictionary mapping ints to ints, and when read in in BLACS, the int keys had magically turned into strings. I could of course just convert them back to ints, but I'd rather be forced to store strings in the first place, if this is a limitation of JSON.\r\n\r\nThis change should be tested, as it's possible that code somewhere is relying on this implicit conversion.", "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding.", "destination": {"commit": {"hash": "7075805627aa", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/7075805627aa.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/7075805627aa"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3cefb40dd871", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/3cefb40dd871"}, "html": {"href": "#!/cbillington/labscript_utils/commits/3cefb40dd871"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-10-01T18:58:15.163897+00:00"}, "pull_request": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}}, {"update": {"description": "Raise TypeError rather than silently converting non-string keys in JSON encoding.\r\n\r\nPython's JSON encoder silently converts non-string dict keys to strings. This can cause subtle bugs, and the user should be made aware that they can only store strings as keys. Conversion to strings should be done explicitly to minimise surprise.\r\n\r\nThis bit me whilst adding some connection table properties to a device class I'm working on. One of the properties was a dictionary mapping ints to ints, and when read in in BLACS, the int keys had magically turned into strings. I could of course just convert them back to ints, but I'd rather be forced to store strings in the first place, if this is a limitation of JSON.\r\n\r\nThis change should be tested, as it's possible that code somewhere is relying on this implicit conversion.", "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding.", "destination": {"commit": {"hash": "7075805627aa", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/7075805627aa.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/7075805627aa"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3cefb40dd871", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/3cefb40dd871"}, "html": {"href": "#!/cbillington/labscript_utils/commits/3cefb40dd871"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-10-01T18:58:15.002976+00:00"}, "pull_request": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55/comments/76399664.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55/_/diff#comment-76399664"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}, "content": {"raw": "Looks ok \\(haven\u2019t tested in labscript software but did a quick check on the command line\\).\n\nP.S. I learned the other day that `assert` can be removed/ignored by a command line flag of `python.exe` that enables compiler optimisations. Was wondering if we should thus avoid using them \\(I noticed there was one in this file which reminded me!\\)", "markup": "markdown", "html": "<p>Looks ok (haven\u2019t tested in labscript software but did a quick check on the command line).</p>\n<p>P.S. I learned the other day that <code>assert</code> can be removed/ignored by a command line flag of <code>python.exe</code> that enables compiler optimisations. Was wondering if we should thus avoid using them (I noticed there was one in this file which reminded me!)</p>", "type": "rendered"}, "created_on": "2018-09-19T00:55:49.171121+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-09-19T00:55:49.177991+00:00", "type": "pullrequest_comment", "id": 76399664}, "pull_request": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}}, {"update": {"description": "Raise TypeError rather than silently converting non-string keys in JSON encoding.\r\n\r\nPython's JSON encoder silently converts non-string dict keys to strings. This can cause subtle bugs, and the user should be made aware that they can only store strings as keys. Conversion to strings should be done explicitly to minimise surprise.\r\n\r\nThis bit me whilst adding some connection table properties to a device class I'm working on. One of the properties was a dictionary mapping ints to ints, and when read in in BLACS, the int keys had magically turned into strings. I could of course just convert them back to ints, but I'd rather be forced to store strings in the first place, if this is a limitation of JSON.\r\n\r\nThis change should be tested, as it's possible that code somewhere is relying on this implicit conversion.", "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding.", "destination": {"commit": {"hash": "547696e50559", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/547696e50559.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/547696e50559"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3cefb40dd871", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/3cefb40dd871"}, "html": {"href": "#!/cbillington/labscript_utils/commits/3cefb40dd871"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-09-18T17:56:41.341414+00:00"}, "pull_request": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}}, {"update": {"description": "Raise TypeError rather than silently converting non-string keys in JSON encoding.\r\n\r\nPython's JSON encoder silently converts non-string dict keys to strings. This can cause subtle bugs, and the user should be made aware that they can only store strings as keys. Conversion to strings should be done explicitly to minimise surprise.\r\n\r\nThis bit me whilst adding some connection table properties to a device class I'm working on. One of the properties was a dictionary mapping ints to ints, and when read in in BLACS, the int keys had magically turned into strings. I could of course just convert them back to ints, but I'd rather be forced to store strings in the first place, if this is a limitation of JSON.\r\n\r\nThis change should be tested, as it's possible that code somewhere is relying on this implicit conversion.", "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding.", "destination": {"commit": {"hash": "547696e50559", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/547696e50559.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/547696e50559"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "3cefb40dd871", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/3cefb40dd871"}, "html": {"href": "#!/cbillington/labscript_utils/commits/3cefb40dd871"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-09-18T17:56:41.283629+00:00"}, "pull_request": {"type": "pullrequest", "id": 55, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/55.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/55"}}, "title": "Raise TypeError rather than silently converting non-string keys in JSON encoding."}}]}