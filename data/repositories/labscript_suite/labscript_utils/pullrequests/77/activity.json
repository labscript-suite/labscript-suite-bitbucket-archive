{"pagelen": 50, "values": [{"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d04b924dbb4b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d04b924dbb4b.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d04b924dbb4b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f900472dc393", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/f900472dc393"}, "html": {"href": "#!/cbillington/labscript_utils/commits/f900472dc393"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-05-06T15:38:28.664557+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d04b924dbb4b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d04b924dbb4b.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d04b924dbb4b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f900472dc393", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/f900472dc393"}, "html": {"href": "#!/cbillington/labscript_utils/commits/f900472dc393"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-05-06T15:38:27.921609+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"approval": {"date": "2019-05-02T08:18:45.015546+00:00", "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100628026.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100628026"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "The raised issues with this PR have been resolved. `--allow-insecure` is no longer passed in to the servers if a shared secret is provided, and `--no-allow-insecure`is passed in if there is no shared secret and `allow_insecure=False` in labconfig.\n\nRely on required version of zprocess for these changes.", "markup": "markdown", "html": "<p>The raised issues with this PR have been resolved. <code>--allow-insecure</code> is no longer passed in to the servers if a shared secret is provided, and <code>--no-allow-insecure</code>is passed in if there is no shared secret and <code>allow_insecure=False</code> in labconfig.</p>\n<p>Rely on required version of zprocess for these changes.</p>", "type": "rendered"}, "created_on": "2019-05-01T22:19:35.011003+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-05-01T22:19:35.019463+00:00", "type": "pullrequest_comment", "id": 100628026}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "1bd00db6968c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/1bd00db6968c.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/1bd00db6968c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f900472dc393", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/f900472dc393"}, "html": {"href": "#!/cbillington/labscript_utils/commits/f900472dc393"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-05-01T22:16:25.139965+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "1bd00db6968c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/1bd00db6968c.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/1bd00db6968c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "31a81f8f56e5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/31a81f8f56e5"}, "html": {"href": "#!/cbillington/labscript_utils/commits/31a81f8f56e5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-05-01T20:55:22.136548+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100237548.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100237548"}}, "parent": {"id": 100234401, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100234401.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100234401"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "Yes, omitting the extra command line argument if it does nothing would cause less confusion, will do. \n\nPrefixing \u201cno-\u201d is a [pretty common](https://www.die.net/search/?q=--no) convention for negating command line options, so I would probably keep it at that despite it being awkward english.", "markup": "markdown", "html": "<p>Yes, omitting the extra command line argument if it does nothing would cause less confusion, will do. </p>\n<p>Prefixing \u201cno-\u201d is a <a data-is-external-link=\"true\" href=\"https://www.die.net/search/?q=--no\" rel=\"nofollow\">pretty common</a> convention for negating command line options, so I would probably keep it at that despite it being awkward english.</p>", "type": "rendered"}, "created_on": "2019-04-29T00:54:46.726075+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-04-29T00:54:46.735797+00:00", "type": "pullrequest_comment", "id": 100237548}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100234401.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100234401"}}, "parent": {"id": 100229850, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100229850.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100229850"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "Thanks. That makes sense. Perhaps omit the `--allow-insecure` flag of the command string then when it has no function, i.e. when a shared secret is used \\(it contributed to my confusion\\).\n\n> I should add a `--no-allow-insecure` flag as well,\n\nOr `--disallow-insecure`?", "markup": "markdown", "html": "<p>Thanks. That makes sense. Perhaps omit the <code>--allow-insecure</code> flag of the command string then when it has no function, i.e. when a shared secret is used (it contributed to my confusion).</p>\n<blockquote>\n<p>I should add a <code>--no-allow-insecure</code> flag as well,</p>\n</blockquote>\n<p>Or <code>--disallow-insecure</code>?</p>", "type": "rendered"}, "created_on": "2019-04-28T22:14:01.864470+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-04-28T22:14:01.875750+00:00", "type": "pullrequest_comment", "id": 100234401}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100229850.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100229850"}}, "parent": {"id": 100225052, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100225052.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100225052"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "To clarify - \u2018allow\\_insecure\u2019 isn\u2019t about having servers  accept both encrypted and unencrypted clients \\(I haven\u2019t worked out how to do that in zmq in any case\\). Instead, it\u2019s a flag to say \u201cyes, I am aware that I have not enabled encryption and I accept the consequences\u201d. Setting allow\\_insecure when also specifying a shared secret does nothing, so there is no need to explicitly set it to False. Instead, one will need to set it to True in the future \\(once we\u2019re happy enough with this security stuff that we want to enforce it\\) to opt-out of encryption without zprocess erroring on every external connection or message received from an external connection \\(localhost communication continues to work fine with no encryption and without setting allow\\_insecure=True\\). \n\nThe error messages zprocess prints might help clarify further how this is intended to work:\n\n```python\n\nINSECURE_CONNECT_ERROR = ' '.join(\n    \"\"\"Plaintext socket connecting to external address %s  not allowed. Use a shared\nsecret to securely communicate across the network, or set allow_insecure=True if you are\non a trusted network and you know what you are doing. Insecure communication with Python\nobjects can allow remote code execution and so is not safe on an untrusted network even\nif messages contain no sensitive information.\"\"\".splitlines()\n)\n\n\nINSECURE_RECV_WARNING = ' '.join(\n    \"\"\"Warning: insecure message received on external interface from %s discarded. Use a\nshared secret to securely communicate across the network, or set allow_insecure=True if\nyou are on a trusted network and you know what you are doing. Insecure communication\nwith Python objects can allow remote code execution and so is not safe on an untrusted\nnetwork even if messages contain no sensitive information.\"\"\".splitlines()\n)\n```\n\n\u200c\n\nThere are two places allow\\_insecure is currently defaulting to True, one is here in `labscript_utils.ls_zprocess`, and the other is in zprocess itself. Both will need to change before security is guaranteed without explicitly suppressing it, but the change to zprocess is a backward-incompatible one, so is trickier.\n\nIt occured to me that I\u2019ve done something silly - zprocess functions accept allow\\_insecure, and whilst it\u2019s currently defaulting to True, labscript can pass in False, in which case it doesn\u2019t matter what zprocess\u2019s default is. This is happening with all the functions and classes that are accessed in normal Python code. But with the command line programs - zlog, zlock and zprocess.remote, these have the flag passed in as `--allow-insecure`on the command line, and if not provided it defaults to True as per zprocess defaults. There\u2019s no way to say \u201chey, set allow\\_insecure to be False\u201d. So I should add a `--no-allow-insecure` flag as well, so that labscript can effectively pass in the actual value of `allow_insecure`without relying on zprocess defaults. That way the zprocess backward-incompatible jump doesn\u2019t have to occur quite as soon, and newer versions of labscript suite programs can for a time work with zprocess 2 or 3, making the transition not so jarring.", "markup": "markdown", "html": "<p>To clarify - \u2018allow_insecure\u2019 isn\u2019t about having servers  accept both encrypted and unencrypted clients (I haven\u2019t worked out how to do that in zmq in any case). Instead, it\u2019s a flag to say \u201cyes, I am aware that I have not enabled encryption and I accept the consequences\u201d. Setting allow_insecure when also specifying a shared secret does nothing, so there is no need to explicitly set it to False. Instead, one will need to set it to True in the future (once we\u2019re happy enough with this security stuff that we want to enforce it) to opt-out of encryption without zprocess erroring on every external connection or message received from an external connection (localhost communication continues to work fine with no encryption and without setting allow_insecure=True). </p>\n<p>The error messages zprocess prints might help clarify further how this is intended to work:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">INSECURE_CONNECT_ERROR</span> <span class=\"o\">=</span> <span class=\"s1\">&#39; &#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;Plaintext socket connecting to external address %s  not allowed. Use a shared</span>\n<span class=\"sd\">secret to securely communicate across the network, or set allow_insecure=True if you are</span>\n<span class=\"sd\">on a trusted network and you know what you are doing. Insecure communication with Python</span>\n<span class=\"sd\">objects can allow remote code execution and so is not safe on an untrusted network even</span>\n<span class=\"sd\">if messages contain no sensitive information.&quot;&quot;&quot;</span><span class=\"o\">.</span><span class=\"n\">splitlines</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n\n\n<span class=\"n\">INSECURE_RECV_WARNING</span> <span class=\"o\">=</span> <span class=\"s1\">&#39; &#39;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;Warning: insecure message received on external interface from %s discarded. Use a</span>\n<span class=\"sd\">shared secret to securely communicate across the network, or set allow_insecure=True if</span>\n<span class=\"sd\">you are on a trusted network and you know what you are doing. Insecure communication</span>\n<span class=\"sd\">with Python objects can allow remote code execution and so is not safe on an untrusted</span>\n<span class=\"sd\">network even if messages contain no sensitive information.&quot;&quot;&quot;</span><span class=\"o\">.</span><span class=\"n\">splitlines</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n</pre></div>\n\n\n<p>\u200c</p>\n<p>There are two places allow_insecure is currently defaulting to True, one is here in <code>labscript_utils.ls_zprocess</code>, and the other is in zprocess itself. Both will need to change before security is guaranteed without explicitly suppressing it, but the change to zprocess is a backward-incompatible one, so is trickier.</p>\n<p>It occured to me that I\u2019ve done something silly - zprocess functions accept allow_insecure, and whilst it\u2019s currently defaulting to True, labscript can pass in False, in which case it doesn\u2019t matter what zprocess\u2019s default is. This is happening with all the functions and classes that are accessed in normal Python code. But with the command line programs - zlog, zlock and zprocess.remote, these have the flag passed in as <code>--allow-insecure</code>on the command line, and if not provided it defaults to True as per zprocess defaults. There\u2019s no way to say \u201chey, set allow_insecure to be False\u201d. So I should add a <code>--no-allow-insecure</code> flag as well, so that labscript can effectively pass in the actual value of <code>allow_insecure</code>without relying on zprocess defaults. That way the zprocess backward-incompatible jump doesn\u2019t have to occur quite as soon, and newer versions of labscript suite programs can for a time work with zprocess 2 or 3, making the transition not so jarring.</p>", "type": "rendered"}, "created_on": "2019-04-28T15:23:19.873834+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-04-28T15:23:19.885510+00:00", "type": "pullrequest_comment", "id": 100229850}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100225052.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100225052"}}, "parent": {"id": 100221901, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221901.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221901"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "This is a good place to point out that until zprocess 3, you have to explicitly disable insecure connections in addition to specifying the `shared_secret`in labconfig to enable encryption:\n\n```\n[security]\nallow_insecure = False\nshared_secret=<path to shared secret file>\n```\n\ni.e. the existence of a shared\\_secret value in labconfig doesn\u2019t stop the server being started in insecure mode.", "markup": "markdown", "html": "<p>This is a good place to point out that until zprocess 3, you have to explicitly disable insecure connections in addition to specifying the <code>shared_secret</code>in labconfig to enable encryption:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[security]</span>\n<span class=\"na\">allow_insecure</span> <span class=\"o\">=</span> <span class=\"s\">False</span>\n<span class=\"na\">shared_secret</span><span class=\"o\">=</span><span class=\"s\">&lt;path to shared secret file&gt;</span>\n</pre></div>\n\n\n<p>i.e. the existence of a shared_secret value in labconfig doesn\u2019t stop the server being started in insecure mode.</p>", "type": "rendered"}, "created_on": "2019-04-28T08:57:02.546230+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-04-28T08:58:06.320092+00:00", "type": "pullrequest_comment", "id": 100225052}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "1bd00db6968c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/1bd00db6968c.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/1bd00db6968c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f6784ce7427a", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/f6784ce7427a"}, "html": {"href": "#!/cbillington/labscript_utils/commits/f6784ce7427a"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "date": "2019-04-28T02:50:34.451844+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221919.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221919"}}, "parent": {"id": 100221901, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221901.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221901"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "Yep, I know `allow_insecure` defaults to True. This fix is for the case where you explicitly want `allow_insecure` to be False.", "markup": "markdown", "html": "<p>Yep, I know <code>allow_insecure</code> defaults to True. This fix is for the case where you explicitly want <code>allow_insecure</code> to be False.</p>", "type": "rendered"}, "created_on": "2019-04-28T02:48:30.931919+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-04-28T02:48:30.941176+00:00", "type": "pullrequest_comment", "id": 100221919}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221901.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221901"}}, "parent": {"id": 100221791, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221791.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221791"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "Ah, so, yes. It has to default to True for now for backward compatibility - otherwise everyone's experiments will stop working, since the security settings apply to all zmq sockets. I am planning on defaulting it to False once we know all the security stuff is working properly, and then we can modify the error message to include a link to documentation for configuring security. But if we default it to False now, it will just stop everything from working in existing setups.\n\nI suppose I could have the remote process server specifically make sure that it is set to True before running, since it is new functionality and so not breaking backward compatibility.\n\nEdit: oh, even if it's being explicitly set to False, that's a bug, will fix! I meant to make it default to True, but didn't realise it was being read incorrectly.", "markup": "markdown", "html": "<p>Ah, so, yes. It has to default to True for now for backward compatibility - otherwise everyone's experiments will stop working, since the security settings apply to all zmq sockets. I am planning on defaulting it to False once we know all the security stuff is working properly, and then we can modify the error message to include a link to documentation for configuring security. But if we default it to False now, it will just stop everything from working in existing setups.</p>\n<p>I suppose I could have the remote process server specifically make sure that it is set to True before running, since it is new functionality and so not breaking backward compatibility.</p>\n<p>Edit: oh, even if it's being explicitly set to False, that's a bug, will fix! I meant to make it default to True, but didn't realise it was being read incorrectly.</p>", "type": "rendered"}, "created_on": "2019-04-28T02:42:43.963029+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-04-28T02:45:14.317861+00:00", "type": "pullrequest_comment", "id": 100221901}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77/comments/100221791.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77/_/diff#comment-100221791"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}, "content": {"raw": "In ls\\_zprocess.py, `allow_insecure`isn't being read properly from labconfig. Any non-null value is being interpreted as `True`, i.e. the server/client are _always_ being started with `--allow_insecure`, even if `allow_insecure=False` in the labconfig file. Suggest using`labconfig.getboolean` when reading, and use `labconfig.getint` for the other two properties while you\u2019re at it. \\(I tried committing this fix but I don\u2019t have write access to your labscript\\_utils.\\)", "markup": "markdown", "html": "<p>In ls_zprocess.py, <code>allow_insecure</code>isn't being read properly from labconfig. Any non-null value is being interpreted as <code>True</code>, i.e. the server/client are <em>always</em> being started with <code>--allow_insecure</code>, even if <code>allow_insecure=False</code> in the labconfig file. Suggest using<code>labconfig.getboolean</code> when reading, and use <code>labconfig.getint</code> for the other two properties while you\u2019re at it. (I tried committing this fix but I don\u2019t have write access to your labscript_utils.)</p>", "type": "rendered"}, "created_on": "2019-04-28T02:10:53.349269+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-04-28T02:14:20.418400+00:00", "type": "pullrequest_comment", "id": 100221791}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "1bd00db6968c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/1bd00db6968c.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/1bd00db6968c"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "6c04e387e906", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/6c04e387e906"}, "html": {"href": "#!/cbillington/labscript_utils/commits/6c04e387e906"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-04-24T23:27:24.506789+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.4, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d51bd1da3391", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d51bd1da3391.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d51bd1da3391"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "aebd6b6b5bfb", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/aebd6b6b5bfb"}, "html": {"href": "#!/cbillington/labscript_utils/commits/aebd6b6b5bfb"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-04-24T17:42:46.906687+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.0, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d51bd1da3391", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d51bd1da3391.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d51bd1da3391"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "aebd6b6b5bfb", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/aebd6b6b5bfb"}, "html": {"href": "#!/cbillington/labscript_utils/commits/aebd6b6b5bfb"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-04-24T17:42:33.990982+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.0, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d51bd1da3391", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d51bd1da3391.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d51bd1da3391"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e03a26010269", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/e03a26010269"}, "html": {"href": "#!/cbillington/labscript_utils/commits/e03a26010269"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-04-24T17:37:11.867425+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}, {"update": {"description": "This PR fixes issues I've come across in getting remote workers working.\r\n\r\n* Have RemoteProcessClient accept a port number and use default port if not provided.\r\n\r\n* Require zprocess 2.12.0, which has fixes for remote processes.\r\n\r\n* Use new zprocess functionality to share log paths by name to child processes.\r\n    Otherwise, programs running with subprocesses on different computers will\r\n    create additional log files with unrelated filepaths on the computer running\r\n    the top-level process.\r\n\r\n* Fix a bug in calling remote server: curses interface didn't work with execv\r\n\r\n* Patch version bump so that other programs' remote workers implementation can rely on these changes.\r\n\r\nNote to self, version tag required after merging.\r\n\r\nMight be worth leaving this open for a little bit since I will probably come across more issues. Or I can fix them in a separate PR, either way is fine really.", "title": "Fixes for remote workers.", "destination": {"commit": {"hash": "d51bd1da3391", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/d51bd1da3391.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/d51bd1da3391"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "e03a26010269", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils/commit/e03a26010269"}, "html": {"href": "#!/cbillington/labscript_utils/commits/e03a26010269"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/labscript_utils"}, "html": {"href": "#!/cbillington/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{455d0b5d-4852-4e4a-b8b1-f5ba77882210}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "cbillington/labscript_utils", "uuid": "{455d0b5d-4852-4e4a-b8b1-f5ba77882210}"}, "branch": {"name": "remote-processes"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-04-24T17:37:11.785765+00:00"}, "pull_request": {"type": "pullrequest", "id": 77, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/77.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/77"}}, "title": "Fixes for remote workers."}}]}