{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/8/comments/38863320.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/8/_/diff#comment-38863320"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 8, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/8.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/8"}}, "title": "Icons and smaller buttons for toolpalette widget"}, "content": {"raw": "Yikes! You rolled back the icons changes? Because there was some code in the tab text colour handling which looked like it was explicitly there in order to handle the fact that the tab might be mid-drag, and so I was modifying that making it do the same for icons as well as text colour. So I wonder if I broke it or not (I was certainly trying to cooperate. You can see the changes I made [here](#!/labscript_suite/blacs/pull-requests/7/icons-and-some-pixel-saving/diff#Ltab_base_classes.pyF338), all I did was rename the timer and add updating of the icon as well as the text - actually it looks like I have a wrong variable name for the timer there! I'll confirm.).\n\nPhil, there is this blog post that seems like it advises what you did with the timer:\n\nhttp://robertfelten.com/2013/08/20/tip-for-resizing-qt-windows/\n\nIt's mostly about increasing responsiveness when the computation of the widget size is going to take some time, not so much about reducing the total time the main thread is busy. Obviously decreasing the time the main thread is busy is good too, but I think there is also some kind of priority to how Qt processes events, and it might be that the PulseBlaster status checks take more priority anyway. I'm not sure though. \n\nIf there are issues there though, we could also address them by making the Pulseblaster status checks do 1 second worth of checks at a time in the subprocess, returning if it finds the status it's waiting for, rather than returning to the parent process and hitting the GUI event loop with every poll of the status.", "markup": "markdown", "html": "<p>Yikes! You rolled back the icons changes? Because there was some code in the tab text colour handling which looked like it was explicitly there in order to handle the fact that the tab might be mid-drag, and so I was modifying that making it do the same for icons as well as text colour. So I wonder if I broke it or not (I was certainly trying to cooperate. You can see the changes I made <a data-is-external-link=\"true\" href=\"#!/labscript_suite/blacs/pull-requests/7/icons-and-some-pixel-saving/diff#Ltab_base_classes.pyF338\" rel=\"nofollow\">here</a>, all I did was rename the timer and add updating of the icon as well as the text - actually it looks like I have a wrong variable name for the timer there! I'll confirm.).</p>\n<p>Phil, there is this blog post that seems like it advises what you did with the timer:</p>\n<p><a href=\"http://robertfelten.com/2013/08/20/tip-for-resizing-qt-windows/\" rel=\"nofollow\" class=\"ap-connect-link\">http://robertfelten.com/2013/08/20/tip-for-resizing-qt-windows/</a></p>\n<p>It's mostly about increasing responsiveness when the computation of the widget size is going to take some time, not so much about reducing the total time the main thread is busy. Obviously decreasing the time the main thread is busy is good too, but I think there is also some kind of priority to how Qt processes events, and it might be that the PulseBlaster status checks take more priority anyway. I'm not sure though. </p>\n<p>If there are issues there though, we could also address them by making the Pulseblaster status checks do 1 second worth of checks at a time in the subprocess, returning if it finds the status it's waiting for, rather than returning to the parent process and hitting the GUI event loop with every poll of the status.</p>", "type": "rendered"}, "created_on": "2017-06-14T23:39:53.474789+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-14T23:42:53.357581+00:00", "type": "pullrequest_comment", "id": 38863320}