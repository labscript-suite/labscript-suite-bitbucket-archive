{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/81/comments/101543787.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/81/_/diff#comment-101543787"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 81, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/81.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/81"}}, "title": "Include all package dirs in Modulewatcher whitelist"}, "content": {"raw": "I also saw this when changing the number of active routines in lyse:\n\n```python\nTraceback (most recent call last):\r\n  File \"C:\\ProgramData\\Anaconda3\\lib\\threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\labscript_suite\\labscript_utils\\modulewatcher.py\", line 59, in mainloop\r\n    if self.check():\r\n  File \"C:\\labscript_suite\\labscript_utils\\modulewatcher.py\", line 69, in check\r\n    for name, module in sys.modules.items():\r\nRuntimeError: dictionary changed size during iteration\n```", "markup": "markdown", "html": "<p>I also saw this when changing the number of active routines in lyse:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\ProgramData\\Anaconda3\\lib</span><span class=\"se\">\\t</span><span class=\"s2\">hreading.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">865</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">run</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_target</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_kwargs</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_utils\\modulewatcher.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">59</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">mainloop</span>\n    <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">check</span><span class=\"p\">():</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_utils\\modulewatcher.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">69</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">check</span>\n    <span class=\"k\">for</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">module</span> <span class=\"ow\">in</span> <span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">modules</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n<span class=\"ne\">RuntimeError</span><span class=\"p\">:</span> <span class=\"n\">dictionary</span> <span class=\"n\">changed</span> <span class=\"n\">size</span> <span class=\"n\">during</span> <span class=\"n\">iteration</span>\n</pre></div>", "type": "rendered"}, "created_on": "2019-05-10T01:33:24.895215+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-05-10T01:33:24.902277+00:00", "type": "pullrequest_comment", "id": 101543787}