{"pagelen": 100, "values": [{"hash": "c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/diff/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/commit/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_utils/commit/c8879ce93e7d69bb0bd6d5b6ca0dfa3de1652554/statuses_page=1.json"}}, "author": {"raw": "Chris Billington <chrisjbillington@gmail.com>", "type": "author", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, "summary": {"raw": "Merged in h5_lock_better_error (pull request #90)\n\nBugfix for double_import_denier and better error message for h5_lock", "markup": "markdown", "html": "<p>Merged in h5_lock_better_error (<a href=\"#!/labscript_suite/labscript_utils/pull-requests/90/bugfix-for-double_import_denier-and-better\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #90</a>)</p>\n<p>Bugfix for double_import_denier and better error message for h5_lock</p>", "type": "rendered"}, "parents": [{"hash": "61f4c846e51b68e3d9fe7cc452614d5ecb452dd1", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/61f4c846e51b68e3d9fe7cc452614d5ecb452dd1.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/61f4c846e51b68e3d9fe7cc452614d5ecb452dd1"}}}, {"hash": "5443c06c3ddbc6146591bd93b9bd8d887b03ee72", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/5443c06c3ddbc6146591bd93b9bd8d887b03ee72.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/5443c06c3ddbc6146591bd93b9bd8d887b03ee72"}}}], "date": "2019-09-13T20:33:22+00:00", "message": "Merged in h5_lock_better_error (pull request #90)\n\nBugfix for double_import_denier and better error message for h5_lock", "type": "commit"}, {"hash": "5443c06c3ddbc6146591bd93b9bd8d887b03ee72", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/5443c06c3ddbc6146591bd93b9bd8d887b03ee72.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_utils/commit/5443c06c3ddbc6146591bd93b9bd8d887b03ee72/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/patch/5443c06c3ddbc6146591bd93b9bd8d887b03ee72"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/5443c06c3ddbc6146591bd93b9bd8d887b03ee72"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/diff/5443c06c3ddbc6146591bd93b9bd8d887b03ee72"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/commit/5443c06c3ddbc6146591bd93b9bd8d887b03ee72/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_utils/commit/5443c06c3ddbc6146591bd93b9bd8d887b03ee72/statuses_page=1.json"}}, "author": {"raw": "Chris Billington <chrisjbillington@gmail.com>", "type": "author", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, "summary": {"raw": "Close branch h5_lock_better_error", "markup": "markdown", "html": "<p>Close branch h5_lock_better_error</p>", "type": "rendered"}, "parents": [{"hash": "68178dac527dee444e6256f839ebf4853297c71c", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/68178dac527dee444e6256f839ebf4853297c71c.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/68178dac527dee444e6256f839ebf4853297c71c"}}}], "date": "2019-09-13T20:33:22+00:00", "message": "Close branch h5_lock_better_error", "type": "commit"}, {"hash": "68178dac527dee444e6256f839ebf4853297c71c", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/68178dac527dee444e6256f839ebf4853297c71c.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_utils/commit/68178dac527dee444e6256f839ebf4853297c71c/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/patch/68178dac527dee444e6256f839ebf4853297c71c"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/68178dac527dee444e6256f839ebf4853297c71c"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/diff/68178dac527dee444e6256f839ebf4853297c71c"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/commit/68178dac527dee444e6256f839ebf4853297c71c/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_utils/commit/68178dac527dee444e6256f839ebf4853297c71c/statuses_page=1.json"}}, "author": {"raw": "chrisjbillington", "type": "author"}, "summary": {"raw": "Fix the bug that motivated the better error message.\n\nUsing the better error message, the bug was located and fixed.\nThe problem was that as of the serialised_attributes changes, the\nlabscript_utils.properties module imported h5py but not h5_lock, and so code\nthat imported labscript_utils.properties prior to h5_lock would cause the error\nto be raised.\n\nRather than have labscript_utils.properties import h5_lock, it now lazy-imports\nh5py within the functions that need it, so that the import order no longer\nmatters.", "markup": "markdown", "html": "<p>Fix the bug that motivated the better error message.</p>\n<p>Using the better error message, the bug was located and fixed.<br />\nThe problem was that as of the serialised_attributes changes, the<br />\nlabscript_utils.properties module imported h5py but not h5_lock, and so code<br />\nthat imported labscript_utils.properties prior to h5_lock would cause the error<br />\nto be raised.</p>\n<p>Rather than have labscript_utils.properties import h5_lock, it now lazy-imports<br />\nh5py within the functions that need it, so that the import order no longer<br />\nmatters.</p>", "type": "rendered"}, "parents": [{"hash": "4e160126d73f2a5b8ea10f51ea333534d222fd37", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/4e160126d73f2a5b8ea10f51ea333534d222fd37.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/4e160126d73f2a5b8ea10f51ea333534d222fd37"}}}], "date": "2019-08-22T17:55:20+00:00", "message": "Fix the bug that motivated the better error message.\n\nUsing the better error message, the bug was located and fixed.\nThe problem was that as of the serialised_attributes changes, the\nlabscript_utils.properties module imported h5py but not h5_lock, and so code\nthat imported labscript_utils.properties prior to h5_lock would cause the error\nto be raised.\n\nRather than have labscript_utils.properties import h5_lock, it now lazy-imports\nh5py within the functions that need it, so that the import order no longer\nmatters.", "type": "commit"}, {"hash": "4e160126d73f2a5b8ea10f51ea333534d222fd37", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/4e160126d73f2a5b8ea10f51ea333534d222fd37.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_utils/commit/4e160126d73f2a5b8ea10f51ea333534d222fd37/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/patch/4e160126d73f2a5b8ea10f51ea333534d222fd37"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/4e160126d73f2a5b8ea10f51ea333534d222fd37"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/diff/4e160126d73f2a5b8ea10f51ea333534d222fd37"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/commit/4e160126d73f2a5b8ea10f51ea333534d222fd37/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_utils/commit/4e160126d73f2a5b8ea10f51ea333534d222fd37/statuses_page=1.json"}}, "author": {"raw": "chrisjbillington", "type": "author"}, "summary": {"raw": "Remove unused line", "markup": "markdown", "html": "<p>Remove unused line</p>", "type": "rendered"}, "parents": [{"hash": "05e69ac87c9010b5fabf2b3dc9488923c5264ea6", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/05e69ac87c9010b5fabf2b3dc9488923c5264ea6.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/05e69ac87c9010b5fabf2b3dc9488923c5264ea6"}}}], "date": "2019-08-22T14:57:23+00:00", "message": "Remove unused line", "type": "commit"}, {"hash": "05e69ac87c9010b5fabf2b3dc9488923c5264ea6", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils.json"}, "html": {"href": "#!/labscript_suite/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{68347210-fb1e-4b58-86c0-bd2c04396e63}ts=249922"}}, "type": "repository", "name": "labscript_utils", "full_name": "labscript_suite/labscript_utils", "uuid": "{68347210-fb1e-4b58-86c0-bd2c04396e63}"}, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/05e69ac87c9010b5fabf2b3dc9488923c5264ea6.json"}, "comments": {"href": "data/repositories/labscript_suite/labscript_utils/commit/05e69ac87c9010b5fabf2b3dc9488923c5264ea6/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/patch/05e69ac87c9010b5fabf2b3dc9488923c5264ea6"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/05e69ac87c9010b5fabf2b3dc9488923c5264ea6"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/diff/05e69ac87c9010b5fabf2b3dc9488923c5264ea6"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/labscript_utils/commit/05e69ac87c9010b5fabf2b3dc9488923c5264ea6/approve"}, "statuses": {"href": "data/repositories/labscript_suite/labscript_utils/commit/05e69ac87c9010b5fabf2b3dc9488923c5264ea6/statuses_page=1.json"}}, "author": {"raw": "chrisjbillington", "type": "author"}, "summary": {"raw": "Bugfix for double_import_denier and better error message for h5_lock\n\n* Double import denier had a bug where a module that was already imported\n  when double import denier was enabled would be stored in its list of modules\n  by its `__file__` attribute. However, the import machinery as used later\n  by double import denier actually identifies modules by their directory for the\n  case of an `__init__.py` file. Therefore to match with later checks, this\n  directory should be stored instead when the module's file is `__init__.py`.\n\n* h5_lock must be imported before h5py, and raises an error if h5py is already\n  imported. This commit improves the error message by using the double import\n  denier, if enabled, to show the traceback it saved from when h5py was imported.\n\nThe motivation for this is a bug I've heard about from two people that they're\ngetting an error from h5_lock saying h5py was already imported, and I don't know\nwhere. There are hacks you can do to diagnose this locally, but making the error\nmessage better will allow us to handle such bugs easier in the future.\n\nLonger term we should probably stop monkey-patching h5py and instead just use\na subclass, but that's a change for another day.", "markup": "markdown", "html": "<p>Bugfix for double_import_denier and better error message for h5_lock</p>\n<ul>\n<li>\n<p>Double import denier had a bug where a module that was already imported<br />\n  when double import denier was enabled would be stored in its list of modules<br />\n  by its <code>__file__</code> attribute. However, the import machinery as used later<br />\n  by double import denier actually identifies modules by their directory for the<br />\n  case of an <code>__init__.py</code> file. Therefore to match with later checks, this<br />\n  directory should be stored instead when the module's file is <code>__init__.py</code>.</p>\n</li>\n<li>\n<p>h5_lock must be imported before h5py, and raises an error if h5py is already<br />\n  imported. This commit improves the error message by using the double import<br />\n  denier, if enabled, to show the traceback it saved from when h5py was imported.</p>\n</li>\n</ul>\n<p>The motivation for this is a bug I've heard about from two people that they're<br />\ngetting an error from h5_lock saying h5py was already imported, and I don't know<br />\nwhere. There are hacks you can do to diagnose this locally, but making the error<br />\nmessage better will allow us to handle such bugs easier in the future.</p>\n<p>Longer term we should probably stop monkey-patching h5py and instead just use<br />\na subclass, but that's a change for another day.</p>", "type": "rendered"}, "parents": [{"hash": "61f4c846e51b68e3d9fe7cc452614d5ecb452dd1", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/commit/61f4c846e51b68e3d9fe7cc452614d5ecb452dd1.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/commits/61f4c846e51b68e3d9fe7cc452614d5ecb452dd1"}}}], "date": "2019-08-22T14:53:56+00:00", "message": "Bugfix for double_import_denier and better error message for h5_lock\n\n* Double import denier had a bug where a module that was already imported\n  when double import denier was enabled would be stored in its list of modules\n  by its `__file__` attribute. However, the import machinery as used later\n  by double import denier actually identifies modules by their directory for the\n  case of an `__init__.py` file. Therefore to match with later checks, this\n  directory should be stored instead when the module's file is `__init__.py`.\n\n* h5_lock must be imported before h5py, and raises an error if h5py is already\n  imported. This commit improves the error message by using the double import\n  denier, if enabled, to show the traceback it saved from when h5py was imported.\n\nThe motivation for this is a bug I've heard about from two people that they're\ngetting an error from h5_lock saying h5py was already imported, and I don't know\nwhere. There are hacks you can do to diagnose this locally, but making the error\nmessage better will allow us to handle such bugs easier in the future.\n\nLonger term we should probably stop monkey-patching h5py and instead just use\na subclass, but that's a change for another day.", "type": "commit"}], "page": 1}