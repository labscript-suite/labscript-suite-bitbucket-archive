{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224924.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224924"}}, "parent": {"id": 130224776, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224776.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224776"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "the labscript suite profile directory, previously known as the labscript suite install directory, will no longer be in sys.path, since modules will not be imported from there anymore. Userlib will still be in the path however, and it is a subdirectory of the profile directory. So the profile directory is now found by looking through sys.path for a directory \\(userlib\\) whose parent directory contains a file called `.labscript_suite_profile`\\` \\(or `.is_labscript_suite_install_dir`\\` for backwards compat\\).\n\nThe creation of a profile will create the .pth file that puts userlib in the path. We could have the creation of a profile store another file somewhere that says where the labscript suite profile is, but this seems least messy to me since the .pth file is specific to the Python installation.", "markup": "markdown", "html": "<p>the labscript suite profile directory, previously known as the labscript suite install directory, will no longer be in sys.path, since modules will not be imported from there anymore. Userlib will still be in the path however, and it is a subdirectory of the profile directory. So the profile directory is now found by looking through sys.path for a directory (userlib) whose parent directory contains a file called <code>.labscript_suite_profile</code>` (or <code>.is_labscript_suite_install_dir</code>` for backwards compat).</p>\n<p>The creation of a profile will create the .pth file that puts userlib in the path. We could have the creation of a profile store another file somewhere that says where the labscript suite profile is, but this seems least messy to me since the .pth file is specific to the Python installation.</p>", "type": "rendered"}, "created_on": "2020-01-01T06:16:59.618304+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2020-01-01T06:19:38.228788+00:00", "type": "pullrequest_comment", "id": 130224924}