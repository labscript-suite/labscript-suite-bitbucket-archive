{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/126927476.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-126927476"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "The need for these changes was made apparent by restructuring `runviewer` in [runviewer PR #37](#!/labscript_suite/runviewer/pull-requests/37). Everything went pretty smoothly! I\u2019ll be attacking the other repos one by one with whatever timing minimises merge conflicts of existing pull requests, and I\u2019ll also test that mercurial is happy to merge things without human intervention so long as both sides did the same rename, if so the merge conflicts will be super simple to fix.", "markup": "markdown", "html": "<p>The need for these changes was made apparent by restructuring <code>runviewer</code> in <a data-is-external-link=\"true\" href=\"#!/labscript_suite/runviewer/pull-requests/37\" rel=\"nofollow\">runviewer PR #37</a>. Everything went pretty smoothly! I\u2019ll be attacking the other repos one by one with whatever timing minimises merge conflicts of existing pull requests, and I\u2019ll also test that mercurial is happy to merge things without human intervention so long as both sides did the same rename, if so the merge conflicts will be super simple to fix.</p>", "type": "rendered"}, "created_on": "2019-11-30T04:57:58.956456+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-11-30T04:57:58.962357+00:00", "type": "pullrequest_comment", "id": 126927476}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/126927716.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-126927716"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "It turns out that whilst mercurial is cool with it if both branches rename a file before merging, it is decidedly less cool with one of the branches still having a file by the same name as is the case with the `__init__.py`and `__main__.py`shims.\n\nOnce the restructuring is in default, the trick to resolve merge conflicts in another branch is to merge the one commit that actually did all the renaming into the branch. Since the other file with the same name wasn\u2019t created until after that, it\u2019s all good.\n\nSo doing renames - and nothing but renames - in one commit before changing anything else is a good idea. Feature branches can then just merge with that one commit once it is in default, then they won\u2019t have any more merge conflicts \\(none caused by the renames, anyhow\\).\n\nThis means there is little reason to worry about creating merge conflicts and I can just steamroll through converting all the repos.", "markup": "markdown", "html": "<p>It turns out that whilst mercurial is cool with it if both branches rename a file before merging, it is decidedly less cool with one of the branches still having a file by the same name as is the case with the <code>__init__.py</code>and <code>__main__.py</code>shims.</p>\n<p>Once the restructuring is in default, the trick to resolve merge conflicts in another branch is to merge the one commit that actually did all the renaming into the branch. Since the other file with the same name wasn\u2019t created until after that, it\u2019s all good.</p>\n<p>So doing renames - and nothing but renames - in one commit before changing anything else is a good idea. Feature branches can then just merge with that one commit once it is in default, then they won\u2019t have any more merge conflicts (none caused by the renames, anyhow).</p>\n<p>This means there is little reason to worry about creating merge conflicts and I can just steamroll through converting all the repos.</p>", "type": "rendered"}, "created_on": "2019-11-30T05:29:33.071448+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-11-30T05:29:33.077272+00:00", "type": "pullrequest_comment", "id": 126927716}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224776.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224776"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "Why does `_get_labscript_suite_profile` and the working directory now depend on the existence of userlib?", "markup": "markdown", "html": "<p>Why does <code>_get_labscript_suite_profile</code> and the working directory now depend on the existence of userlib?</p>", "type": "rendered"}, "created_on": "2020-01-01T05:50:52.678716+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2020-01-01T05:50:52.684460+00:00", "type": "pullrequest_comment", "id": 130224776}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224924.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224924"}}, "parent": {"id": 130224776, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224776.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224776"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "the labscript suite profile directory, previously known as the labscript suite install directory, will no longer be in sys.path, since modules will not be imported from there anymore. Userlib will still be in the path however, and it is a subdirectory of the profile directory. So the profile directory is now found by looking through sys.path for a directory \\(userlib\\) whose parent directory contains a file called `.labscript_suite_profile`\\` \\(or `.is_labscript_suite_install_dir`\\` for backwards compat\\).\n\nThe creation of a profile will create the .pth file that puts userlib in the path. We could have the creation of a profile store another file somewhere that says where the labscript suite profile is, but this seems least messy to me since the .pth file is specific to the Python installation.", "markup": "markdown", "html": "<p>the labscript suite profile directory, previously known as the labscript suite install directory, will no longer be in sys.path, since modules will not be imported from there anymore. Userlib will still be in the path however, and it is a subdirectory of the profile directory. So the profile directory is now found by looking through sys.path for a directory (userlib) whose parent directory contains a file called <code>.labscript_suite_profile</code>` (or <code>.is_labscript_suite_install_dir</code>` for backwards compat).</p>\n<p>The creation of a profile will create the .pth file that puts userlib in the path. We could have the creation of a profile store another file somewhere that says where the labscript suite profile is, but this seems least messy to me since the .pth file is specific to the Python installation.</p>", "type": "rendered"}, "created_on": "2020-01-01T06:16:59.618304+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2020-01-01T06:19:38.228788+00:00", "type": "pullrequest_comment", "id": 130224924}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225103.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225103"}}, "parent": {"id": 130224924, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130224924.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130224924"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "Why retain userlib at all, though?", "markup": "markdown", "html": "<p>Why retain userlib at all, though?</p>", "type": "rendered"}, "created_on": "2020-01-01T06:40:55.338013+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2020-01-01T06:40:55.349903+00:00", "type": "pullrequest_comment", "id": 130225103}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225169.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225169"}}, "parent": {"id": 130225103, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225103.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225103"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "As opposed to just letting the user put their code anywhere?\n\nThe profile creation tool needs to know where user code is so that it can add it to the Python import path and make it importable system-wide. So at the moment we say \u201cthere is a profile directory that the user chooses at profile creation time, and userlib is a hard-coded folder within it\u201d. We could also say \u201cat profile creation time, please tell us what locations you are going to put your code\u201d, in addition to the location where labconfig and log files will be,  but I don\u2019t think the hard-coding approach has been the cause of any heartache.", "markup": "markdown", "html": "<p>As opposed to just letting the user put their code anywhere?</p>\n<p>The profile creation tool needs to know where user code is so that it can add it to the Python import path and make it importable system-wide. So at the moment we say \u201cthere is a profile directory that the user chooses at profile creation time, and userlib is a hard-coded folder within it\u201d. We could also say \u201cat profile creation time, please tell us what locations you are going to put your code\u201d, in addition to the location where labconfig and log files will be,  but I don\u2019t think the hard-coding approach has been the cause of any heartache.</p>", "type": "rendered"}, "created_on": "2020-01-01T06:49:41.687051+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2020-01-01T06:49:41.696858+00:00", "type": "pullrequest_comment", "id": 130225169}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130226017.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130226017"}}, "parent": {"id": 130225169, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225169.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225169"}}, "depth": 4}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "> As opposed to just letting the user put their code anywhere?\n\nYep. And if we are to encourage the use of a labscriptlib and/or analysislib directory, these can simply live in `labscript_suite_profile` now that the programs themselves won\u2019t be there. The recommended structure could be something like:\n\n```\n<labscript_suite_profile>/\r\n\u251c\u2500\u2500 labconfig/\r\n\u251c\u2500\u2500 analysislib/\r\n\u251c\u2500\u2500 labscriptlib/\n```\n\nIn any case, the existence and location of userlib, analysislib, and labscriptlib are inessential conventions, and so more essential functionality \\(like locating labconfig\\) shouldn\u2019t depend on them, even if they are created at install.", "markup": "markdown", "html": "<blockquote>\n<p>As opposed to just letting the user put their code anywhere?</p>\n</blockquote>\n<p>Yep. And if we are to encourage the use of a labscriptlib and/or analysislib directory, these can simply live in <code>labscript_suite_profile</code> now that the programs themselves won\u2019t be there. The recommended structure could be something like:</p>\n<div class=\"codehilite\"><pre><span></span>&lt;labscript_suite_profile&gt;/\n\u251c\u2500\u2500 labconfig/\n\u251c\u2500\u2500 analysislib/\n\u251c\u2500\u2500 labscriptlib/\n</pre></div>\n\n\n<p>In any case, the existence and location of userlib, analysislib, and labscriptlib are inessential conventions, and so more essential functionality (like locating labconfig) shouldn\u2019t depend on them, even if they are created at install.</p>", "type": "rendered"}, "created_on": "2020-01-01T08:17:59.305928+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2020-01-01T08:17:59.313387+00:00", "type": "pullrequest_comment", "id": 130226017}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225215.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225215"}}, "parent": {"id": 130225103, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225103.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225103"}}, "depth": 3}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "I guess we could have a list of directories to add to the path be configurable from within labconfig - then we would have to store the location of the profile directory in another way - we could. e.g. create a file in site-packages with a hard-coded filename that says where the profile directory is, instead of looking through sys.path for userlib. That would be fine, but keeping everything in one directory and not customisable seems simpler.", "markup": "markdown", "html": "<p>I guess we could have a list of directories to add to the path be configurable from within labconfig - then we would have to store the location of the profile directory in another way - we could. e.g. create a file in site-packages with a hard-coded filename that says where the profile directory is, instead of looking through sys.path for userlib. That would be fine, but keeping everything in one directory and not customisable seems simpler.</p>", "type": "rendered"}, "created_on": "2020-01-01T06:55:11.317942+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2020-01-01T06:55:11.325223+00:00", "type": "pullrequest_comment", "id": 130225215}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225081.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225081"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "Oh, and I didn\u2019t answer the second question. The working directory used to be the directory of each program, i.e. the BLACS directory. Now that those are moving to site-packages, the app directory is pretty far away from anything relevant to the user, plus having it as the working directory can prevent it being deleted, e.g. when conda updates a package, even if the application is not holding any files open in the directory.\n\nIt\u2019s userlib now as an alternative, since that\u2019s where the user\u2019s stuff is. In principle this shouldn\u2019t matter since it shouldn\u2019t come up anywhere, but if we fail to set the default directory for a file-open dialog or something, it will use userlib so it\u2019s a good fallback.\n\nAnother alternative could be the user\u2019s home directory.", "markup": "markdown", "html": "<p>Oh, and I didn\u2019t answer the second question. The working directory used to be the directory of each program, i.e. the BLACS directory. Now that those are moving to site-packages, the app directory is pretty far away from anything relevant to the user, plus having it as the working directory can prevent it being deleted, e.g. when conda updates a package, even if the application is not holding any files open in the directory.</p>\n<p>It\u2019s userlib now as an alternative, since that\u2019s where the user\u2019s stuff is. In principle this shouldn\u2019t matter since it shouldn\u2019t come up anywhere, but if we fail to set the default directory for a file-open dialog or something, it will use userlib so it\u2019s a good fallback.</p>\n<p>Another alternative could be the user\u2019s home directory.</p>", "type": "rendered"}, "created_on": "2020-01-01T06:38:14.578017+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2020-01-01T06:38:14.587968+00:00", "type": "pullrequest_comment", "id": 130225081}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225461.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225461"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "\\(Man I hate Bitbucket on mobile\u2026 just deleted what I wanted to say\\)\n\nCan we not just use pathlib.Path.home\\(\\) to get the user home dir and then put a .labscriptsuite folder in that which contains userlib and labconfig? Userlib can be added the the Python path, but that doesn\u2019t preclude user code being placed in other folders that are in the Python path as well.\n\nWouldn\u2019t this match how other programs work?", "markup": "markdown", "html": "<p>(Man I hate Bitbucket on mobile\u2026 just deleted what I wanted to say)</p>\n<p>Can we not just use pathlib.Path.home() to get the user home dir and then put a .labscriptsuite folder in that which contains userlib and labconfig? Userlib can be added the the Python path, but that doesn\u2019t preclude user code being placed in other folders that are in the Python path as well.</p>\n<p>Wouldn\u2019t this match how other programs work?</p>", "type": "rendered"}, "created_on": "2020-01-01T07:21:14.649508+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}, "updated_on": "2020-01-01T07:21:14.654717+00:00", "type": "pullrequest_comment", "id": 130225461}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130226368.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130226368"}}, "parent": {"id": 130225461, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130225461.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130225461"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "Yes, the idea would be to use a more conventional location.\n\nIn his [PyCon 2019 talk](https://youtu.be/uoI57uMdDD4?t=1033) and [Episode #243](https://talkpython.fm/episodes/show/243/python-on-windows-is-ok-actually) of the `TalkPython['podcast']`, Steve Dower makes a case for using [appdirs](https://pypi.org/project/appdirs/).", "markup": "markdown", "html": "<p>Yes, the idea would be to use a more conventional location.</p>\n<p>In his <a data-is-external-link=\"true\" href=\"https://youtu.be/uoI57uMdDD4?t=1033\" rel=\"nofollow\">PyCon 2019 talk</a> and <a data-is-external-link=\"true\" href=\"https://talkpython.fm/episodes/show/243/python-on-windows-is-ok-actually\" rel=\"nofollow\">Episode #243</a> of the <code>TalkPython['podcast']</code>, Steve Dower makes a case for using <a data-is-external-link=\"true\" href=\"https://pypi.org/project/appdirs/\" rel=\"nofollow\">appdirs</a>.</p>", "type": "rendered"}, "created_on": "2020-01-01T08:53:56.794960+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2020-01-01T08:54:33.590267+00:00", "type": "pullrequest_comment", "id": 130226368}, {"links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96/comments/130226359.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96/_/diff#comment-130226359"}}, "deleted": true, "pullrequest": {"type": "pullrequest", "id": 96, "links": {"self": {"href": "data/repositories/labscript_suite/labscript_utils/pullrequests/96.json"}, "html": {"href": "#!/labscript_suite/labscript_utils/pull-requests/96"}}, "title": "Preparations for apps to be restructured as standard Python packages"}, "content": {"raw": "", "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2020-01-01T08:53:28.422747+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2020-01-01T08:54:02.780328+00:00", "type": "pullrequest_comment", "id": 130226359}], "page": 1, "size": 12}