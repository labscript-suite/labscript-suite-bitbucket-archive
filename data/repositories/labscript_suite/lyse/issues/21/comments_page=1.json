{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/37438438.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-37438438"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "My concern is that units would take up a lot of column space. Would it be sufficient for the units to be in the tooltip when you mouse-over a global? Different shots needn't have the same units for the same global, so it doesn't make sense to put them in the column header either.", "markup": "markdown", "html": "<p>My concern is that units would take up a lot of column space. Would it be sufficient for the units to be in the tooltip when you mouse-over a global? Different shots needn't have the same units for the same global, so it doesn't make sense to put them in the column header either.</p>", "type": "rendered"}, "created_on": "2017-06-07T16:42:40.971777+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 37438438}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/37439282.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-37439282"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "I guess a tooltip should do just fine since one can usually guess the unit from the global's name.\nThe main case where this would be handy is when using different orders of magnitude of the same unit for globals (e.g. s and us).\nMaybe it would be best to first convert the unit to a SI unit and then apply the scientific_notation function to it.(in addition to the tooltip)", "markup": "markdown", "html": "<p>I guess a tooltip should do just fine since one can usually guess the unit from the global's name.\nThe main case where this would be handy is when using different orders of magnitude of the same unit for globals (e.g. s and us).\nMaybe it would be best to first convert the unit to a SI unit and then apply the scientific_notation function to it.(in addition to the tooltip)</p>", "type": "rendered"}, "created_on": "2017-06-07T17:28:48.390078+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": null, "type": "issue_comment", "id": 37439282}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/37439618.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-37439618"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "The units entered in runmanager are so far used only as a comment - when you access a global you always get its value as typed in, without regard to the units, so I think it would be misleading to have the value displayed in lyse differ from the number you would get if you accessed that item from the dataframe for that shot.\n\nSo I think I'll add the tooltip, but the fact that the displayed number isn't necessarily SI I think is best addressed by making the globals themselves in SI units. Runmanager globals are evaluated in a namespace (`runmanager/functions.py`) with a few constants defined to help this:\n\n\n```\n#!python\n\nns = 1e-9\nus = 1e-6\nms = 1e-3\ns = 1\nHz = 1\nkHz = 1e3\nMHz = 1e6\nGHz = 1e9\n```\n\nSo you can write in runmanager a global with value `5 * kHz`, and write the units as Hz - the global will be stored as equal to 5000 and displayed in lyse as '5 k', and the tooltip will say 5000 (Hz) once I add the units there.", "markup": "markdown", "html": "<p>The units entered in runmanager are so far used only as a comment - when you access a global you always get its value as typed in, without regard to the units, so I think it would be misleading to have the value displayed in lyse differ from the number you would get if you accessed that item from the dataframe for that shot.</p>\n<p>So I think I'll add the tooltip, but the fact that the displayed number isn't necessarily SI I think is best addressed by making the globals themselves in SI units. Runmanager globals are evaluated in a namespace (<code>runmanager/functions.py</code>) with a few constants defined to help this:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">ns</span> <span class=\"o\">=</span> <span class=\"mf\">1e-9</span>\n<span class=\"n\">us</span> <span class=\"o\">=</span> <span class=\"mf\">1e-6</span>\n<span class=\"n\">ms</span> <span class=\"o\">=</span> <span class=\"mf\">1e-3</span>\n<span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">Hz</span> <span class=\"o\">=</span> <span class=\"mi\">1</span>\n<span class=\"n\">kHz</span> <span class=\"o\">=</span> <span class=\"mf\">1e3</span>\n<span class=\"n\">MHz</span> <span class=\"o\">=</span> <span class=\"mf\">1e6</span>\n<span class=\"n\">GHz</span> <span class=\"o\">=</span> <span class=\"mf\">1e9</span>\n</pre></div>\n\n\n<p>So you can write in runmanager a global with value <code>5 * kHz</code>, and write the units as Hz - the global will be stored as equal to 5000 and displayed in lyse as '5 k', and the tooltip will say 5000 (Hz) once I add the units there.</p>", "type": "rendered"}, "created_on": "2017-06-07T17:47:22.672966+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 37439618}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/37439816.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-37439816"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "Your solution sounds great.\nI knew that units where only comments so far(maybe this could be changed at a later time?), but I didn't think of writing variables in runmanager the way you described. Will definitely do this is the future.\nAnd in combination with a tooltip this will become even better!", "markup": "markdown", "html": "<p>Your solution sounds great.\nI knew that units where only comments so far(maybe this could be changed at a later time?), but I didn't think of writing variables in runmanager the way you described. Will definitely do this is the future.\nAnd in combination with a tooltip this will become even better!</p>", "type": "rendered"}, "created_on": "2017-06-07T18:00:53.839706+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": null, "type": "issue_comment", "id": 37439816}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/37441703.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-37441703"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "Excellent, sounds like a plan.", "markup": "markdown", "html": "<p>Excellent, sounds like a plan.</p>", "type": "rendered"}, "created_on": "2017-06-07T20:01:39.185659+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 37441703}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21/comments/38046951.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/21#comment-38046951"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/21.json"}}, "type": "issue", "id": 21, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Add units to globals"}, "content": {"raw": "issue solved", "markup": "markdown", "html": "<p>issue solved</p>", "type": "rendered"}, "created_on": "2017-07-05T19:40:32.019001+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": null, "type": "issue_comment", "id": 38046951}], "page": 1, "size": 6}