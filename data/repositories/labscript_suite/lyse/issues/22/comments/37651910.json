{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/22/comments/37651910.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/22#comment-37651910"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/22.json"}}, "type": "issue", "id": 22, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Allow Multishot Routines to add to dataframe"}, "content": {"raw": "It's quite easy making analysis routines aware of running in lyse:\n\nto __init__.py add:\n\n```\n#!python\n\n    def in_lyse():\n        return False\n```\n\nand to analysis_subprocess.py's AnalysisWorker class __init__() add \n\n```\n#!python\n\n        def in_lyse():\n            return True\n        lyse.in_lyse = in_lyse\n```\n\nThis is a bit hacky but works great.\nLeaving the problem of updating the dataframe.", "markup": "markdown", "html": "<p>It's quite easy making analysis routines aware of running in lyse:</p>\n<p>to <strong>init</strong>.py add:</p>\n<div class=\"codehilite language-python\"><pre><span></span>    <span class=\"k\">def</span> <span class=\"nf\">in_lyse</span><span class=\"p\">():</span>\n        <span class=\"k\">return</span> <span class=\"bp\">False</span>\n</pre></div>\n\n\n<p>and to analysis_subprocess.py's AnalysisWorker class <strong>init</strong>() add </p>\n<div class=\"codehilite language-python\"><pre><span></span>        <span class=\"k\">def</span> <span class=\"nf\">in_lyse</span><span class=\"p\">():</span>\n            <span class=\"k\">return</span> <span class=\"bp\">True</span>\n        <span class=\"n\">lyse</span><span class=\"o\">.</span><span class=\"n\">in_lyse</span> <span class=\"o\">=</span> <span class=\"n\">in_lyse</span>\n</pre></div>\n\n\n<p>This is a bit hacky but works great.\nLeaving the problem of updating the dataframe.</p>", "type": "rendered"}, "created_on": "2017-06-16T18:32:01.121490+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-16T18:38:34.801670+00:00", "type": "issue_comment", "id": 37651910}