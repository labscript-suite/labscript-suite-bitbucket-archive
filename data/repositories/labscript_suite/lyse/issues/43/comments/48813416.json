{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/43/comments/48813416.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/43#comment-48813416"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/43.json"}}, "type": "issue", "id": 43, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Configuration file not created if it does not exist"}, "content": {"raw": "If the file does not exist at startup lyse should not try to load it, it should just act as if it was not told to load a configuration.\n\nAnd, upon saving, the issue is that mkdir() isn't recursive. Lyse is trying to make the directory, but the parent directory doesn't exist. Lyse needs a function like mkdir_p from the install script, which does create parent directories if they do not exist.\n\nIt's not a good solution to create default configurations because the filepath to them is specific to the experiment name, which may change at any time after installation. Apps should treat the lack of existence of a config file as 'do the default thing', and then create the folder hierarchy if necessary upon saving.\n\nI'll deal with this!", "markup": "markdown", "html": "<p>If the file does not exist at startup lyse should not try to load it, it should just act as if it was not told to load a configuration.</p>\n<p>And, upon saving, the issue is that mkdir() isn't recursive. Lyse is trying to make the directory, but the parent directory doesn't exist. Lyse needs a function like mkdir_p from the install script, which does create parent directories if they do not exist.</p>\n<p>It's not a good solution to create default configurations because the filepath to them is specific to the experiment name, which may change at any time after installation. Apps should treat the lack of existence of a config file as 'do the default thing', and then create the folder hierarchy if necessary upon saving.</p>\n<p>I'll deal with this!</p>", "type": "rendered"}, "created_on": "2018-11-07T19:43:50.627350+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 48813416}