{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/lyse/issues/45/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/issues/45/watch"}, "comments": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/issues/45/vote"}}, "reporter": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "title": "Dataframe stopped updating after multishot routine error", "component": null, "votes": 0, "watches": 2, "content": {"raw": "I'm not sure how to reproduce this, however I just encountered a situation where single shot routines were saving new results to the HDF5 files, but the dataframe in lyse was not updating.\r\n\r\nAfter a multishot routine had encountered an error, the analysis queue was paused, and the remaining experiments in my sequence came through and were waiting to be analysed. When I unpaused the queue, they were analysed, however the values in the main lyse table did not update, and multishot routines could not access them.\r\n\r\nTo resolve the issue, I deleted one of the files, and re-added it to lyse (at which point it had the values displayed correctly without having to run the analysis again). After this, running the analysis routines on the remaining shots that had not updated seemed to work.", "markup": "markdown", "html": "<p>I'm not sure how to reproduce this, however I just encountered a situation where single shot routines were saving new results to the HDF5 files, but the dataframe in lyse was not updating.</p>\n<p>After a multishot routine had encountered an error, the analysis queue was paused, and the remaining experiments in my sequence came through and were waiting to be analysed. When I unpaused the queue, they were analysed, however the values in the main lyse table did not update, and multishot routines could not access them.</p>\n<p>To resolve the issue, I deleted one of the files, and re-added it to lyse (at which point it had the values displayed correctly without having to run the analysis again). After this, running the analysis routines on the remaining shots that had not updated seemed to work.</p>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-11-26T06:06:52.048645+00:00", "milestone": null, "updated_on": "2019-12-10T18:27:27.047644+00:00", "type": "issue", "id": 45}