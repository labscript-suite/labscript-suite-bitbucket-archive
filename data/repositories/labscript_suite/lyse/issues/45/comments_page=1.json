{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/49125481.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-49125481"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "Seems pretty odd. Looking at the code that communicates the updated data back to the dataframe, and the code that updates the dataframe, nothing jumps out to me that would explain the lack up updating given that surrounding code seems to be running and not crashing. I'll keep an eye out for it though, if anyone figures out how to reproduce it we can debug it properly.", "markup": "markdown", "html": "<p>Seems pretty odd. Looking at the code that communicates the updated data back to the dataframe, and the code that updates the dataframe, nothing jumps out to me that would explain the lack up updating given that surrounding code seems to be running and not crashing. I'll keep an eye out for it though, if anyone figures out how to reproduce it we can debug it properly.</p>", "type": "rendered"}, "created_on": "2018-11-26T16:02:11.824446+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 49125481}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/49131644.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-49131644"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "I don't suppose you have a log file covering the time of the error?", "markup": "markdown", "html": "<p>I don't suppose you have a log file covering the time of the error?</p>", "type": "rendered"}, "created_on": "2018-11-26T23:31:16.368860+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 49131644}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/53104461.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-53104461"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "I\u2019ve just encountered something like this again\u2026 not sure if there was any crashed routine to trigger it this time, but I just noticed that re-running single-shot scripts with changed code/fit parameters would save new results to the HDF files, but not update the lyse dataframe.\n\nAs far as I know I\u2019m running the latest version of everything, on Python 3 \\(the original issue report was on the old apparatus on 2.7\\).", "markup": "markdown", "html": "<p>I\u2019ve just encountered something like this again\u2026 not sure if there was any crashed routine to trigger it this time, but I just noticed that re-running single-shot scripts with changed code/fit parameters would save new results to the HDF files, but not update the lyse dataframe.</p>\n<p>As far as I know I\u2019m running the latest version of everything, on Python 3 (the original issue report was on the old apparatus on 2.7).</p>", "type": "rendered"}, "created_on": "2019-07-23T07:51:52.738755+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": null, "type": "issue_comment", "id": 53104461}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/53112580.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-53112580"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "I've seen this too, and have had another independent report at NIST, so it seems to be pretty common. Perhaps whatever versions of things are required to trigger it are more common now (despite the 2.7 to 3.x change). Anyhow since I'm seeing it myself occasionally I'll try to reproduce it and investigate (once back from holidays, anyway).", "markup": "markdown", "html": "<p>I've seen this too, and have had another independent report at NIST, so it seems to be pretty common. Perhaps whatever versions of things are required to trigger it are more common now (despite the 2.7 to 3.x change). Anyhow since I'm seeing it myself occasionally I'll try to reproduce it and investigate (once back from holidays, anyway).</p>", "type": "rendered"}, "created_on": "2019-07-23T16:10:53.918983+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 53112580}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/53307942.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-53307942"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "I have not been able to reproduce this, but I have noticed some issues in lyse's updating of rows in the Qt model. Firstly, the code that was supposed to be updating rows was not updating them at all, because checking if the column is in the list of things that need updating was not taking into account that the column names are tuples of arbitrary length with empty strings padded. So the following (line ~1447 in `update_row()`):\n```python\n        # Update the data in the Qt model:\n        dataframe_row = self.dataframe.iloc[row_number].to_dict()\n        for column_number, column_name in self.column_names.items():\n            if not isinstance(column_name, tuple):\n                # One of our special columns, does not correspond to a column in the dataframe:\n                continue\n            if updated_row_data is not None and column_name not in updated_row_data:\n                continue\n```\n\nwas always `continue`ing and not updating any Qt items. So it needed to be changed to:\n\n```diff\n-            if updated_row_data is not None and column_name not in updated_row_data:\n-                continue\n+            if updated_row_data is not None:\n+                if column_name[:column_name.index('')] not in updated_row_data:\n+                    continue\n```\nsince the keys of `updated_row_data` do not have padded empty strings.\n\nSo the Qt model was never being updated when we thought it was! Instead, it was being updated in a later call that was intended to only update the percentage status of the row, but actually updated every Qt model item, defeating the purpose of intentionally trying to only update the ones that changed.\n\nSo I've now split off the updating of the progress percentage to a different function (such that that call does not touch any parts of the Qt model other than the progress percentage), and fixed the check for whether a model item should be updated such that the other calls actually do update it.\n\nI still do not see what caused the original issue, so I do not have a great reason to think this will fix it. But, since the code was not doing the intended thing before (even though the result should still have worked) and it is doing the intended thing now, there is some chance maybe it will fix the issue, whatever it was.\n\nThis attempted fix is in PR #68.\n\nIf the problem occurs again, could you check whether the value in the lyse GUI agrees with the value in the dataframe? You can grab the lyse dataframe from a separate Python interpreter with `import lyse; df = lyse.data()` to inspect it without disturbing lyse.\n\nThis could help narrow it down to whether it is the GUI part that has a problem, or something before then.", "markup": "markdown", "html": "<p>I have not been able to reproduce this, but I have noticed some issues in lyse's updating of rows in the Qt model. Firstly, the code that was supposed to be updating rows was not updating them at all, because checking if the column is in the list of things that need updating was not taking into account that the column names are tuples of arbitrary length with empty strings padded. So the following (line ~1447 in <code>update_row()</code>):</p>\n<div class=\"codehilite language-python\"><pre><span></span>        <span class=\"c1\"># Update the data in the Qt model:</span>\n        <span class=\"n\">dataframe_row</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">dataframe</span><span class=\"o\">.</span><span class=\"n\">iloc</span><span class=\"p\">[</span><span class=\"n\">row_number</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">to_dict</span><span class=\"p\">()</span>\n        <span class=\"k\">for</span> <span class=\"n\">column_number</span><span class=\"p\">,</span> <span class=\"n\">column_name</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">column_names</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">column_name</span><span class=\"p\">,</span> <span class=\"nb\">tuple</span><span class=\"p\">):</span>\n                <span class=\"c1\"># One of our special columns, does not correspond to a column in the dataframe:</span>\n                <span class=\"k\">continue</span>\n            <span class=\"k\">if</span> <span class=\"n\">updated_row_data</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span> <span class=\"ow\">and</span> <span class=\"n\">column_name</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">updated_row_data</span><span class=\"p\">:</span>\n                <span class=\"k\">continue</span>\n</pre></div>\n\n\n<p>was always <code>continue</code>ing and not updating any Qt items. So it needed to be changed to:</p>\n<div class=\"codehilite language-diff\"><pre><span></span><span class=\"gd\">-            if updated_row_data is not None and column_name not in updated_row_data:</span>\n<span class=\"gd\">-                continue</span>\n<span class=\"gi\">+            if updated_row_data is not None:</span>\n<span class=\"gi\">+                if column_name[:column_name.index(&#39;&#39;)] not in updated_row_data:</span>\n<span class=\"gi\">+                    continue</span>\n</pre></div>\n\n\n<p>since the keys of <code>updated_row_data</code> do not have padded empty strings.</p>\n<p>So the Qt model was never being updated when we thought it was! Instead, it was being updated in a later call that was intended to only update the percentage status of the row, but actually updated every Qt model item, defeating the purpose of intentionally trying to only update the ones that changed.</p>\n<p>So I've now split off the updating of the progress percentage to a different function (such that that call does not touch any parts of the Qt model other than the progress percentage), and fixed the check for whether a model item should be updated such that the other calls actually do update it.</p>\n<p>I still do not see what caused the original issue, so I do not have a great reason to think this will fix it. But, since the code was not doing the intended thing before (even though the result should still have worked) and it is doing the intended thing now, there is some chance maybe it will fix the issue, whatever it was.</p>\n<p>This attempted fix is in <a href=\"#!/labscript_suite/lyse/pull-requests/68/an-attempt-to-fix-issue-45\" rel=\"nofollow\" class=\"ap-connect-link\">PR #68</a>.</p>\n<p>If the problem occurs again, could you check whether the value in the lyse GUI agrees with the value in the dataframe? You can grab the lyse dataframe from a separate Python interpreter with <code>import lyse; df = lyse.data()</code> to inspect it without disturbing lyse.</p>\n<p>This could help narrow it down to whether it is the GUI part that has a problem, or something before then.</p>", "type": "rendered"}, "created_on": "2019-08-06T20:09:38.757606+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-08-06T20:09:55.025123+00:00", "type": "issue_comment", "id": 53307942}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/55193202.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-55193202"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "An attempt to fix issue #45.\n\nAlthough I don't see why the Qt model or dataframe might sometimes not update,\nI noticed that the calls to update_row with updated_row_data provided were\n*not* actually updating the Qt model, because the check for whether a column\nwas in the updated_row_data dictionary was comparing a column tuple padded with\nempty strings to one not padded with empty strings. Further, the call to update\nthe progress percentage was updating *all* qt model items for the row.\n\nNow, the two things are fixed - the updated_row_data does actually update\nthe qt model items, and the update of the status percentage does not.\n\nThere is no reason to believe this will fix issue #45 other than it touching\ncode that could be relevant and was not working as intended. I still don't\nsee specifically what could cause issue #45.\n\nAlso, the updated data dict sent back to lyse from analysis routines should\nonly include items under the 'results/' group in the HDF5 file. So this fixes\nthat too.\n\n\u2192 <<cset 106e07ca8072>>", "markup": "markdown", "html": "<p>An attempt to fix issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a>.</p>\n<p>Although I don't see why the Qt model or dataframe might sometimes not update,\nI noticed that the calls to update_row with updated_row_data provided were\n<em>not</em> actually updating the Qt model, because the check for whether a column\nwas in the updated_row_data dictionary was comparing a column tuple padded with\nempty strings to one not padded with empty strings. Further, the call to update\nthe progress percentage was updating <em>all</em> qt model items for the row.</p>\n<p>Now, the two things are fixed - the updated_row_data does actually update\nthe qt model items, and the update of the status percentage does not.</p>\n<p>There is no reason to believe this will fix issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a> other than it touching\ncode that could be relevant and was not working as intended. I still don't\nsee specifically what could cause issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a>.</p>\n<p>Also, the updated data dict sent back to lyse from analysis routines should\nonly include items under the 'results/' group in the HDF5 file. So this fixes\nthat too.</p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/labscript_suite/lyse/commits/106e07ca8072\" rel=\"nofollow\" class=\"ap-connect-link\">106e07ca8072</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2019-12-10T18:27:26.896343+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 55193202}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/55193203.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-55193203"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "An attempt to fix issue #45.\n\nAlthough I don't see why the Qt model or dataframe might sometimes not update,\nI noticed that the calls to update_row with updated_row_data provided were\n*not* actually updating the Qt model, because the check for whether a column\nwas in the updated_row_data dictionary was comparing a column tuple padded with\nempty strings to one not padded with empty strings. Further, the call to update\nthe progress percentage was updating *all* qt model items for the row.\n\nNow, the two things are fixed - the updated_row_data does actually update\nthe qt model items, and the update of the status percentage does not.\n\nThere is no reason to believe this will fix issue #45 other than it touching\ncode that could be relevant and was not working as intended. I still don't\nsee specifically what could cause issue #45.\n\nAlso, the updated data dict sent back to lyse from analysis routines should\nonly include items under the 'results/' group in the HDF5 file. So this fixes\nthat too.\n\n\u2192 <<cset 106e07ca8072>>", "markup": "markdown", "html": "<p>An attempt to fix issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a>.</p>\n<p>Although I don't see why the Qt model or dataframe might sometimes not update,\nI noticed that the calls to update_row with updated_row_data provided were\n<em>not</em> actually updating the Qt model, because the check for whether a column\nwas in the updated_row_data dictionary was comparing a column tuple padded with\nempty strings to one not padded with empty strings. Further, the call to update\nthe progress percentage was updating <em>all</em> qt model items for the row.</p>\n<p>Now, the two things are fixed - the updated_row_data does actually update\nthe qt model items, and the update of the status percentage does not.</p>\n<p>There is no reason to believe this will fix issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a> other than it touching\ncode that could be relevant and was not working as intended. I still don't\nsee specifically what could cause issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a>.</p>\n<p>Also, the updated data dict sent back to lyse from analysis routines should\nonly include items under the 'results/' group in the HDF5 file. So this fixes\nthat too.</p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/labscript_suite/lyse/commits/106e07ca8072\" rel=\"nofollow\" class=\"ap-connect-link\">106e07ca8072</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2019-12-10T18:27:27.002929+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 55193203}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45/comments/55193204.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/45#comment-55193204"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/issues/45.json"}}, "type": "issue", "id": 45, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "title": "Dataframe stopped updating after multishot routine error"}, "content": {"raw": "Merged in attempted-bugfix (pull request #68)\n\nAn attempt to fix issue #45.\n\n\u2192 <<cset 4b07723b7656>>", "markup": "markdown", "html": "<p>Merged in attempted-bugfix (<a href=\"#!/labscript_suite/lyse/pull-requests/68/an-attempt-to-fix-issue-45\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #68</a>)</p>\n<p>An attempt to fix issue <a href=\"#!/labscript_suite/lyse/issues/45/dataframe-stopped-updating-after-multishot\" rel=\"nofollow\" title=\"Dataframe stopped updating after multishot routine error\" class=\"ap-connect-link\"><s>#45</s></a>.</p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/labscript_suite/lyse/commits/4b07723b7656\" rel=\"nofollow\" class=\"ap-connect-link\">4b07723b7656</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2019-12-10T18:27:27.039543+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 55193204}], "page": 1, "size": 8}