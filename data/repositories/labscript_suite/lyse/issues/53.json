{"priority": "trivial", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/lyse/issues/53/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/lyse/issues/53.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/issues/53/watch"}, "comments": {"href": "data/repositories/labscript_suite/lyse/issues/53/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/lyse/issues/53/runget_image-has-arguments-with-names-that"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/issues/53/vote"}}, "reporter": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "title": "Run.get_image has arguments with names that differ from labscript args", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Lyse's Run.get_image accepts 'label' and 'image' kwargs to specify the two possible levels of the hierarchy we use to store images. However, Camera.expose, IMAXdxCamera.expose etc call these 'name' and 'frametype'.\r\n\r\nThe lyse args should be changed to match the labscript ones with backward compatibility, something like:\r\n\r\n```python\r\ndef get_image(self, orientation, name=None, frametype=None, **kwargs):\r\n    name = kwargs.pop('image', name)\r\n    frametype = kwargs.pop('label', frametype)\r\n    if kwargs:\r\n        # raise an error saying remaining kwargs not allowed\r\n    if name is None or frametype is None:\r\n        # raise an error about this too, they are non-optional.\r\n        # Better yet, make 'frametype' optional with the default value\r\n        # matching that of the expose() method: frametype='frame'.\r\n        # name can't be optional though.\r\n    # rest of function here with renamed variables\r\n```", "markup": "markdown", "html": "<p>Lyse's Run.get_image accepts 'label' and 'image' kwargs to specify the two possible levels of the hierarchy we use to store images. However, Camera.expose, IMAXdxCamera.expose etc call these 'name' and 'frametype'.</p>\n<p>The lyse args should be changed to match the labscript ones with backward compatibility, something like:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">get_image</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">orientation</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"n\">frametype</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;image&#39;</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)</span>\n    <span class=\"n\">frametype</span> <span class=\"o\">=</span> <span class=\"n\">kwargs</span><span class=\"o\">.</span><span class=\"n\">pop</span><span class=\"p\">(</span><span class=\"s1\">&#39;label&#39;</span><span class=\"p\">,</span> <span class=\"n\">frametype</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">kwargs</span><span class=\"p\">:</span>\n        <span class=\"c1\"># raise an error saying remaining kwargs not allowed</span>\n    <span class=\"k\">if</span> <span class=\"n\">name</span> <span class=\"ow\">is</span> <span class=\"bp\">None</span> <span class=\"ow\">or</span> <span class=\"n\">frametype</span> <span class=\"ow\">is</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n        <span class=\"c1\"># raise an error about this too, they are non-optional.</span>\n        <span class=\"c1\"># Better yet, make &#39;frametype&#39; optional with the default value</span>\n        <span class=\"c1\"># matching that of the expose() method: frametype=&#39;frame&#39;.</span>\n        <span class=\"c1\"># name can&#39;t be optional though.</span>\n    <span class=\"c1\"># rest of function here with renamed variables</span>\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "new", "version": null, "edited_on": null, "created_on": "2019-08-17T17:27:08.307680+00:00", "milestone": null, "updated_on": "2019-08-17T17:28:07.978822+00:00", "type": "issue", "id": 53}