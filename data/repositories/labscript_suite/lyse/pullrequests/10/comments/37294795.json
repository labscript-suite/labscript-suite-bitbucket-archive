{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/10/comments/37294795.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/10/_/diff#comment-37294795"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 10, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/10.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/10"}}, "title": "Make lyse handle gracefully shot files that have been deleted off disk."}, "content": {"raw": "Couple of questions:\n\n1. is there a reason line 1259 (`np.where(self.dataframe['filepath'].values == filepath)[0][0]`) is not just `if filepath in self.dataframe['filepath'].values`? I'm reasonably certain the latter is slightly faster and is definitely clearer to read.\n2. Your screenshot only shows deletion of shots that are at the start of the dataframe. Could you confirm it works as expected when deleting shots that exist in the middle of the dataframe (and that the analysis scripts then still get the correct dataframe - aka the correct row of the dataframe was removed in this case)\n", "markup": "markdown", "html": "<p>Couple of questions:</p>\n<ol>\n<li>is there a reason line 1259 (<code>np.where(self.dataframe['filepath'].values == filepath)[0][0]</code>) is not just <code>if filepath in self.dataframe['filepath'].values</code>? I'm reasonably certain the latter is slightly faster and is definitely clearer to read.</li>\n<li>Your screenshot only shows deletion of shots that are at the start of the dataframe. Could you confirm it works as expected when deleting shots that exist in the middle of the dataframe (and that the analysis scripts then still get the correct dataframe - aka the correct row of the dataframe was removed in this case)</li>\n</ol>", "type": "rendered"}, "created_on": "2017-05-21T23:43:39.694482+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-05-21T23:43:39.697488+00:00", "type": "pullrequest_comment", "id": 37294795}