{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11/comments/37434711.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11/_/diff#comment-37434711"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 11, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11"}}, "title": "Read \"sequence_index\" attribute from shots that have it"}, "content": {"raw": "I see that adding a lot of reviewers results in a kind of bystander effect.\n\nI assume there are no objections to this, and I'll merge in a week if there are no comments.", "markup": "markdown", "html": "<p>I see that adding a lot of reviewers results in a kind of bystander effect.</p>\n<p>I assume there are no objections to this, and I'll merge in a week if there are no comments.</p>", "type": "rendered"}, "created_on": "2017-05-23T14:57:53.094814+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-05-23T14:57:53.097954+00:00", "type": "pullrequest_comment", "id": 37434711}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11/comments/37718990.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11/_/diff#comment-37718990"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 11, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11"}}, "title": "Read \"sequence_index\" attribute from shots that have it"}, "content": {"raw": "I don't particularly have a problem with the change proposed (it's a minor change that isn't going to break anything), but it seems like a bit of a special case addition that's only useful for some people. If we go down that route, I feel we're going to have many of these try-except blocks in the future.\n\nWhat if instead, we just iterated over everything in `h5_file.attrs` and added it to the DataFrame?\n\nThat might bring an increased risk of conflict between globals names and something in that list of attributes, but that conflict already potentially exists if we called a global 'sequence' I assume?", "markup": "markdown", "html": "<p>I don't particularly have a problem with the change proposed (it's a minor change that isn't going to break anything), but it seems like a bit of a special case addition that's only useful for some people. If we go down that route, I feel we're going to have many of these try-except blocks in the future.</p>\n<p>What if instead, we just iterated over everything in <code>h5_file.attrs</code> and added it to the DataFrame?</p>\n<p>That might bring an increased risk of conflict between globals names and something in that list of attributes, but that conflict already potentially exists if we called a global 'sequence' I assume?</p>", "type": "rendered"}, "created_on": "2017-05-28T23:44:03.748866+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-05-28T23:44:03.751679+00:00", "type": "pullrequest_comment", "id": 37718990}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11/comments/38302146.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11/_/diff#comment-38302146"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 11, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11"}}, "title": "Read \"sequence_index\" attribute from shots that have it"}, "content": {"raw": "Probably if we didn't mind making a breaking change, we would iterate over all the attributes and add them with multilevel column names ('shot_attrs', 'sequence_id') etc, rather than just 'sequence_id' at the top level. That way 'shot_attrs' would be the only potential name conflict. We could also make all globals have multilevel column names: ('globals', 'MOT_current') etc. \n\nThen again, these pandas dataframes are supposed to be all about convenience, not typing out loads of multilevel column names. So there's a tradeoff there.\n\nI think for now we should probably just kick the can down the road a bit further with an extra name and an extra try/except, but I'm sympathetic to the current situation not being ideal. At the moment a name conflict would probably just crash lyse. But that is a different bug report/pull request.", "markup": "markdown", "html": "<p>Probably if we didn't mind making a breaking change, we would iterate over all the attributes and add them with multilevel column names ('shot_attrs', 'sequence_id') etc, rather than just 'sequence_id' at the top level. That way 'shot_attrs' would be the only potential name conflict. We could also make all globals have multilevel column names: ('globals', 'MOT_current') etc. </p>\n<p>Then again, these pandas dataframes are supposed to be all about convenience, not typing out loads of multilevel column names. So there's a tradeoff there.</p>\n<p>I think for now we should probably just kick the can down the road a bit further with an extra name and an extra try/except, but I'm sympathetic to the current situation not being ideal. At the moment a name conflict would probably just crash lyse. But that is a different bug report/pull request.</p>", "type": "rendered"}, "created_on": "2017-06-06T18:27:18.952436+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-06T18:27:18.954573+00:00", "type": "pullrequest_comment", "id": 38302146}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11/comments/39039789.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11/_/diff#comment-39039789"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 11, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/11.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/11"}}, "title": "Read \"sequence_index\" attribute from shots that have it"}, "content": {"raw": "Ok, I've created issue #23 regarding future improvements. I'm happy to approve and merge this for now under the proviso that it will be improved later.", "markup": "markdown", "html": "<p>Ok, I've created issue <a href=\"#!/labscript_suite/lyse/issues/23/better-loading-of-root-attributes-of-the\" rel=\"nofollow\" title=\"Better loading of root attributes of the HDF5 file into lyse\" class=\"ap-connect-link\">#23</a> regarding future improvements. I'm happy to approve and merge this for now under the proviso that it will be improved later.</p>", "type": "rendered"}, "created_on": "2017-06-19T00:44:07.154379+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-06-19T00:44:07.156589+00:00", "type": "pullrequest_comment", "id": 39039789}], "page": 1, "size": 4}