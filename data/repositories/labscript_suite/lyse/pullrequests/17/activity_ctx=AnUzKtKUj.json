{"pagelen": 50, "values": [{"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "743c9a8ac2a0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/743c9a8ac2a0"}, "html": {"href": "#!/PhyNerd/lyse/commits/743c9a8ac2a0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T17:10:18.193727+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d8b98efec610", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/d8b98efec610"}, "html": {"href": "#!/PhyNerd/lyse/commits/d8b98efec610"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T17:09:16.753534+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d8b98efec610", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/d8b98efec610"}, "html": {"href": "#!/PhyNerd/lyse/commits/d8b98efec610"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T17:09:16.704160+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39294389.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39294389"}}, "parent": {"id": 39222130, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39222130.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39222130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "I will be moving the updating to updated_row_data but just wanted to clarify I never touched the dataframe before the function updated_row_data I just copy a single row and modify that.", "markup": "markdown", "html": "<p>I will be moving the updating to updated_row_data but just wanted to clarify I never touched the dataframe before the function updated_row_data I just copy a single row and modify that.</p>", "type": "rendered"}, "created_on": "2017-06-21T15:42:33.497092+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-21T15:42:33.540456+00:00", "type": "pullrequest_comment", "id": 39294389}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39294164.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39294164"}}, "parent": {"id": 39227848, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39227848.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39227848"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "I thought so too but I wanted to keep the code as slim and easy as possible. It should still be faster than reading a file and creating a row from scratch. If someone wants to make it even faster in post that is still possible.", "markup": "markdown", "html": "<p>I thought so too but I wanted to keep the code as slim and easy as possible. It should still be faster than reading a file and creating a row from scratch. If someone wants to make it even faster in post that is still possible.</p>", "type": "rendered"}, "created_on": "2017-06-21T15:40:14.870012+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-21T15:40:14.932175+00:00", "type": "pullrequest_comment", "id": 39294164}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8fa31aa9cd70", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/8fa31aa9cd70"}, "html": {"href": "#!/PhyNerd/lyse/commits/8fa31aa9cd70"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T15:38:05.301082+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "8fa31aa9cd70", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/8fa31aa9cd70"}, "html": {"href": "#!/PhyNerd/lyse/commits/8fa31aa9cd70"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T15:38:05.193304+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b1e7527442ba", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/b1e7527442ba"}, "html": {"href": "#!/PhyNerd/lyse/commits/b1e7527442ba"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T15:36:41.421520+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "b1e7527442ba", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/b1e7527442ba"}, "html": {"href": "#!/PhyNerd/lyse/commits/b1e7527442ba"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-21T15:36:40.998054+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39227848.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39227848"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "It might turn out to be slow to be updating whole rows instead of single elements of the dataframe, but it is easier to write the code this way, so we should not worry about the possible slowness unless we observe it in practice. ", "markup": "markdown", "html": "<p>It might turn out to be slow to be updating whole rows instead of single elements of the dataframe, but it is easier to write the code this way, so we should not worry about the possible slowness unless we observe it in practice. </p>", "type": "rendered"}, "created_on": "2017-06-20T23:33:44.244612+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T23:33:44.246697+00:00", "type": "pullrequest_comment", "id": 39227848}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39222130.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39222130"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Ok, quibbles:\n\n- It would be good to prefix `updated_data` with an underscore to ensure that \"from lyse import *\" doesn't import it, and to indicate to users that it's an internal detail they shouldn't be directly using. You should also prefix its definition with a comment along the lines of ` # data to be sent back to the lyse GUI if running within lyse`\n\n- The code:\n\n\n```\n#!python\n\n        if spinning_top:\n            if self.h5_path not in updated_data:\n                updated_data[self.h5_path] = []\n            updated_data[self.h5_path].append((self.group, name, value))\n```\nShould change to:\n\n\n```\n#!python\n\n        if spinning_top:\n            if self.h5_path not in updated_data:\n                updated_data[self.h5_path] = {}\n            updated_data[self.h5_path][self.group, name] = value\n```\nsince it is legal to overwrite a previous `save_result()` with another within the same script - the new value overwrites the old in the hdf5 file, and so it should overwrite it in the `updated_data` dictionary as well (obviously your logic downstream will need to change to reflect that it's dealing with a dictionary rather than a list).\n\n- Rather than doing the dataframe logic in `do_singleshot_analysis()`, you should do something like this (the if statement just checking if `updated_data` is an empty dictionary):\n\n```\n#!python\n\n            if signal in ['error', 'progress']:\n                if updated_data:\n                    self.shots_model.update_row(filepath, status_percent=status_percent, updated_row_data=updated_data)\n                else:\n                    self.shots_model.update_row(filepath, status_percent=status_percent)\n```\n\nAnd then put the logic for turning the `updated_data` dict into `new_row_data` into `DataFrameModel.update_row()`, adding a new keyword argument `updated_row_data`. This way `FileBox` doesn't read the dataframe columns - as a general principle it shouldn't be directly dealing with the dataframe. The multishot updating should be changed in the same way. Another important reason for the `do_singleshot_analysis()` and  `do_multishot_analysis()` functions to not touch the dataframe directly, even to only read its columns, is that since they are not running in the GUI thread, which all modifications to the dataframe occur in, the dataframe columns might change at any time (say if files are arriving from BLACS that have newly defined runmanager globals), and this will change the dataframe columns potentially making the `new_row_data` incorrect. `DataFrameModel.update_row()` on the other hand runs in the GUI thread, so that's where that logic shoudl be done. The comment about saving time by being outseide the GUI thread applies to reading the shot files, which is indeed slow (but even then the comment is a bit wrong because h5py holds the GIL, which does block the GUI regardless of what thread you're in). But converting a dictionary to a dataframe is such a lightweight thing that there's no benefit to avoiding doing that in the GUI thread.\n\nSo putting that logic at the top of `DataFrameModel.update_row()`, something like:\n\n```\n#!python\n\nif (new_row_data is None) == (updated_row_data is None):\n    raise ValueError('Exactly one of new_row_data or updated_row_data must be provided')\n\nif updated_row_data is not None:\n    new_row_data = # do the logic here\n\n```\n\nWhen converting dictionaries into dataframes, you should see whether any of the functions in `lyse.dataframe_utilities` do what you want. `flat_dict_to_hierarchical_dataframe()` and `concat_with_padding()` look like they might be useful. They are what we use to make the dataframes out of dictionaries in the first place, so re-using them if they apply would be good.", "markup": "markdown", "html": "<p>Ok, quibbles:</p>\n<ul>\n<li>\n<p>It would be good to prefix <code>updated_data</code> with an underscore to ensure that \"from lyse import *\" doesn't import it, and to indicate to users that it's an internal detail they shouldn't be directly using. You should also prefix its definition with a comment along the lines of <code># data to be sent back to the lyse GUI if running within lyse</code></p>\n</li>\n<li>\n<p>The code:</p>\n</li>\n</ul>\n<div class=\"codehilite language-python\"><pre><span></span>        <span class=\"k\">if</span> <span class=\"n\">spinning_top</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">updated_data</span><span class=\"p\">:</span>\n                <span class=\"n\">updated_data</span><span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n            <span class=\"n\">updated_data</span><span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">((</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p>Should change to:</p>\n<div class=\"codehilite language-python\"><pre><span></span>        <span class=\"k\">if</span> <span class=\"n\">spinning_top</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span> <span class=\"ow\">not</span> <span class=\"ow\">in</span> <span class=\"n\">updated_data</span><span class=\"p\">:</span>\n                <span class=\"n\">updated_data</span><span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n            <span class=\"n\">updated_data</span><span class=\"p\">[</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">h5_path</span><span class=\"p\">][</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n</pre></div>\n\n\n<p>since it is legal to overwrite a previous <code>save_result()</code> with another within the same script - the new value overwrites the old in the hdf5 file, and so it should overwrite it in the <code>updated_data</code> dictionary as well (obviously your logic downstream will need to change to reflect that it's dealing with a dictionary rather than a list).</p>\n<ul>\n<li>Rather than doing the dataframe logic in <code>do_singleshot_analysis()</code>, you should do something like this (the if statement just checking if <code>updated_data</code> is an empty dictionary):</li>\n</ul>\n<div class=\"codehilite language-python\"><pre><span></span>            <span class=\"k\">if</span> <span class=\"n\">signal</span> <span class=\"ow\">in</span> <span class=\"p\">[</span><span class=\"s1\">&#39;error&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;progress&#39;</span><span class=\"p\">]:</span>\n                <span class=\"k\">if</span> <span class=\"n\">updated_data</span><span class=\"p\">:</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">shots_model</span><span class=\"o\">.</span><span class=\"n\">update_row</span><span class=\"p\">(</span><span class=\"n\">filepath</span><span class=\"p\">,</span> <span class=\"n\">status_percent</span><span class=\"o\">=</span><span class=\"n\">status_percent</span><span class=\"p\">,</span> <span class=\"n\">updated_row_data</span><span class=\"o\">=</span><span class=\"n\">updated_data</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">shots_model</span><span class=\"o\">.</span><span class=\"n\">update_row</span><span class=\"p\">(</span><span class=\"n\">filepath</span><span class=\"p\">,</span> <span class=\"n\">status_percent</span><span class=\"o\">=</span><span class=\"n\">status_percent</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>And then put the logic for turning the <code>updated_data</code> dict into <code>new_row_data</code> into <code>DataFrameModel.update_row()</code>, adding a new keyword argument <code>updated_row_data</code>. This way <code>FileBox</code> doesn't read the dataframe columns - as a general principle it shouldn't be directly dealing with the dataframe. The multishot updating should be changed in the same way. Another important reason for the <code>do_singleshot_analysis()</code> and  <code>do_multishot_analysis()</code> functions to not touch the dataframe directly, even to only read its columns, is that since they are not running in the GUI thread, which all modifications to the dataframe occur in, the dataframe columns might change at any time (say if files are arriving from BLACS that have newly defined runmanager globals), and this will change the dataframe columns potentially making the <code>new_row_data</code> incorrect. <code>DataFrameModel.update_row()</code> on the other hand runs in the GUI thread, so that's where that logic shoudl be done. The comment about saving time by being outseide the GUI thread applies to reading the shot files, which is indeed slow (but even then the comment is a bit wrong because h5py holds the GIL, which does block the GUI regardless of what thread you're in). But converting a dictionary to a dataframe is such a lightweight thing that there's no benefit to avoiding doing that in the GUI thread.</p>\n<p>So putting that logic at the top of <code>DataFrameModel.update_row()</code>, something like:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">new_row_data</span> <span class=\"ow\">is</span> <span class=\"bp\">None</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"p\">(</span><span class=\"n\">updated_row_data</span> <span class=\"ow\">is</span> <span class=\"bp\">None</span><span class=\"p\">):</span>\n    <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s1\">&#39;Exactly one of new_row_data or updated_row_data must be provided&#39;</span><span class=\"p\">)</span>\n\n<span class=\"k\">if</span> <span class=\"n\">updated_row_data</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"bp\">None</span><span class=\"p\">:</span>\n    <span class=\"n\">new_row_data</span> <span class=\"o\">=</span> <span class=\"c1\"># do the logic here</span>\n</pre></div>\n\n\n<p>When converting dictionaries into dataframes, you should see whether any of the functions in <code>lyse.dataframe_utilities</code> do what you want. <code>flat_dict_to_hierarchical_dataframe()</code> and <code>concat_with_padding()</code> look like they might be useful. They are what we use to make the dataframes out of dictionaries in the first place, so re-using them if they apply would be good.</p>", "type": "rendered"}, "created_on": "2017-06-20T21:21:54.697052+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T23:28:17.527255+00:00", "type": "pullrequest_comment", "id": 39222130}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223762.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223762"}}, "parent": {"id": 39223706, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223706.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223706"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Oh, it looks like it does, my mistake!", "markup": "markdown", "html": "<p>Oh, it looks like it does, my mistake!</p>", "type": "rendered"}, "created_on": "2017-06-20T21:45:11.924304+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T21:45:11.926595+00:00", "type": "pullrequest_comment", "id": 39223762}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223736.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223736"}}, "parent": {"id": 39222130, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39222130.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39222130"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Ah, `concat_with_padding()` is probably not useful, since `DataFrameModel.update_row()` acts on one row at a time - you probably do not need to concatenate anything and will be dealing with single rows only.", "markup": "markdown", "html": "<p>Ah, <code>concat_with_padding()</code> is probably not useful, since <code>DataFrameModel.update_row()</code> acts on one row at a time - you probably do not need to concatenate anything and will be dealing with single rows only.</p>", "type": "rendered"}, "created_on": "2017-06-20T21:44:37.982293+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T21:44:37.984432+00:00", "type": "pullrequest_comment", "id": 39223736}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223706.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223706"}}, "parent": {"id": 39223128, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223128.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223128"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Why should it be empty? \nDoesn't the line\n\n```\n#!python\n                    new_row_data = pandas.DataFrame(df.ix[df_row_index], columns=df.columns)\n```\n\ncopy the whole row from the current dataframe before editing it?\nI'm not that great with DataFrames so I might as well be wrong.", "markup": "markdown", "html": "<p>Why should it be empty? \nDoesn't the line</p>\n<div class=\"codehilite language-python\"><pre><span></span>                    <span class=\"n\">new_row_data</span> <span class=\"o\">=</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">df_row_index</span><span class=\"p\">],</span> <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">columns</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>copy the whole row from the current dataframe before editing it?\nI'm not that great with DataFrames so I might as well be wrong.</p>", "type": "rendered"}, "created_on": "2017-06-20T21:43:55.909602+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-20T21:43:55.967718+00:00", "type": "pullrequest_comment", "id": 39223706}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223579.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223579"}}, "parent": {"id": 39223225, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223225.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223225"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "No problem at all. As I said elsewhere I might not get time to review changes, and will get back to this in about 4 weeks at the earliest. But it's looking good!", "markup": "markdown", "html": "<p>No problem at all. As I said elsewhere I might not get time to review changes, and will get back to this in about 4 weeks at the earliest. But it's looking good!</p>", "type": "rendered"}, "created_on": "2017-06-20T21:41:29.037122+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T21:41:43.107112+00:00", "type": "pullrequest_comment", "id": 39223579}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223225.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223225"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Thanks for the feedback.\nAll the proposed changes seem reasonable and I will implement them.\nBut as it is getting late here this will happen tomorrow. ", "markup": "markdown", "html": "<p>Thanks for the feedback.\nAll the proposed changes seem reasonable and I will implement them.\nBut as it is getting late here this will happen tomorrow. </p>", "type": "rendered"}, "created_on": "2017-06-20T21:39:57.262861+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-20T21:39:57.311626+00:00", "type": "pullrequest_comment", "id": 39223225}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39223128.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39223128"}}, "parent": {"id": 39221337, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39221337.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39221337"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Yes, so whilst below I say that you should move this into `DataFrameModel.update_row()`, in fact what you might want to do is move it into `lyse.dataframe_utilities` and *call* it from `DataFrameModel.update_row()`.\n\nIt looks like there is a bug though: `new_row_data` is expected to be a full row, whereas your code looks like it will have empty values when `updated_data` does not contain as many columns as are in the dataframe already. This I think will replace the dataframe contents with NaNs on the unchanged data, rather than leaving the existing data there. So you should copy the rest of the existing row of the dataframe into `new_row_data` to make a full row with no empty values, if you want to use the existing functions in this way. That might seem inefficient but I think it should not b a concern.", "markup": "markdown", "html": "<p>Yes, so whilst below I say that you should move this into <code>DataFrameModel.update_row()</code>, in fact what you might want to do is move it into <code>lyse.dataframe_utilities</code> and <em>call</em> it from <code>DataFrameModel.update_row()</code>.</p>\n<p>It looks like there is a bug though: <code>new_row_data</code> is expected to be a full row, whereas your code looks like it will have empty values when <code>updated_data</code> does not contain as many columns as are in the dataframe already. This I think will replace the dataframe contents with NaNs on the unchanged data, rather than leaving the existing data there. So you should copy the rest of the existing row of the dataframe into <code>new_row_data</code> to make a full row with no empty values, if you want to use the existing functions in this way. That might seem inefficient but I think it should not b a concern.</p>", "type": "rendered"}, "created_on": "2017-06-20T21:38:10.778128+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-06-20T21:39:18.002986+00:00", "type": "pullrequest_comment", "id": 39223128}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39221337.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39221337"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "Just realized might it be a good idea to move the update code into a function, since it is used in two places identically?\nI'm talking about:\n\n```\n#!python\n\n                for file, values in updated_data.iteritems():\n                    df_row_index = np.where(df['filepath'].values == file)\n                    new_row_data = pandas.DataFrame(df.ix[df_row_index], columns=df.columns)\n                    for group, name, value in values:\n                        new_row_data[(group, name)] = value\n                    new_row_data = new_row_data.reset_index()\n                    self.shots_model.update_row(file, new_row_data=new_row_data)\n```", "markup": "markdown", "html": "<p>Just realized might it be a good idea to move the update code into a function, since it is used in two places identically?\nI'm talking about:</p>\n<div class=\"codehilite language-python\"><pre><span></span>                <span class=\"k\">for</span> <span class=\"nb\">file</span><span class=\"p\">,</span> <span class=\"n\">values</span> <span class=\"ow\">in</span> <span class=\"n\">updated_data</span><span class=\"o\">.</span><span class=\"n\">iteritems</span><span class=\"p\">():</span>\n                    <span class=\"n\">df_row_index</span> <span class=\"o\">=</span> <span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">[</span><span class=\"s1\">&#39;filepath&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">values</span> <span class=\"o\">==</span> <span class=\"nb\">file</span><span class=\"p\">)</span>\n                    <span class=\"n\">new_row_data</span> <span class=\"o\">=</span> <span class=\"n\">pandas</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">ix</span><span class=\"p\">[</span><span class=\"n\">df_row_index</span><span class=\"p\">],</span> <span class=\"n\">columns</span><span class=\"o\">=</span><span class=\"n\">df</span><span class=\"o\">.</span><span class=\"n\">columns</span><span class=\"p\">)</span>\n                    <span class=\"k\">for</span> <span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"ow\">in</span> <span class=\"n\">values</span><span class=\"p\">:</span>\n                        <span class=\"n\">new_row_data</span><span class=\"p\">[(</span><span class=\"n\">group</span><span class=\"p\">,</span> <span class=\"n\">name</span><span class=\"p\">)]</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n                    <span class=\"n\">new_row_data</span> <span class=\"o\">=</span> <span class=\"n\">new_row_data</span><span class=\"o\">.</span><span class=\"n\">reset_index</span><span class=\"p\">()</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">shots_model</span><span class=\"o\">.</span><span class=\"n\">update_row</span><span class=\"p\">(</span><span class=\"nb\">file</span><span class=\"p\">,</span> <span class=\"n\">new_row_data</span><span class=\"o\">=</span><span class=\"n\">new_row_data</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-06-20T21:08:45.691756+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-06-20T21:08:45.755198+00:00", "type": "pullrequest_comment", "id": 39221337}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f8c67ebd20d1", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/f8c67ebd20d1"}, "html": {"href": "#!/PhyNerd/lyse/commits/f8c67ebd20d1"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-20T21:05:12.593171+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "f8c67ebd20d1", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/f8c67ebd20d1"}, "html": {"href": "#!/PhyNerd/lyse/commits/f8c67ebd20d1"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-20T21:05:12.397504+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.\r\n\r\nThis was also discussed in Issue #22", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4213f9aff876", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/4213f9aff876"}, "html": {"href": "#!/PhyNerd/lyse/commits/4213f9aff876"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-20T20:58:55.652791+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4213f9aff876", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/4213f9aff876"}, "html": {"href": "#!/PhyNerd/lyse/commits/4213f9aff876"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-20T20:43:22.702275+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}, {"update": {"description": "This change should speedup singleshot scripts by eliminating read operations at the end of analysis(haven't checkt if this is the case). It also adds updating the dataframe after multishot analysis. This can be useful at a later time if we decide to add functionality for sequences to save to the individual runs.", "title": "Update Dataframe without Readoperations", "destination": {"commit": {"hash": "4f78edf03091", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/4f78edf03091.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/4f78edf03091"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "4213f9aff876", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/4213f9aff876"}, "html": {"href": "#!/PhyNerd/lyse/commits/4213f9aff876"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "UpdateDataframeNoRead"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-06-20T20:43:22.651074+00:00"}, "pull_request": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}}]}