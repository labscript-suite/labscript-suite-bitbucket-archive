{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39786713.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39786713"}}, "parent": {"id": 39783792, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17/comments/39783792.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17/_/diff#comment-39783792"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 17, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/17.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/17"}}, "title": "Update Dataframe without Readoperations"}, "content": {"raw": "I looked into it a bit more, and came up with the following minimal working example. If you use the following:\n\n```\n#!python\n\nfrom lyse import *\n\nrun = Run(path)\nrun.save_result(\"key\",\"value\")\n```\nit will crash, but if instead I use:\n\n```\n#!python\n\nimport lyse\n\nrun = lyse.Run(lyse.path)\nrun.save_result(\"key\",\"value\")\n```\n\nit will work. Note that once you have run the second version, you need to restart lyse for the import * version to crash, as the dataframe now has the appropriate structure.", "markup": "markdown", "html": "<p>I looked into it a bit more, and came up with the following minimal working example. If you use the following:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">lyse</span> <span class=\"kn\">import</span> <span class=\"o\">*</span>\n\n<span class=\"n\">run</span> <span class=\"o\">=</span> <span class=\"n\">Run</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"n\">run</span><span class=\"o\">.</span><span class=\"n\">save_result</span><span class=\"p\">(</span><span class=\"s2\">&quot;key&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>it will crash, but if instead I use:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">lyse</span>\n\n<span class=\"n\">run</span> <span class=\"o\">=</span> <span class=\"n\">lyse</span><span class=\"o\">.</span><span class=\"n\">Run</span><span class=\"p\">(</span><span class=\"n\">lyse</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"p\">)</span>\n<span class=\"n\">run</span><span class=\"o\">.</span><span class=\"n\">save_result</span><span class=\"p\">(</span><span class=\"s2\">&quot;key&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;value&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>it will work. Note that once you have run the second version, you need to restart lyse for the import * version to crash, as the dataframe now has the appropriate structure.</p>", "type": "rendered"}, "created_on": "2017-06-29T07:12:39.589902+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": "2017-06-29T07:12:39.593222+00:00", "type": "pullrequest_comment", "id": 39786713}