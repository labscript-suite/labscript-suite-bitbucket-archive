{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/22/comments/41483776.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/22/_/diff#comment-41483776"}}, "parent": {"id": 41483579, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/22/comments/41483579.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/22/_/diff#comment-41483579"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 22, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/22.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/22"}}, "title": "Unicode strings and other Python 3 forward-compatible changes."}, "content": {"raw": "well that give me a new traceback so I guess it worked...\n\n```\n#!python\n\nTraceback (most recent call last):\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/threading.py\", line 754, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"analysis_subprocess.py\", line 260, in mainloop\n    success = self.do_analysis(path)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py\", line 120, in f\n    return inmain(fn, *args, **kwargs)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py\", line 75, in inmain\n    return get_inmain_result(in_main_later(fn, False, *args, **kwargs))\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py\", line 98, in get_inmain_result\n    exec('raise type, value, traceback')\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py\", line 53, in event\n    result = event.fn(*event.args, **event.kwargs)\n  File \"analysis_subprocess.py\", line 298, in do_analysis\n    traceback_lines = traceback.format_exception(*sys.exc_info())\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/traceback.py\", line 141, in format_exception\n    list = list + format_tb(tb, limit)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/traceback.py\", line 76, in format_tb\n    return format_list(extract_tb(tb, limit))\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/traceback.py\", line 101, in extract_tb\n    line = linecache.getline(filename, lineno, f.f_globals)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/linecache.py\", line 14, in getline\n    lines = getlines(filename, module_globals)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/linecache.py\", line 41, in getlines\n    return updatecache(filename, module_globals)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/linecache.py\", line 119, in updatecache\n    fullname = os.path.join(dirname, basename)\n  File \"/Users/janwerkmann/anaconda/lib/python2.7/posixpath.py\", line 73, in join\n    path += '/' + b\nUnicodeDecodeError: 'ascii' codec can't decode byte 0xcc in position 2: ordinal not in range(128)\n```", "markup": "markdown", "html": "<p>well that give me a new traceback so I guess it worked...</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/threading.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">754</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">run</span>\n    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__target</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">__kwargs</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;analysis_subprocess.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">260</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">mainloop</span>\n    <span class=\"n\">success</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">do_analysis</span><span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">120</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">f</span>\n    <span class=\"k\">return</span> <span class=\"n\">inmain</span><span class=\"p\">(</span><span class=\"n\">fn</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">75</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">inmain</span>\n    <span class=\"k\">return</span> <span class=\"n\">get_inmain_result</span><span class=\"p\">(</span><span class=\"n\">in_main_later</span><span class=\"p\">(</span><span class=\"n\">fn</span><span class=\"p\">,</span> <span class=\"bp\">False</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">))</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">98</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">get_inmain_result</span>\n    <span class=\"k\">exec</span><span class=\"p\">(</span><span class=\"s1\">&#39;raise type, value, traceback&#39;</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/site-packages/qtutils/invoke_in_main.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">53</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">event</span>\n    <span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">fn</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;analysis_subprocess.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">298</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">do_analysis</span>\n    <span class=\"n\">traceback_lines</span> <span class=\"o\">=</span> <span class=\"n\">traceback</span><span class=\"o\">.</span><span class=\"n\">format_exception</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">sys</span><span class=\"o\">.</span><span class=\"n\">exc_info</span><span class=\"p\">())</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/traceback.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">141</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">format_exception</span>\n    <span class=\"nb\">list</span> <span class=\"o\">=</span> <span class=\"nb\">list</span> <span class=\"o\">+</span> <span class=\"n\">format_tb</span><span class=\"p\">(</span><span class=\"n\">tb</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/traceback.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">76</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">format_tb</span>\n    <span class=\"k\">return</span> <span class=\"n\">format_list</span><span class=\"p\">(</span><span class=\"n\">extract_tb</span><span class=\"p\">(</span><span class=\"n\">tb</span><span class=\"p\">,</span> <span class=\"n\">limit</span><span class=\"p\">))</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/traceback.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">101</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">extract_tb</span>\n    <span class=\"n\">line</span> <span class=\"o\">=</span> <span class=\"n\">linecache</span><span class=\"o\">.</span><span class=\"n\">getline</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">lineno</span><span class=\"p\">,</span> <span class=\"n\">f</span><span class=\"o\">.</span><span class=\"n\">f_globals</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/linecache.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">14</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">getline</span>\n    <span class=\"n\">lines</span> <span class=\"o\">=</span> <span class=\"n\">getlines</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">module_globals</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/linecache.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">41</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">getlines</span>\n    <span class=\"k\">return</span> <span class=\"n\">updatecache</span><span class=\"p\">(</span><span class=\"n\">filename</span><span class=\"p\">,</span> <span class=\"n\">module_globals</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/linecache.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">119</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">updatecache</span>\n    <span class=\"n\">fullname</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">dirname</span><span class=\"p\">,</span> <span class=\"n\">basename</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;/Users/janwerkmann/anaconda/lib/python2.7/posixpath.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">73</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">join</span>\n    <span class=\"n\">path</span> <span class=\"o\">+=</span> <span class=\"s1\">&#39;/&#39;</span> <span class=\"o\">+</span> <span class=\"n\">b</span>\n<span class=\"ne\">UnicodeDecodeError</span><span class=\"p\">:</span> <span class=\"s1\">&#39;ascii&#39;</span> <span class=\"n\">codec</span> <span class=\"n\">can</span><span class=\"s1\">&#39;t decode byte 0xcc in position 2: ordinal not in range(128)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-07-25T21:10:30.134018+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-07-25T21:10:30.373332+00:00", "type": "pullrequest_comment", "id": 41483776}