{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/28/comments/42711815.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/diff/cbillington/lyse:83a52943ce02..ace3427c5f6a?path=__main__.py"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/28/_/diff#comment-42711815"}}, "parent": {"id": 42711781, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/28/comments/42711781.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/28/_/diff#comment-42711781"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 28, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/28.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/28"}}, "title": "Fixed issue #31: analysis status not updating if no saved results"}, "content": {"raw": "Yeah you're right didn't look at the lines above and thus didn't see the loop. Just saw two equal lines and wanted to optimize.\n\nA error would probably be a good addition.\n\nUpdate: We could do this\n\n```\n#!python\n             #  Update the status percent for the the row on which analysis is running\n             self.shots_model.update_row(filepath, status_percent=status_percent, dataframe_already_updated=True)\n             if signal == 'done':\n                 return\n```\nthen we would have the line just once", "markup": "markdown", "html": "<p>Yeah you're right didn't look at the lines above and thus didn't see the loop. Just saw two equal lines and wanted to optimize.</p>\n<p>A error would probably be a good addition.</p>\n<p>Update: We could do this</p>\n<div class=\"codehilite language-python\"><pre><span></span>             <span class=\"c1\">#  Update the status percent for the the row on which analysis is running</span>\n             <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">shots_model</span><span class=\"o\">.</span><span class=\"n\">update_row</span><span class=\"p\">(</span><span class=\"n\">filepath</span><span class=\"p\">,</span> <span class=\"n\">status_percent</span><span class=\"o\">=</span><span class=\"n\">status_percent</span><span class=\"p\">,</span> <span class=\"n\">dataframe_already_updated</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n             <span class=\"k\">if</span> <span class=\"n\">signal</span> <span class=\"o\">==</span> <span class=\"s1\">&#39;done&#39;</span><span class=\"p\">:</span>\n                 <span class=\"k\">return</span>\n</pre></div>\n\n\n<p>then we would have the line just once</p>", "type": "rendered"}, "created_on": "2017-08-13T19:10:28.331789+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "inline": {"to": null, "from": null, "outdated": true, "path": "__main__.py"}, "updated_on": "2017-08-13T19:34:14.597257+00:00", "type": "pullrequest_comment", "id": 42711815}