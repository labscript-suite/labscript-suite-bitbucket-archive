{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29/comments/42959803.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29/_/diff#comment-42959803"}}, "parent": {"id": 42959550, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29/comments/42959550.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29/_/diff#comment-42959550"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 29, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29"}}, "title": "Cross routine caching"}, "content": {"raw": "Really? Well, that is a surprise. I'll do a little more profiling of the code I'm using to test this hypothesis, as so far I haven't tested what happens when you read the file from a different process after it is saved. Perhaps I'll send you the code once it demonstrates how I think things work, and you can tell me if it has a different result on your system.\n\nReading from an operating system cache is reading directly from RAM or even CPU cache, and should be faster than any alternative if we can ensure redundant data is not copied unnecessarily.\n\nAh you're right about the total size of the files being off - whilst the OS will only cache the segments being read or written, limiting the total size of all files will limit how much it will cache by too much, you're right.", "markup": "markdown", "html": "<p>Really? Well, that is a surprise. I'll do a little more profiling of the code I'm using to test this hypothesis, as so far I haven't tested what happens when you read the file from a different process after it is saved. Perhaps I'll send you the code once it demonstrates how I think things work, and you can tell me if it has a different result on your system.</p>\n<p>Reading from an operating system cache is reading directly from RAM or even CPU cache, and should be faster than any alternative if we can ensure redundant data is not copied unnecessarily.</p>\n<p>Ah you're right about the total size of the files being off - whilst the OS will only cache the segments being read or written, limiting the total size of all files will limit how much it will cache by too much, you're right.</p>", "type": "rendered"}, "created_on": "2017-08-16T20:43:52.152351+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-08-16T20:48:07.204635+00:00", "type": "pullrequest_comment", "id": 42959803}