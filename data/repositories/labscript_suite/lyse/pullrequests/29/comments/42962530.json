{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29/comments/42962530.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29/_/diff#comment-42962530"}}, "parent": {"id": 42962396, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29/comments/42962396.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29/_/diff#comment-42962396"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 29, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/29.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/29"}}, "title": "Cross routine caching"}, "content": {"raw": "Here are my strange results:\n```\n#!python\n\n('simple copy:', 0.40894198417663574)\n('np.save:', 1.2408900260925293)\n('np.load warm:', 0.48074889183044434)\n('np.load warm multiproc:', 0.4304850101470947)\nsudo: no tty present and no askpass program specified\nsudo: no tty present and no askpass program specified\nsudo: no tty present and no askpass program specified\n('np load cold:', 0.46638989448547363)\n('h5py save:', 1.2424941062927246)\n('h5py load warm:', 0.631385087966919)\n('h5py load warm multiproc:', 0.42748594284057617)\nsudo: no tty present and no askpass program specified\nsudo: no tty present and no askpass program specified\nsudo: no tty present and no askpass program specified\n('h5py load cold:', 0.47283101081848145)\n('interproc pickled send:', 3.904258966445923)\n```\n\nUpdate: I'll re run with sudo python instead of python\nUpdate2: Here is the one with sudo active\n\n```\n#!python\n\n('simple copy:', 0.3986499309539795)\n('np.save:', 1.1926851272583008)\n('np.load warm:', 0.43192410469055176)\n('np.load warm multiproc:', 0.3931550979614258)\nsh: /proc/sys/vm/drop_caches: No such file or directory\nsh: /proc/sys/vm/drop_caches: No such file or directory\nsh: /proc/sys/vm/drop_caches: No such file or directory\n('np load cold:', 0.4230010509490967)\n('h5py save:', 1.1699440479278564)\n('h5py load warm:', 0.4495201110839844)\n('h5py load warm multiproc:', 0.402968168258667)\nsh: /proc/sys/vm/drop_caches: No such file or directory\nsh: /proc/sys/vm/drop_caches: No such file or directory\nsh: /proc/sys/vm/drop_caches: No such file or directory\n('h5py load cold:', 0.43749094009399414)\n('interproc pickled send:', 3.5145931243896484)\n```", "markup": "markdown", "html": "<p>Here are my strange results:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"p\">(</span><span class=\"s1\">&#39;simple copy:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.40894198417663574</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.save:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">1.2408900260925293</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.load warm:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.48074889183044434</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.load warm multiproc:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.4304850101470947</span><span class=\"p\">)</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np load cold:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.46638989448547363</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py save:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">1.2424941062927246</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load warm:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.631385087966919</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load warm multiproc:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.42748594284057617</span><span class=\"p\">)</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"n\">sudo</span><span class=\"p\">:</span> <span class=\"n\">no</span> <span class=\"n\">tty</span> <span class=\"n\">present</span> <span class=\"ow\">and</span> <span class=\"n\">no</span> <span class=\"n\">askpass</span> <span class=\"n\">program</span> <span class=\"n\">specified</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load cold:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.47283101081848145</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;interproc pickled send:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">3.904258966445923</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Update: I'll re run with sudo python instead of python\nUpdate2: Here is the one with sudo active</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"p\">(</span><span class=\"s1\">&#39;simple copy:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.3986499309539795</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.save:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">1.1926851272583008</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.load warm:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.43192410469055176</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np.load warm multiproc:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.3931550979614258</span><span class=\"p\">)</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;np load cold:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.4230010509490967</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py save:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">1.1699440479278564</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load warm:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.4495201110839844</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load warm multiproc:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.402968168258667</span><span class=\"p\">)</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"n\">sh</span><span class=\"p\">:</span> <span class=\"o\">/</span><span class=\"n\">proc</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">vm</span><span class=\"o\">/</span><span class=\"n\">drop_caches</span><span class=\"p\">:</span> <span class=\"n\">No</span> <span class=\"n\">such</span> <span class=\"nb\">file</span> <span class=\"ow\">or</span> <span class=\"n\">directory</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;h5py load cold:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">0.43749094009399414</span><span class=\"p\">)</span>\n<span class=\"p\">(</span><span class=\"s1\">&#39;interproc pickled send:&#39;</span><span class=\"p\">,</span> <span class=\"mf\">3.5145931243896484</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2017-08-16T21:31:37.050480+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-08-16T21:33:54.560248+00:00", "type": "pullrequest_comment", "id": 42962530}