{"pagelen": 50, "values": [{"update": {"description": "This fixes issue #33. \r\n\r\nWhen ever one selects many shots \\(about 200 is enough\\) in the lyse main window and new shots are coming in lyse currently freezes to the point of not being usable. This should fix that by blocking all signals from the model to the view during updates. After updates are done the block is removed and a signal is emitted to update the view.\r\n\r\nThis is running in our lab for a week now and we didn't notice any bad side effects.", "title": "Fix lyse hang during shot selection", "destination": {"commit": {"hash": "0178f9c0375d", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/0178f9c0375d.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/0178f9c0375d"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "403cf4318ea0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/403cf4318ea0"}, "html": {"href": "#!/PhyNerd/lyse/commits/403cf4318ea0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "Select-Fix"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-02-26T06:54:22.203770+00:00"}, "pull_request": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37/comments/46437872.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37/_/diff#comment-46437872"}}, "parent": {"id": 46406048, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37/comments/46406048.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37/_/diff#comment-46406048"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}, "content": {"raw": "I got the idea for this fix from some c\\+\\+ code on stack exchange\\(will post the link here if I can find it again\\) that had the layout\\_changed signal in it.\n\nWithout that the view won't update.\n\n\u200c\n\nUpdate: found the [link](https://stackoverflow.com/a/31551763)", "markup": "markdown", "html": "<p>I got the idea for this fix from some c++ code on stack exchange(will post the link here if I can find it again) that had the layout_changed signal in it.</p>\n<p>Without that the view won't update.</p>\n<p>\u200c</p>\n<p>Update: found the <a data-is-external-link=\"true\" href=\"https://stackoverflow.com/a/31551763\" rel=\"nofollow\">link</a></p>", "type": "rendered"}, "created_on": "2017-10-04T20:09:56.525797+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-10-04T20:13:37.609902+00:00", "type": "pullrequest_comment", "id": 46437872}, "pull_request": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37/comments/46406048.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37/_/diff#comment-46406048"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}, "content": {"raw": "Sounds fair enough. I assume it is slow because some QObject associated with the selection is connected to layoutChanged and does some processing every time an item is changed, or something like that. Could probably be considered a bug in Qt, but if this workaround resolves it then so be it. We are not ourselves connecting any signals from the model to anything, so the only side effects would be from blocking signals that are connected by Qt under the hood. It looks like layoutChanged is one of them, and so you're calling that manually. Did you discover that that needed to be called by trial-and-error, or did you determine it some other way?", "markup": "markdown", "html": "<p>Sounds fair enough. I assume it is slow because some QObject associated with the selection is connected to layoutChanged and does some processing every time an item is changed, or something like that. Could probably be considered a bug in Qt, but if this workaround resolves it then so be it. We are not ourselves connecting any signals from the model to anything, so the only side effects would be from blocking signals that are connected by Qt under the hood. It looks like layoutChanged is one of them, and so you're calling that manually. Did you discover that that needed to be called by trial-and-error, or did you determine it some other way?</p>", "type": "rendered"}, "created_on": "2017-10-04T14:04:00.818017+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2017-10-04T14:04:00.821379+00:00", "type": "pullrequest_comment", "id": 46406048}, "pull_request": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}}, {"update": {"description": "This fixes issue #33. \r\n\r\nWhen ever one selects many shots \\(about 200 is enough\\) in the lyse main window and new shots are coming in lyse currently freezes to the point of not being usable. This should fix that by blocking all signals from the model to the view during updates. After updates are done the block is removed and a signal is emitted to update the view.\r\n\r\nThis is running in our lab for a week now and we didn't notice any bad side effects.", "title": "Fix lyse hang during shot selection", "destination": {"commit": {"hash": "2fb10f54b181", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/2fb10f54b181.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/2fb10f54b181"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "403cf4318ea0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/403cf4318ea0"}, "html": {"href": "#!/PhyNerd/lyse/commits/403cf4318ea0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "Select-Fix"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-10-04T12:03:16.612680+00:00"}, "pull_request": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}}, {"update": {"description": "This fixes issue #33. \r\n\r\nWhen ever one selects many shots \\(about 200 is enough\\) in the lyse main window and new shots are coming in lyse currently freezes to the point of not being usable. This should fix that by blocking all signals from the model to the view during updates. After updates are done the block is removed and a signal is emitted to update the view.\r\n\r\nThis is running in our lab for a week now and we didn't notice any bad side effects.", "title": "Fix lyse hang during shot selection", "destination": {"commit": {"hash": "2fb10f54b181", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/2fb10f54b181.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/2fb10f54b181"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "403cf4318ea0", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse/commit/403cf4318ea0"}, "html": {"href": "#!/PhyNerd/lyse/commits/403cf4318ea0"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/PhyNerd/lyse"}, "html": {"href": "#!/PhyNerd/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "PhyNerd/lyse", "uuid": "{d53abe9e-de63-48eb-9cc5-379fd9cdfed9}"}, "branch": {"name": "Select-Fix"}}, "state": "OPEN", "author": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "date": "2017-10-04T12:03:16.541892+00:00"}, "pull_request": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/37"}}, "title": "Fix lyse hang during shot selection"}}]}