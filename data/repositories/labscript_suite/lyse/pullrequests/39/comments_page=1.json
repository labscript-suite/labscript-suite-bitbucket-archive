{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49231672.json"}, "code": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/diff/monashspinor/lyse:1d232b2178ef..608f3b68bfbc?path=dataframe_utilities.py"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49231672"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39"}}, "title": "Integer indexing of the lyse DataFrame"}, "content": {"raw": "this should be changed to `row['run number'] = float('nan')`", "markup": "markdown", "html": "<p>this should be changed to <code>row['run number'] = float('nan')</code></p>", "type": "rendered"}, "created_on": "2017-11-09T19:38:31.439869+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "inline": {"to": 62, "from": null, "path": "dataframe_utilities.py"}, "updated_on": "2017-11-09T19:38:31.470899+00:00", "type": "pullrequest_comment", "id": 49231672}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49233601.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49233601"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39"}}, "title": "Integer indexing of the lyse DataFrame"}, "content": {"raw": "I tested this and it works just fine \\(except for the one comment that I left in the code\\). \n\nI'm not sure about the naming of `run repeat`. Something along the lines of `repetition`, `repetition number`, `rep number` or `n_rep` would be a bit more descriptive in my opinion.\n\nAlso when or where is `sequence_index` being set in the h5 files? I can only find references to it in lyse.\n\n    grep -r 'sequence_index' --include '*.py' *\n    lyse/__init__.py:                df.set_index(['sequence_index', 'run number', 'run repeat'], inplace=True, drop=False)\n    lyse/dataframe_utilities.py:            row['sequence_index'] = h5_file.attrs['sequence_index']\n    lyse/dataframe_utilities.py:            row['sequence_index'] = None\n    lyse/__main__.py:                header_cols = ['sequence_index', 'run number', 'run repeat']", "markup": "markdown", "html": "<p>I tested this and it works just fine (except for the one comment that I left in the code). </p>\n<p>I'm not sure about the naming of <code>run repeat</code>. Something along the lines of <code>repetition</code>, <code>repetition number</code>, <code>rep number</code> or <code>n_rep</code> would be a bit more descriptive in my opinion.</p>\n<p>Also when or where is <code>sequence_index</code> being set in the h5 files? I can only find references to it in lyse.</p>\n<div class=\"codehilite\"><pre><span></span>grep -r &#39;sequence_index&#39; --include &#39;*.py&#39; *\nlyse/__init__.py:                df.set_index([&#39;sequence_index&#39;, &#39;run number&#39;, &#39;run repeat&#39;], inplace=True, drop=False)\nlyse/dataframe_utilities.py:            row[&#39;sequence_index&#39;] = h5_file.attrs[&#39;sequence_index&#39;]\nlyse/dataframe_utilities.py:            row[&#39;sequence_index&#39;] = None\nlyse/__main__.py:                header_cols = [&#39;sequence_index&#39;, &#39;run number&#39;, &#39;run repeat&#39;]\n</pre></div>", "type": "rendered"}, "created_on": "2017-11-09T19:57:28.666580+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-11-09T19:57:28.733352+00:00", "type": "pullrequest_comment", "id": 49233601}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49304763.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49304763"}}, "parent": {"id": 49233601, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49233601.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49233601"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39"}}, "title": "Integer indexing of the lyse DataFrame"}, "content": {"raw": "`sequence_index` exists only in [spielman/runmanager](#!/spielman/runmanager) presently, which I had not realised when issuing this pull request. See [here](#!/spielman/runmanager/src/c7d999113bf78c25c9683c3f96f06043014a8294/__main__.py?at=default&fileviewer=file-view-default), for example. This feature is thus dependent on runmanager being updated accordingly.\n\nIn the meantime, pull request #38 \\(and the associated request for blacs\\) can proceed, upon changing `run repeat` to something more appropriate.", "markup": "markdown", "html": "<p><code>sequence_index</code> exists only in <a data-is-external-link=\"true\" href=\"#!/spielman/runmanager\" rel=\"nofollow\">spielman/runmanager</a> presently, which I had not realised when issuing this pull request. See <a data-is-external-link=\"true\" href=\"#!/spielman/runmanager/src/c7d999113bf78c25c9683c3f96f06043014a8294/__main__.py?at=default&amp;fileviewer=file-view-default\" rel=\"nofollow\">here</a>, for example. This feature is thus dependent on runmanager being updated accordingly.</p>\n<p>In the meantime, <a href=\"#!/labscript_suite/lyse/pull-requests/38/extract-the-run-repeat-attribute-from-shot\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #38</a> (and the associated request for blacs) can proceed, upon changing <code>run repeat</code> to something more appropriate.</p>", "type": "rendered"}, "created_on": "2017-11-10T14:17:31.966988+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2017-11-10T14:17:31.970020+00:00", "type": "pullrequest_comment", "id": 49304763}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49351045.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49351045"}}, "parent": {"id": 49304763, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49304763.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49304763"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39"}}, "title": "Integer indexing of the lyse DataFrame"}, "content": {"raw": "This pull request should still be able to proceed\\(in my opinion\\) as the integer indexing is optional and `sequence_index` is already present in lyse code anyway.\n\nBefore changing the naming of `run repeat` I think we should wait on what others think of it.\n\nI'll approve this pull request once the `NaN` bug on line 62 of dataframe\\_utilities is fixed.", "markup": "markdown", "html": "<p>This pull request should still be able to proceed(in my opinion) as the integer indexing is optional and <code>sequence_index</code> is already present in lyse code anyway.</p>\n<p>Before changing the naming of <code>run repeat</code> I think we should wait on what others think of it.</p>\n<p>I'll approve this pull request once the <code>NaN</code> bug on line 62 of dataframe_utilities is fixed.</p>", "type": "rendered"}, "created_on": "2017-11-11T10:04:18.767211+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-11-11T10:04:48.733505+00:00", "type": "pullrequest_comment", "id": 49351045}, {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39/comments/49650334.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39/_/diff#comment-49650334"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 39, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/39.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/39"}}, "title": "Integer indexing of the lyse DataFrame"}, "content": {"raw": "The latest commit seems to have introduced some debug lines and commented unused code to dataframe\\_utilities.py \\(lines 146, 149 and 154-157\\). I think they should be removed.", "markup": "markdown", "html": "<p>The latest commit seems to have introduced some debug lines and commented unused code to dataframe_utilities.py (lines 146, 149 and 154-157). I think they should be removed.</p>", "type": "rendered"}, "created_on": "2017-11-15T14:26:22.413480+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2017-11-15T14:26:22.462512+00:00", "type": "pullrequest_comment", "id": 49650334}], "page": 1, "size": 5}