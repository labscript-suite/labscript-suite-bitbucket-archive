{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/47/comments/80377824.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/47/_/diff#comment-80377824"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 47, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/47.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/47"}}, "title": "Bugfix for plots not showing without restart"}, "content": {"raw": "So this fix doesn\u2019t play nice with pull request #45 at all. The updated method actually needs to be:\n\n        def set_first_figure_current(self):\r\n            fig = self._figure(1)\r\n            if fig not in self.figs.values():\r\n                self.figs[1] = fig\r\n            elif 1 not in self.__allocated_figures:\r\n                self.figs[1] = fig\r\n                self._remove_dead_references(1, fig)\n\nIs it ok with you if I include it as part of pull request #45 and reject this one?", "markup": "markdown", "html": "<p>So this fix doesn\u2019t play nice with <a href=\"#!/labscript_suite/lyse/pull-requests/45/added-the-ability-for-analysis-scripts-to\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #45</a> at all. The updated method actually needs to be:</p>\n<div class=\"codehilite\"><pre><span></span>    def set_first_figure_current(self):\n        fig = self._figure(1)\n        if fig not in self.figs.values():\n            self.figs[1] = fig\n        elif 1 not in self.__allocated_figures:\n            self.figs[1] = fig\n            self._remove_dead_references(1, fig)\n</pre></div>\n\n\n<p>Is it ok with you if I include it as part of <a href=\"#!/labscript_suite/lyse/pull-requests/45/added-the-ability-for-analysis-scripts-to\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #45</a> and reject this one?</p>", "type": "rendered"}, "created_on": "2018-10-25T21:50:49.703854+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-10-25T21:50:49.714608+00:00", "type": "pullrequest_comment", "id": 80377824}