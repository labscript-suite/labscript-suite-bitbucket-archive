{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/61/comments/100904961.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/61/_/diff#comment-100904961"}}, "parent": {"id": 100904811, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/61/comments/100904811.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/61/_/diff#comment-100904811"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 61, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/61.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/61"}}, "title": "Fix for #48: Make analysis_subprocess.py multiprocessing-friendly"}, "content": {"raw": "Ah, well, that will be quite tricky to do anything about in any kind of reliable way. If you don't want the subprocess to keep living, you can set `daemon=True` for the process object, or you can [use a zprocess `Process`](#!/labscript_suite/lyse/issues/48/unable-to-fork-a-process-from-a-lyse#comment-51945461) instead, which will do heartbeating. In my experience the `daemon=True` approach is not reliable enough, since it requires the parent process to exit fairly cleanly to actually work, it won't work if the parent say, segfaults. ", "markup": "markdown", "html": "<p>Ah, well, that will be quite tricky to do anything about in any kind of reliable way. If you don't want the subprocess to keep living, you can set <code>daemon=True</code> for the process object, or you can <a data-is-external-link=\"true\" href=\"#!/labscript_suite/lyse/issues/48/unable-to-fork-a-process-from-a-lyse#comment-51945461\" rel=\"nofollow\">use a zprocess <code>Process</code></a> instead, which will do heartbeating. In my experience the <code>daemon=True</code> approach is not reliable enough, since it requires the parent process to exit fairly cleanly to actually work, it won't work if the parent say, segfaults. </p>", "type": "rendered"}, "created_on": "2019-05-04T02:40:57.844025+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-05-04T02:40:57.853873+00:00", "type": "pullrequest_comment", "id": 100904961}