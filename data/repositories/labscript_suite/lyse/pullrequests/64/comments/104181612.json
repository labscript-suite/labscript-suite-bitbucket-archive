{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/64/comments/104181612.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/64/_/diff#comment-104181612"}}, "parent": {"id": 104170972, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/64/comments/104170972.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/64/_/diff#comment-104170972"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 64, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/64.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/64"}}, "title": "Increase subprocess startup timeout"}, "content": {"raw": "Thanks. Shame it is so slow, it is most likely pandas imports in the subprocesses that is taking the bulk of the time. Though honestly it seems slower for me than it used to be. Might look into it. If only Windows supported fork(), then we could fork off otherwise fresh Python processes but with all the expensive things already imported.\n\nSince the timeout is per process and lyse starts them one at a time, we should be ok with a fixed timeout - i.e. the linear scaling of total startup time doesn't imply the timeout can be exceeded just by increasing the number of processes. So we should be all good.", "markup": "markdown", "html": "<p>Thanks. Shame it is so slow, it is most likely pandas imports in the subprocesses that is taking the bulk of the time. Though honestly it seems slower for me than it used to be. Might look into it. If only Windows supported fork(), then we could fork off otherwise fresh Python processes but with all the expensive things already imported.</p>\n<p>Since the timeout is per process and lyse starts them one at a time, we should be ok with a fixed timeout - i.e. the linear scaling of total startup time doesn't imply the timeout can be exceeded just by increasing the number of processes. So we should be all good.</p>", "type": "rendered"}, "created_on": "2019-06-01T16:32:37.103721+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-06-01T16:32:37.113005+00:00", "type": "pullrequest_comment", "id": 104181612}