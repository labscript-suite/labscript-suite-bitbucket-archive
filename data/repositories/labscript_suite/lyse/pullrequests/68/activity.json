{"pagelen": 50, "values": [{"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "df2333dd1e08", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/df2333dd1e08.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/df2333dd1e08"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d89d18cf8055", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/d89d18cf8055"}, "html": {"href": "#!/cbillington/lyse/commits/d89d18cf8055"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-12-10T18:27:26.276748+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "df2333dd1e08", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/df2333dd1e08.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/df2333dd1e08"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d89d18cf8055", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/d89d18cf8055"}, "html": {"href": "#!/cbillington/lyse/commits/d89d18cf8055"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-12-10T18:27:26.189191+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/128245562.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-128245562"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}, "content": {"raw": "This doesn\u2019t seem to be causing any problems, though time will tell if it resolves the reported issue. Merging.", "markup": "markdown", "html": "<p>This doesn\u2019t seem to be causing any problems, though time will tell if it resolves the reported issue. Merging.</p>", "type": "rendered"}, "created_on": "2019-12-10T18:27:21.452980+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-12-10T18:27:21.464241+00:00", "type": "pullrequest_comment", "id": 128245562}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "df2333dd1e08", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/df2333dd1e08.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/df2333dd1e08"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "d89d18cf8055", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/d89d18cf8055"}, "html": {"href": "#!/cbillington/lyse/commits/d89d18cf8055"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-12-04T03:05:15.303683+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "df2333dd1e08", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/df2333dd1e08.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/df2333dd1e08"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "ed587139b64c", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/ed587139b64c"}, "html": {"href": "#!/cbillington/lyse/commits/ed587139b64c"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-12-04T03:00:48.515568+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112165515.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112165515"}}, "parent": {"id": 112164975, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112164975.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112164975"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}, "content": {"raw": "Should be fixed now!", "markup": "markdown", "html": "<p>Should be fixed now!</p>", "type": "rendered"}, "created_on": "2019-08-07T02:07:18.282559+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-08-07T02:07:18.291894+00:00", "type": "pullrequest_comment", "id": 112165515}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "743d4ad4fc8a", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/743d4ad4fc8a.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/743d4ad4fc8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "7763e896bab5", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/7763e896bab5"}, "html": {"href": "#!/cbillington/lyse/commits/7763e896bab5"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-08-07T02:06:57.350151+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112165059.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112165059"}}, "parent": {"id": 112164975, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112164975.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112164975"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}, "content": {"raw": "Thanks!\n\nAh, I didn't test with dataframes with few enough levels that they didn't need padding. Also assumed `column_name.index('')` would return -1 if there were no empty strings in the tuple, which would have worked.\n\nWill fix....", "markup": "markdown", "html": "<p>Thanks!</p>\n<p>Ah, I didn't test with dataframes with few enough levels that they didn't need padding. Also assumed <code>column_name.index('')</code> would return -1 if there were no empty strings in the tuple, which would have worked.</p>\n<p>Will fix....</p>", "type": "rendered"}, "created_on": "2019-08-07T01:59:05.829661+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-08-07T01:59:05.839913+00:00", "type": "pullrequest_comment", "id": 112165059}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112164975.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112164975"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}, "content": {"raw": "Just pulled this, I\u2019m getting the following error with the first single-shot routine to run. It then seems to proceed to run all of the remaining single shots, but then pause the queue.\n\n\u200c\n\n```\nTraceback (most recent call last):\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\zprocess\\utils.py\", line 112, in _reraise\r\n    raise value.with_traceback(traceback)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1825, in analysis_loop\r\n    self.do_singleshot_analysis(filepath)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1874, in do_singleshot_analysis\r\n    self.shots_model.update_row(file, updated_row_data=updated_data[file])\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 228, in f\r\n    return inmain(fn, *args, **kwargs)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 103, in inmain\r\n    return get_inmain_result(_in_main_later(fn, False, *args, **kwargs))\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 164, in get_inmain_result\r\n    _reraise(exception)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 36, in _reraise\r\n    raise value.with_traceback(traceback)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 61, in event\r\n    result = event.fn(*event.args, **event.kwargs)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1454, in update_row\r\n    if column_name[:column_name.index('')] not in updated_row_data:\r\nRuntimeError: Analysis loop encountered unexpected exception. This is a bug and should be reported. The analysis loop is continuing, but lyse may be in an inconsistent state. Restart lyse, or continue at your own risk. Original exception was:\r\n\r\nValueError: tuple.index(x): x not in tuple\r\n\r\n```", "markup": "markdown", "html": "<p>Just pulled this, I\u2019m getting the following error with the first single-shot routine to run. It then seems to proceed to run all of the remaining single shots, but then pause the queue.</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\threading.py&quot;, line 865, in run\n    self._target(*self._args, **self._kwargs)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\zprocess\\utils.py&quot;, line 112, in _reraise\n    raise value.with_traceback(traceback)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1825, in analysis_loop\n    self.do_singleshot_analysis(filepath)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1874, in do_singleshot_analysis\n    self.shots_model.update_row(file, updated_row_data=updated_data[file])\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 228, in f\n    return inmain(fn, *args, **kwargs)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 103, in inmain\n    return get_inmain_result(_in_main_later(fn, False, *args, **kwargs))\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 164, in get_inmain_result\n    _reraise(exception)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 36, in _reraise\n    raise value.with_traceback(traceback)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 61, in event\n    result = event.fn(*event.args, **event.kwargs)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1454, in update_row\n    if column_name[:column_name.index(&#39;&#39;)] not in updated_row_data:\nRuntimeError: Analysis loop encountered unexpected exception. This is a bug and should be reported. The analysis loop is continuing, but lyse may be in an inconsistent state. Restart lyse, or continue at your own risk. Original exception was:\n\nValueError: tuple.index(x): x not in tuple\n</pre></div>", "type": "rendered"}, "created_on": "2019-08-07T01:57:31.960711+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": "2019-08-07T01:57:31.969665+00:00", "type": "pullrequest_comment", "id": 112164975}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "743d4ad4fc8a", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/743d4ad4fc8a.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/743d4ad4fc8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "106e07ca8072", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/106e07ca8072"}, "html": {"href": "#!/cbillington/lyse/commits/106e07ca8072"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-08-06T20:08:08.082429+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}, {"update": {"description": "Although I don't see why the Qt model or dataframe might sometimes not update,\r\nI noticed that the calls to update_row with updated_row_data provided were\r\n*not* actually updating the Qt model, because the check for whether a column\r\nwas in the updated_row_data dictionary was comparing a column tuple padded with\r\nempty strings to one not padded with empty strings. Further, the call to update\r\nthe progress percentage was updating *all* qt model items for the row.\r\n\r\nNow, the two things are fixed - the updated_row_data does actually update\r\nthe qt model items, and the update of the status percentage does not.\r\n\r\nThere is no reason to believe this will fix issue #45 other than it touching\r\ncode that could be relevant and was not working as intended. I still don't\r\nsee specifically what could cause issue #45.\r\n\r\nAlso, the updated data dict sent back to lyse from analysis routines should\r\nonly include items under the 'results/' group in the HDF5 file. So this fixes\r\nthat too.", "title": "An attempt to fix issue #45.", "destination": {"commit": {"hash": "743d4ad4fc8a", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/743d4ad4fc8a.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/743d4ad4fc8a"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "106e07ca8072", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/106e07ca8072"}, "html": {"href": "#!/cbillington/lyse/commits/106e07ca8072"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "attempted-bugfix"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2019-08-06T20:08:08.020161+00:00"}, "pull_request": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}}]}