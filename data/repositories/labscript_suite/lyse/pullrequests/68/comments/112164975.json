{"links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68/comments/112164975.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68/_/diff#comment-112164975"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 68, "links": {"self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/68.json"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/68"}}, "title": "An attempt to fix issue #45."}, "content": {"raw": "Just pulled this, I\u2019m getting the following error with the first single-shot routine to run. It then seems to proceed to run all of the remaining single shots, but then pause the queue.\n\n\u200c\n\n```\nTraceback (most recent call last):\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\threading.py\", line 865, in run\r\n    self._target(*self._args, **self._kwargs)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\zprocess\\utils.py\", line 112, in _reraise\r\n    raise value.with_traceback(traceback)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1825, in analysis_loop\r\n    self.do_singleshot_analysis(filepath)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1874, in do_singleshot_analysis\r\n    self.shots_model.update_row(file, updated_row_data=updated_data[file])\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 228, in f\r\n    return inmain(fn, *args, **kwargs)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 103, in inmain\r\n    return get_inmain_result(_in_main_later(fn, False, *args, **kwargs))\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 164, in get_inmain_result\r\n    _reraise(exception)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 36, in _reraise\r\n    raise value.with_traceback(traceback)\r\n  File \"C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py\", line 61, in event\r\n    result = event.fn(*event.args, **event.kwargs)\r\n  File \"C:\\labscript_suite\\lyse\\__main__.py\", line 1454, in update_row\r\n    if column_name[:column_name.index('')] not in updated_row_data:\r\nRuntimeError: Analysis loop encountered unexpected exception. This is a bug and should be reported. The analysis loop is continuing, but lyse may be in an inconsistent state. Restart lyse, or continue at your own risk. Original exception was:\r\n\r\nValueError: tuple.index(x): x not in tuple\r\n\r\n```", "markup": "markdown", "html": "<p>Just pulled this, I\u2019m getting the following error with the first single-shot routine to run. It then seems to proceed to run all of the remaining single shots, but then pause the queue.</p>\n<p>\u200c</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\threading.py&quot;, line 865, in run\n    self._target(*self._args, **self._kwargs)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\zprocess\\utils.py&quot;, line 112, in _reraise\n    raise value.with_traceback(traceback)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1825, in analysis_loop\n    self.do_singleshot_analysis(filepath)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1874, in do_singleshot_analysis\n    self.shots_model.update_row(file, updated_row_data=updated_data[file])\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 228, in f\n    return inmain(fn, *args, **kwargs)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 103, in inmain\n    return get_inmain_result(_in_main_later(fn, False, *args, **kwargs))\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 164, in get_inmain_result\n    _reraise(exception)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 36, in _reraise\n    raise value.with_traceback(traceback)\n  File &quot;C:\\programdata\\anaconda2\\envs\\labscript3.7\\lib\\site-packages\\qtutils\\invoke_in_main.py&quot;, line 61, in event\n    result = event.fn(*event.args, **event.kwargs)\n  File &quot;C:\\labscript_suite\\lyse\\__main__.py&quot;, line 1454, in update_row\n    if column_name[:column_name.index(&#39;&#39;)] not in updated_row_data:\nRuntimeError: Analysis loop encountered unexpected exception. This is a bug and should be reported. The analysis loop is continuing, but lyse may be in an inconsistent state. Restart lyse, or continue at your own risk. Original exception was:\n\nValueError: tuple.index(x): x not in tuple\n</pre></div>", "type": "rendered"}, "created_on": "2019-08-07T01:57:31.960711+00:00", "user": {"display_name": "Shaun Johnstone", "uuid": "{652df738-313d-472c-b7b5-a3f8f98a3322}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D"}, "html": {"href": "https://bitbucket.org/%7B652df738-313d-472c-b7b5-a3f8f98a3322%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/38984f1761fc67ce892911496abee619d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-3.png"}}, "nickname": "shjohnst", "type": "user", "account_id": "557058:1b9a15fb-8e4f-407e-b7b9-567c5e1fa1b4"}, "updated_on": "2019-08-07T01:57:31.969665+00:00", "type": "pullrequest_comment", "id": 112164975}