{"rendered": {"description": {"raw": "In current versions of pandas and lyse, in normal use the majority of dataframe\r\ncolumns that can be are already specific datatypes and not 'object', so there is\r\nlimited performance improvement to the convert_objects call, and so not much downside\r\nto removing it without a replacement.\r\n\r\nSome colums that were temporarily a mixed datatype (due to the analysis\r\nresults being saved by single shot routines changing type) will remain dtype\r\nobject even if all the entries are later of the same type, which is not ideal.\r\n\r\nThis should be rare and so not likely to be a performance problem, which was the\r\noriginal purpose of adding convert_objects. But these columns may appear differently\r\nfrom the perspective of multishot routines, and some code may not be able to handle\r\nthem. However we will see empirically if this causes any problems, as perhaps\r\nall relevant code can in fact handle columns with dtype object fine, so we shouldn't\r\nfix what isn't broken until we know it actually is.\r\n\r\nWould be interested in testing to see that existing analysis routines don't run into trouble after this patch.", "markup": "markdown", "html": "<p>In current versions of pandas and lyse, in normal use the majority of dataframe\ncolumns that can be are already specific datatypes and not 'object', so there is\nlimited performance improvement to the convert_objects call, and so not much downside\nto removing it without a replacement.</p>\n<p>Some colums that were temporarily a mixed datatype (due to the analysis\nresults being saved by single shot routines changing type) will remain dtype\nobject even if all the entries are later of the same type, which is not ideal.</p>\n<p>This should be rare and so not likely to be a performance problem, which was the\noriginal purpose of adding convert_objects. But these columns may appear differently\nfrom the perspective of multishot routines, and some code may not be able to handle\nthem. However we will see empirically if this causes any problems, as perhaps\nall relevant code can in fact handle columns with dtype object fine, so we shouldn't\nfix what isn't broken until we know it actually is.</p>\n<p>Would be interested in testing to see that existing analysis routines don't run into trouble after this patch.</p>", "type": "rendered"}, "title": {"raw": "Fix for issue #52. Remove deprecated convert_objects() call", "markup": "markdown", "html": "<p>Fix for issue <a href=\"#!/labscript_suite/lyse/issues/52/dfconvert_objects-removed-from-pandas\" rel=\"nofollow\" title=\"df.convert_objects removed from pandas\" class=\"ap-connect-link\">#52</a>. Remove deprecated convert_objects() call</p>", "type": "rendered"}}, "type": "pullrequest", "description": "In current versions of pandas and lyse, in normal use the majority of dataframe\r\ncolumns that can be are already specific datatypes and not 'object', so there is\r\nlimited performance improvement to the convert_objects call, and so not much downside\r\nto removing it without a replacement.\r\n\r\nSome colums that were temporarily a mixed datatype (due to the analysis\r\nresults being saved by single shot routines changing type) will remain dtype\r\nobject even if all the entries are later of the same type, which is not ideal.\r\n\r\nThis should be rare and so not likely to be a performance problem, which was the\r\noriginal purpose of adding convert_objects. But these columns may appear differently\r\nfrom the perspective of multishot routines, and some code may not be able to handle\r\nthem. However we will see empirically if this causes any problems, as perhaps\r\nall relevant code can in fact handle columns with dtype object fine, so we shouldn't\r\nfix what isn't broken until we know it actually is.\r\n\r\nWould be interested in testing to see that existing analysis routines don't run into trouble after this patch.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/pullrequests/70/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/diffstat/labscript_suite/lyse:0640ec756845%0Db7e1eb8b03ef?from_pullrequest_id=70"}, "commits": {"href": "data/repositories/labscript_suite/lyse/pullrequests/70/commits.json"}, "self": {"href": "data/repositories/labscript_suite/lyse/pullrequests/70.json"}, "comments": {"href": "data/repositories/labscript_suite/lyse/pullrequests/70/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/pullrequests/70/merge"}, "html": {"href": "#!/labscript_suite/lyse/pull-requests/70"}, "activity": {"href": "data/repositories/labscript_suite/lyse/pullrequests/70/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/diff/labscript_suite/lyse:0640ec756845%0Db7e1eb8b03ef?from_pullrequest_id=70"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/lyse/pullrequests/70/approve"}, "statuses": {"href": "data/repositories/labscript_suite/lyse/pullrequests/70/statuses_page=1.json"}}, "title": "Fix for issue #52. Remove deprecated convert_objects() call", "close_source_branch": true, "reviewers": [{"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}, {"display_name": "Shaun Johnstone", "uuid": "{29b89d33-dfb4-4651-9a79-ffb35b7ca689}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D"}, "html": {"href": "https://bitbucket.org/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8105ae398115f6a5b58ce40d07fa431fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-0.png"}}, "nickname": "shaunj", "type": "user", "account_id": "557058:af791b1b-04dd-4b89-8a97-fd688cb64b82"}], "id": 70, "destination": {"commit": {"hash": "b7e1eb8b03ef", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/b7e1eb8b03ef.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/b7e1eb8b03ef"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/lyse.json"}, "html": {"href": "#!/labscript_suite/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{55eebdfe-43d1-4ae8-9049-50c55b295397}ts=249921"}}, "type": "repository", "name": "lyse", "full_name": "labscript_suite/lyse", "uuid": "{55eebdfe-43d1-4ae8-9049-50c55b295397}"}, "branch": {"name": "default"}}, "created_on": "2019-08-14T14:07:48.601132+00:00", "summary": {"raw": "In current versions of pandas and lyse, in normal use the majority of dataframe\r\ncolumns that can be are already specific datatypes and not 'object', so there is\r\nlimited performance improvement to the convert_objects call, and so not much downside\r\nto removing it without a replacement.\r\n\r\nSome colums that were temporarily a mixed datatype (due to the analysis\r\nresults being saved by single shot routines changing type) will remain dtype\r\nobject even if all the entries are later of the same type, which is not ideal.\r\n\r\nThis should be rare and so not likely to be a performance problem, which was the\r\noriginal purpose of adding convert_objects. But these columns may appear differently\r\nfrom the perspective of multishot routines, and some code may not be able to handle\r\nthem. However we will see empirically if this causes any problems, as perhaps\r\nall relevant code can in fact handle columns with dtype object fine, so we shouldn't\r\nfix what isn't broken until we know it actually is.\r\n\r\nWould be interested in testing to see that existing analysis routines don't run into trouble after this patch.", "markup": "markdown", "html": "<p>In current versions of pandas and lyse, in normal use the majority of dataframe\ncolumns that can be are already specific datatypes and not 'object', so there is\nlimited performance improvement to the convert_objects call, and so not much downside\nto removing it without a replacement.</p>\n<p>Some colums that were temporarily a mixed datatype (due to the analysis\nresults being saved by single shot routines changing type) will remain dtype\nobject even if all the entries are later of the same type, which is not ideal.</p>\n<p>This should be rare and so not likely to be a performance problem, which was the\noriginal purpose of adding convert_objects. But these columns may appear differently\nfrom the perspective of multishot routines, and some code may not be able to handle\nthem. However we will see empirically if this causes any problems, as perhaps\nall relevant code can in fact handle columns with dtype object fine, so we shouldn't\nfix what isn't broken until we know it actually is.</p>\n<p>Would be interested in testing to see that existing analysis routines don't run into trouble after this patch.</p>", "type": "rendered"}, "source": {"commit": {"hash": "4b732d7a0b3d", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse/commit/4b732d7a0b3d"}, "html": {"href": "#!/cbillington/lyse/commits/4b732d7a0b3d"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/lyse"}, "html": {"href": "#!/cbillington/lyse"}, "avatar": {"href": "data/bytebucket.org/ravatar/{47c91022-279d-4058-88a8-959fe9ffb409}ts=python"}}, "type": "repository", "name": "lyse", "full_name": "cbillington/lyse", "uuid": "{47c91022-279d-4058-88a8-959fe9ffb409}"}, "branch": {"name": "bugfix"}}, "comment_count": 1, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Shaun Johnstone", "uuid": "{29b89d33-dfb4-4651-9a79-ffb35b7ca689}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D"}, "html": {"href": "https://bitbucket.org/%7B29b89d33-dfb4-4651-9a79-ffb35b7ca689%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/8105ae398115f6a5b58ce40d07fa431fd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsSJ-0.png"}}, "nickname": "shaunj", "type": "user", "account_id": "557058:af791b1b-04dd-4b89-8a97-fd688cb64b82"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, {"role": "PARTICIPANT", "participated_on": "2019-08-14T14:28:09.546470+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}], "reason": "", "updated_on": "2019-09-13T20:32:04.623661+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "0640ec756845", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/lyse/commit/0640ec756845.json"}, "html": {"href": "#!/labscript_suite/lyse/commits/0640ec756845"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}