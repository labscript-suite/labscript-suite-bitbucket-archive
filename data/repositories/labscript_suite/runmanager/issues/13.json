{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/runmanager/issues/13/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/runmanager/issues/13.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/issues/13/watch"}, "comments": {"href": "data/repositories/labscript_suite/runmanager/issues/13/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/13/globals-files-without-units-or-expansion"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/issues/13/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "Globals files without units or expansion entry in h5 file raise exceptions", "component": null, "votes": 0, "watches": 2, "content": {"raw": "When testing with runmanager (changeset: 9165e460a942) there were a few bugs. Issue #6 allowed a global named \"<Click to add global>\" to be created. In some instances, this did not created the corresponding attribute in the units and expansion HDF5 groups.\r\n\r\nWhen globals do not have units (and presumably expansions) in the HDF5 file, and you open that group, runmanager raises an exception and creates a tab in an inconsistent state which you cannot close.\r\n\r\nFix: runmanager should create entries for units/expansion column in the HDF5 file, for each global, if they do not already exist. This will prevent crashes that require a restart of runmanager if the globals HDF5 file has a problem.", "markup": "markdown", "html": "<p>When testing with runmanager (changeset: <a href=\"#!/labscript_suite/runmanager/commits/9165e460a942\" rel=\"nofollow\" class=\"ap-connect-link\">9165e460a942</a>) there were a few bugs. Issue <a href=\"#!/labscript_suite/runmanager/issues/6/navigation-while-editing-globals-via-tab\" rel=\"nofollow\" title=\"Navigation while editing globals (via tab key) is broken\" class=\"ap-connect-link\"><s>#6</s></a> allowed a global named \"&lt;Click to add global&gt;\" to be created. In some instances, this did not created the corresponding attribute in the units and expansion HDF5 groups.</p>\n<p>When globals do not have units (and presumably expansions) in the HDF5 file, and you open that group, runmanager raises an exception and creates a tab in an inconsistent state which you cannot close.</p>\n<p>Fix: runmanager should create entries for units/expansion column in the HDF5 file, for each global, if they do not already exist. This will prevent crashes that require a restart of runmanager if the globals HDF5 file has a problem.</p>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "new", "version": null, "edited_on": null, "created_on": "2014-09-17T00:29:42.116120+00:00", "milestone": null, "updated_on": "2014-09-17T06:09:20.861008+00:00", "type": "issue", "id": 13}