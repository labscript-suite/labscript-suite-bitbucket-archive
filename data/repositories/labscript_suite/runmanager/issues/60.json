{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/runmanager/issues/60/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/runmanager/issues/60.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/issues/60/watch"}, "comments": {"href": "data/repositories/labscript_suite/runmanager/issues/60/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/60/difference-between-api-and-gui-when"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/issues/60/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "Difference between API and GUI when handling zip groups", "component": null, "votes": 0, "watches": 1, "content": {"raw": "I believe the API won't automatically detect zip groups when compiling a sequence of shots. I'm not sure if this makes sense or not.\r\n\r\nOn the one hand, we could argue that if you are using the API, then the globals file should explicitly specify the expansion column correctly for every global and not expect the runmanager API to work things out.\r\n\r\nOn the other hand, this is a real PITA if you just want programmatic control over compilation of shots, but otherwise identical behaviour to the GUI.\r\n\r\nThe solution is probably supporting both ways. Anyway, the missing thing is the fact that `guess_expansion_modes` exists in the GUI code, not in the API code for runmanager, and that this needs to be iteratively called until the expansion types settle to a steady state (see `preparse_globals` in the GUI code.", "markup": "markdown", "html": "<p>I believe the API won't automatically detect zip groups when compiling a sequence of shots. I'm not sure if this makes sense or not.</p>\n<p>On the one hand, we could argue that if you are using the API, then the globals file should explicitly specify the expansion column correctly for every global and not expect the runmanager API to work things out.</p>\n<p>On the other hand, this is a real PITA if you just want programmatic control over compilation of shots, but otherwise identical behaviour to the GUI.</p>\n<p>The solution is probably supporting both ways. Anyway, the missing thing is the fact that <code>guess_expansion_modes</code> exists in the GUI code, not in the API code for runmanager, and that this needs to be iteratively called until the expansion types settle to a steady state (see <code>preparse_globals</code> in the GUI code.</p>", "type": "rendered"}, "assignee": null, "state": "new", "version": null, "edited_on": null, "created_on": "2018-06-19T05:38:01.356470+00:00", "milestone": null, "updated_on": "2018-06-19T05:38:01.356470+00:00", "type": "issue", "id": 60}