{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51741055.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51741055"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "Longer term, I'd be inclined to split the runmanager GUI away from the underlying framework that manages globals (and globals files). I suspect that's a more appropriate architecture for distributed global management (which is effectively what this proposal is).", "markup": "markdown", "html": "<p>Longer term, I'd be inclined to split the runmanager GUI away from the underlying framework that manages globals (and globals files). I suspect that's a more appropriate architecture for distributed global management (which is effectively what this proposal is).</p>", "type": "rendered"}, "created_on": "2019-04-21T12:37:41.405828+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": null, "type": "issue_comment", "id": 51741055}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51741188.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51741188"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "Better distributed global management may well be a longer term goal, but it's different to the scope of this pull request. In the Monash Spinor Lab in 2018 we used runmanager library functions for this, calling `runmanager.set_value` and `runmanager.compile_labscript_with_globals_files_async`, with the callback of the latter submitting compiled shots to blacs. This was clunky and had some limitations, not least owing to globals being able to exist non-uniquely across multiple files, with the arbiter being the 'active' state of a globals group.", "markup": "markdown", "html": "<p>Better distributed global management may well be a longer term goal, but it's different to the scope of this pull request. In the Monash Spinor Lab in 2018 we used runmanager library functions for this, calling <code>runmanager.set_value</code> and <code>runmanager.compile_labscript_with_globals_files_async</code>, with the callback of the latter submitting compiled shots to blacs. This was clunky and had some limitations, not least owing to globals being able to exist non-uniquely across multiple files, with the arbiter being the 'active' state of a globals group.</p>", "type": "rendered"}, "created_on": "2019-04-21T13:03:00.408328+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": null, "type": "issue_comment", "id": 51741188}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51742387.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51742387"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "I'm somewhat likely to be working on this in the next couple of weeks, as automated optimisation is happening in our labs. Will aim for the above minimal features and take it from there. Anyone else should feel free to work on it too, but maybe check with me if I've started on it yet so that we're not doubling up. \n\nThe runmanager API is clunky, but I think the clunkiness comes from there being no global state as to which globals groups are currently active and that sort of thing. This state is presently stored in the runmanager GUI (and saved to disk upon quitting), which is why GUI scripting is appealing, since then the script doesn't need to provide that state. But if runmanager were a GUIless program holding that state, or perhaps if the state were stored on disk and changes to it were scriptable without runmanger actually running, then I think that's more what phil is getting at. But I also think some of these more lofty goals should be considered pretty low priority, since in practice having to run a GUI program as a server (once it is scriptable) would not be preventing anyone from doing anything they need to do.", "markup": "markdown", "html": "<p>I'm somewhat likely to be working on this in the next couple of weeks, as automated optimisation is happening in our labs. Will aim for the above minimal features and take it from there. Anyone else should feel free to work on it too, but maybe check with me if I've started on it yet so that we're not doubling up. </p>\n<p>The runmanager API is clunky, but I think the clunkiness comes from there being no global state as to which globals groups are currently active and that sort of thing. This state is presently stored in the runmanager GUI (and saved to disk upon quitting), which is why GUI scripting is appealing, since then the script doesn't need to provide that state. But if runmanager were a GUIless program holding that state, or perhaps if the state were stored on disk and changes to it were scriptable without runmanger actually running, then I think that's more what phil is getting at. But I also think some of these more lofty goals should be considered pretty low priority, since in practice having to run a GUI program as a server (once it is scriptable) would not be preventing anyone from doing anything they need to do.</p>", "type": "rendered"}, "created_on": "2019-04-21T17:24:28.052848+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-04-21T17:25:21.194379+00:00", "type": "issue_comment", "id": 51742387}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51743635.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51743635"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-04-21T22:10:40.159116+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": null, "type": "issue_comment", "id": 51743635}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51743660.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51743660"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "Awesome, Chris.\n\nIndeed, some of the clunkiness derived from not being able to enumerate\nactive groups remotely. We worked around this using a specific compiled\nshot file as a template, as it contained the active globals groups in a\nsingle h5 file. Calls to `set_value` modified this file (or a copy of it),\nand subsequent shot compilation created shot files wth the same base name\nas the template, but with some repeat-like alias/number.\n", "markup": "markdown", "html": "<p>Awesome, Chris.</p>\n<p>Indeed, some of the clunkiness derived from not being able to enumerate\nactive groups remotely. We worked around this using a specific compiled\nshot file as a template, as it contained the active globals groups in a\nsingle h5 file. Calls to <code>set_value</code> modified this file (or a copy of it),\nand subsequent shot compilation created shot files wth the same base name\nas the template, but with some repeat-like alias/number.</p>", "type": "rendered"}, "created_on": "2019-04-21T22:20:08.269079+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": null, "type": "issue_comment", "id": 51743660}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/51745025.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-51745025"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": null, "markup": "markdown", "html": "", "type": "rendered"}, "created_on": "2019-04-22T03:02:08.591290+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": null, "type": "issue_comment", "id": 51745025}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/52043747.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-52043747"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "Regarding locking the GUI: The remote functions I've implemented in pull request #37 can set multiple globals at once, and do so in the main thread of runmanager, so that is not interruptable by user action. Acquiring a lock on the GUI would still be useful if you were wanting to get, set, and engage all in a row without being interrupted, is that the sort of thinking you had in mind? I wonder if this is of limited usefulness and if a 'we are all adults here, it is up to you whether to mess with runmanager during optimisation' attitude might be ok.", "markup": "markdown", "html": "<p>Regarding locking the GUI: The remote functions I've implemented in <a href=\"#!/labscript_suite/runmanager/pull-requests/37/basic-remote-control-of-runmanager\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #37</a> can set multiple globals at once, and do so in the main thread of runmanager, so that is not interruptable by user action. Acquiring a lock on the GUI would still be useful if you were wanting to get, set, and engage all in a row without being interrupted, is that the sort of thinking you had in mind? I wonder if this is of limited usefulness and if a 'we are all adults here, it is up to you whether to mess with runmanager during optimisation' attitude might be ok.</p>", "type": "rendered"}, "created_on": "2019-05-08T22:48:47.943580+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2019-05-08T23:17:32.492748+00:00", "type": "issue_comment", "id": 52043747}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/52733334.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-52733334"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "Implemented in pull request #37", "markup": "markdown", "html": "<p>Implemented in <a href=\"#!/labscript_suite/runmanager/pull-requests/37/basic-remote-control-of-runmanager\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #37</a></p>", "type": "rendered"}, "created_on": "2019-06-25T18:10:30.674316+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 52733334}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68/comments/52733349.json"}, "html": {"href": "#!/labscript_suite/runmanager/issues/68#comment-52733349"}}, "issue": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/issues/68.json"}}, "type": "issue", "id": 68, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "title": "UI scripting"}, "content": {"raw": "The remote scripting that has been implemented could be made nicer, such as having a record of previously set values so that remote setting doesn't just erase existing value unrecoverably, but this will all require some thought. Closing this for now!", "markup": "markdown", "html": "<p>The remote scripting that has been implemented could be made nicer, such as having a record of previously set values so that remote setting doesn't just erase existing value unrecoverably, but this will all require some thought. Closing this for now!</p>", "type": "rendered"}, "created_on": "2019-06-25T18:12:03.025971+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": null, "type": "issue_comment", "id": 52733349}], "page": 1, "size": 9}