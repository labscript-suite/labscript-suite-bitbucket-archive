{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65674006.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65674006"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 23, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23"}}, "title": "Use QShortcuts for keyboard shortcuts, resolving issue #59"}, "content": {"raw": "This fixes issue #59, but the functionality is altered in the following ways:\n\n* The Engage button is not depressed when the F5 key is.\n* The engage signal is sent at key press rather than key release.\n\nMight this be why you were handling these events independently? In any case, I\u2019m fine with this new functionality.", "markup": "markdown", "html": "<p>This fixes issue <a href=\"#!/labscript_suite/runmanager/issues/59/keypresses-are-registered-twice\" rel=\"nofollow\" title=\"Keypresses are registered twice\" class=\"ap-connect-link\"><s>#59</s></a>, but the functionality is altered in the following ways:</p>\n<ul>\n<li>The Engage button is not depressed when the F5 key is.</li>\n<li>The engage signal is sent at key press rather than key release.</li>\n</ul>\n<p>Might this be why you were handling these events independently? In any case, I\u2019m fine with this new functionality.</p>", "type": "rendered"}, "created_on": "2018-05-30T10:22:56.608823+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2018-05-30T10:24:30.433580+00:00", "type": "pullrequest_comment", "id": 65674006}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65674731.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65674731"}}, "parent": {"id": 65674006, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65674006.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65674006"}}, "depth": 1}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 23, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23"}}, "title": "Use QShortcuts for keyboard shortcuts, resolving issue #59"}, "content": {"raw": "Yep. I could easily change it back to handling separate key presses and releases, but I like the code simplification that comes from using QShortcut so I'd be inclined to leave it this way if it's an acceptable change in behaviour (QShortcut doesn't let you distinguish between presses and releases).\n\nIf the lack of visual feedback is a drawback, we can add that in another way - still making it depress for some duration of time that is unrelated to how long you press the key, or making it flash a different colour or something like that.\n\nEdit: or a compilation progress bar as per a previously rejected pull request.", "markup": "markdown", "html": "<p>Yep. I could easily change it back to handling separate key presses and releases, but I like the code simplification that comes from using QShortcut so I'd be inclined to leave it this way if it's an acceptable change in behaviour (QShortcut doesn't let you distinguish between presses and releases).</p>\n<p>If the lack of visual feedback is a drawback, we can add that in another way - still making it depress for some duration of time that is unrelated to how long you press the key, or making it flash a different colour or something like that.</p>\n<p>Edit: or a compilation progress bar as per a previously rejected pull request.</p>", "type": "rendered"}, "created_on": "2018-05-30T10:27:50.623461+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-05-30T10:29:44.574950+00:00", "type": "pullrequest_comment", "id": 65674731}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65676448.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65676448"}}, "parent": {"id": 65674731, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65674731.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65674731"}}, "depth": 2}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 23, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23"}}, "title": "Use QShortcuts for keyboard shortcuts, resolving issue #59"}, "content": {"raw": "I agree that QShortcut seems like the cleaner approach and I expect the behaviour will more closely match shortcut behaviour in other programs.", "markup": "markdown", "html": "<p>I agree that QShortcut seems like the cleaner approach and I expect the behaviour will more closely match shortcut behaviour in other programs.</p>", "type": "rendered"}, "created_on": "2018-05-30T10:40:19.311338+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-05-30T10:40:19.324157+00:00", "type": "pullrequest_comment", "id": 65676448}, {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23/comments/65676843.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23/_/diff#comment-65676843"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 23, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/23.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/23"}}, "title": "Use QShortcuts for keyboard shortcuts, resolving issue #59"}, "content": {"raw": "Ha, I found this code (now removed in this PR) explicitly for avoiding the problem in another context, clearly we were doubling up on events previously. What a bad approach that was:\n\n```python\n    def keyPressEvent(self, event):\n        if event.modifiers() & QtCore.Qt.ControlModifier:\n            if event.key() in (QtCore.Qt.Key_Tab, QtCore.Qt.Key_Backtab):\n                # We are handling ctrl-tab events at the level of the whole\n                # application, so ignore them here so as not to double up.\n                event.ignore()\n                return\n        return QtWidgets.QTabWidget.keyPressEvent(self, event)\n\n```", "markup": "markdown", "html": "<p>Ha, I found this code (now removed in this PR) explicitly for avoiding the problem in another context, clearly we were doubling up on events previously. What a bad approach that was:</p>\n<div class=\"codehilite language-python\"><pre><span></span>    <span class=\"k\">def</span> <span class=\"nf\">keyPressEvent</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">):</span>\n        <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">modifiers</span><span class=\"p\">()</span> <span class=\"o\">&amp;</span> <span class=\"n\">QtCore</span><span class=\"o\">.</span><span class=\"n\">Qt</span><span class=\"o\">.</span><span class=\"n\">ControlModifier</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">key</span><span class=\"p\">()</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"n\">QtCore</span><span class=\"o\">.</span><span class=\"n\">Qt</span><span class=\"o\">.</span><span class=\"n\">Key_Tab</span><span class=\"p\">,</span> <span class=\"n\">QtCore</span><span class=\"o\">.</span><span class=\"n\">Qt</span><span class=\"o\">.</span><span class=\"n\">Key_Backtab</span><span class=\"p\">):</span>\n                <span class=\"c1\"># We are handling ctrl-tab events at the level of the whole</span>\n                <span class=\"c1\"># application, so ignore them here so as not to double up.</span>\n                <span class=\"n\">event</span><span class=\"o\">.</span><span class=\"n\">ignore</span><span class=\"p\">()</span>\n                <span class=\"k\">return</span>\n        <span class=\"k\">return</span> <span class=\"n\">QtWidgets</span><span class=\"o\">.</span><span class=\"n\">QTabWidget</span><span class=\"o\">.</span><span class=\"n\">keyPressEvent</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">event</span><span class=\"p\">)</span>\n</pre></div>", "type": "rendered"}, "created_on": "2018-05-30T10:43:46.818268+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-05-30T10:45:27.744183+00:00", "type": "pullrequest_comment", "id": 65676843}], "page": 1, "size": 4}