{"rendered": {"description": {"raw": "Word-wrapping in treeviews and item views, adapted from David Meyer's implementation (pull request #34).\r\n\r\nSwapped the globals treeview for a tableview. This involved replacing the custom\r\ntreeview with a mixin class, so that it could be reused for both the new tableview\r\nand the existing treeviews.\r\n\r\nThis was because TableViews have automatic vertical resizing of rows to contents,\r\nwhereas treeviews do not.\r\n\r\nAdded a custom editor for globals that also has word wrapping and expands\r\nvertically when wrapping occurs. The editor is a QTextEdit instead of a QPlainTextEdit\r\nbecause QPlainTextEdit has worse resizing semantics, preferring to return sizes in\r\nnumber of lines instead of pixels, and always having one additional blank line\r\nof space reported in its size. QTextEdit is simple enough to use instead, we\r\njust have to explicitly say we want to set and get plain text only.\r\n\r\nDisabled resizing of all columns that were still possible to resize. All columns\r\nare not set to their minimum width except for one column in each view that is\r\nset to stretch, which in the case of the globals view is the value column.\r\n\r\nMost of the diff is noise of variable renamings due to changing the treeview\r\nfor a tableview, and boilerplate changes due to using a mixin. The changes of\r\nsubstance are the new TableView class definition, the new Editor class defintion,\r\nand some changes to the ItemDelegate (which I also simplified to not use\r\nfont metrics in its height calculation). The other meaningful changes are setting\r\na stretch section for the views and setting all other sections to minimum column\r\nwidth.\r\n\r\nNote that Qt <= 5.11 had a fairly major bug such that word wrapping in a QTableView had no effect. Therefore this pull request may not do nothing unless it is run with Qt 5.12 or greater. Qt 5.12 is not actually available yet in the conda repositories, though I expect it to be there very soon (it's the next LTS version, and was released in January, so conda will update to it from 5.9 which was the last LTS). \r\n\r\nSo testing this if you don't have Qt 5.12 will be basically just regression testing. Still worth it I suppose. I also suppose that the fix might have been backported to earlier Qt versions, so small chance the change will actually do something on other versions.", "markup": "markdown", "html": "<p>Word-wrapping in treeviews and item views, adapted from David Meyer's implementation (<a href=\"#!/labscript_suite/runmanager/pull-requests/34/enable-word-wrap-for-globals-value-column\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #34</a>).</p>\n<p>Swapped the globals treeview for a tableview. This involved replacing the custom\ntreeview with a mixin class, so that it could be reused for both the new tableview\nand the existing treeviews.</p>\n<p>This was because TableViews have automatic vertical resizing of rows to contents,\nwhereas treeviews do not.</p>\n<p>Added a custom editor for globals that also has word wrapping and expands\nvertically when wrapping occurs. The editor is a QTextEdit instead of a QPlainTextEdit\nbecause QPlainTextEdit has worse resizing semantics, preferring to return sizes in\nnumber of lines instead of pixels, and always having one additional blank line\nof space reported in its size. QTextEdit is simple enough to use instead, we\njust have to explicitly say we want to set and get plain text only.</p>\n<p>Disabled resizing of all columns that were still possible to resize. All columns\nare not set to their minimum width except for one column in each view that is\nset to stretch, which in the case of the globals view is the value column.</p>\n<p>Most of the diff is noise of variable renamings due to changing the treeview\nfor a tableview, and boilerplate changes due to using a mixin. The changes of\nsubstance are the new TableView class definition, the new Editor class defintion,\nand some changes to the ItemDelegate (which I also simplified to not use\nfont metrics in its height calculation). The other meaningful changes are setting\na stretch section for the views and setting all other sections to minimum column\nwidth.</p>\n<p>Note that Qt &lt;= 5.11 had a fairly major bug such that word wrapping in a QTableView had no effect. Therefore this pull request may not do nothing unless it is run with Qt 5.12 or greater. Qt 5.12 is not actually available yet in the conda repositories, though I expect it to be there very soon (it's the next LTS version, and was released in January, so conda will update to it from 5.9 which was the last LTS). </p>\n<p>So testing this if you don't have Qt 5.12 will be basically just regression testing. Still worth it I suppose. I also suppose that the fix might have been backported to earlier Qt versions, so small chance the change will actually do something on other versions.</p>", "type": "rendered"}, "title": {"raw": "Word-wrapping in treeviews and item views, adapted from David Meyer's implementation.", "markup": "markdown", "html": "<p>Word-wrapping in treeviews and item views, adapted from David Meyer's implementation.</p>", "type": "rendered"}}, "type": "pullrequest", "description": "Word-wrapping in treeviews and item views, adapted from David Meyer's implementation (pull request #34).\r\n\r\nSwapped the globals treeview for a tableview. This involved replacing the custom\r\ntreeview with a mixin class, so that it could be reused for both the new tableview\r\nand the existing treeviews.\r\n\r\nThis was because TableViews have automatic vertical resizing of rows to contents,\r\nwhereas treeviews do not.\r\n\r\nAdded a custom editor for globals that also has word wrapping and expands\r\nvertically when wrapping occurs. The editor is a QTextEdit instead of a QPlainTextEdit\r\nbecause QPlainTextEdit has worse resizing semantics, preferring to return sizes in\r\nnumber of lines instead of pixels, and always having one additional blank line\r\nof space reported in its size. QTextEdit is simple enough to use instead, we\r\njust have to explicitly say we want to set and get plain text only.\r\n\r\nDisabled resizing of all columns that were still possible to resize. All columns\r\nare not set to their minimum width except for one column in each view that is\r\nset to stretch, which in the case of the globals view is the value column.\r\n\r\nMost of the diff is noise of variable renamings due to changing the treeview\r\nfor a tableview, and boilerplate changes due to using a mixin. The changes of\r\nsubstance are the new TableView class definition, the new Editor class defintion,\r\nand some changes to the ItemDelegate (which I also simplified to not use\r\nfont metrics in its height calculation). The other meaningful changes are setting\r\na stretch section for the views and setting all other sections to minimum column\r\nwidth.\r\n\r\nNote that Qt <= 5.11 had a fairly major bug such that word wrapping in a QTableView had no effect. Therefore this pull request may not do nothing unless it is run with Qt 5.12 or greater. Qt 5.12 is not actually available yet in the conda repositories, though I expect it to be there very soon (it's the next LTS version, and was released in January, so conda will update to it from 5.9 which was the last LTS). \r\n\r\nSo testing this if you don't have Qt 5.12 will be basically just regression testing. Still worth it I suppose. I also suppose that the fix might have been backported to earlier Qt versions, so small chance the change will actually do something on other versions.", "links": {"decline": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/pullrequests/35/decline"}, "diffstat": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/diffstat/labscript_suite/runmanager:1ae2f3b1b85d%0D1188efa40ea4?from_pullrequest_id=35"}, "commits": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/35/commits.json"}, "self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/35.json"}, "comments": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/35/comments_page=1.json"}, "merge": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/pullrequests/35/merge"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/35"}, "activity": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/35/activity.json"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/diff/labscript_suite/runmanager:1ae2f3b1b85d%0D1188efa40ea4?from_pullrequest_id=35"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runmanager/pullrequests/35/approve"}, "statuses": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/35/statuses_page=1.json"}}, "title": "Word-wrapping in treeviews and item views, adapted from David Meyer's implementation.", "close_source_branch": true, "reviewers": [{"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}, {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}], "id": 35, "destination": {"commit": {"hash": "1188efa40ea4", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/commit/1188efa40ea4.json"}, "html": {"href": "#!/labscript_suite/runmanager/commits/1188efa40ea4"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runmanager.json"}, "html": {"href": "#!/labscript_suite/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{9b4f21e6-54b0-41ea-8f01-db1919f2f790}ts=249918"}}, "type": "repository", "name": "runmanager", "full_name": "labscript_suite/runmanager", "uuid": "{9b4f21e6-54b0-41ea-8f01-db1919f2f790}"}, "branch": {"name": "default"}}, "created_on": "2019-04-18T05:09:10.814460+00:00", "summary": {"raw": "Word-wrapping in treeviews and item views, adapted from David Meyer's implementation (pull request #34).\r\n\r\nSwapped the globals treeview for a tableview. This involved replacing the custom\r\ntreeview with a mixin class, so that it could be reused for both the new tableview\r\nand the existing treeviews.\r\n\r\nThis was because TableViews have automatic vertical resizing of rows to contents,\r\nwhereas treeviews do not.\r\n\r\nAdded a custom editor for globals that also has word wrapping and expands\r\nvertically when wrapping occurs. The editor is a QTextEdit instead of a QPlainTextEdit\r\nbecause QPlainTextEdit has worse resizing semantics, preferring to return sizes in\r\nnumber of lines instead of pixels, and always having one additional blank line\r\nof space reported in its size. QTextEdit is simple enough to use instead, we\r\njust have to explicitly say we want to set and get plain text only.\r\n\r\nDisabled resizing of all columns that were still possible to resize. All columns\r\nare not set to their minimum width except for one column in each view that is\r\nset to stretch, which in the case of the globals view is the value column.\r\n\r\nMost of the diff is noise of variable renamings due to changing the treeview\r\nfor a tableview, and boilerplate changes due to using a mixin. The changes of\r\nsubstance are the new TableView class definition, the new Editor class defintion,\r\nand some changes to the ItemDelegate (which I also simplified to not use\r\nfont metrics in its height calculation). The other meaningful changes are setting\r\na stretch section for the views and setting all other sections to minimum column\r\nwidth.\r\n\r\nNote that Qt <= 5.11 had a fairly major bug such that word wrapping in a QTableView had no effect. Therefore this pull request may not do nothing unless it is run with Qt 5.12 or greater. Qt 5.12 is not actually available yet in the conda repositories, though I expect it to be there very soon (it's the next LTS version, and was released in January, so conda will update to it from 5.9 which was the last LTS). \r\n\r\nSo testing this if you don't have Qt 5.12 will be basically just regression testing. Still worth it I suppose. I also suppose that the fix might have been backported to earlier Qt versions, so small chance the change will actually do something on other versions.", "markup": "markdown", "html": "<p>Word-wrapping in treeviews and item views, adapted from David Meyer's implementation (<a href=\"#!/labscript_suite/runmanager/pull-requests/34/enable-word-wrap-for-globals-value-column\" rel=\"nofollow\" class=\"ap-connect-link\">pull request #34</a>).</p>\n<p>Swapped the globals treeview for a tableview. This involved replacing the custom\ntreeview with a mixin class, so that it could be reused for both the new tableview\nand the existing treeviews.</p>\n<p>This was because TableViews have automatic vertical resizing of rows to contents,\nwhereas treeviews do not.</p>\n<p>Added a custom editor for globals that also has word wrapping and expands\nvertically when wrapping occurs. The editor is a QTextEdit instead of a QPlainTextEdit\nbecause QPlainTextEdit has worse resizing semantics, preferring to return sizes in\nnumber of lines instead of pixels, and always having one additional blank line\nof space reported in its size. QTextEdit is simple enough to use instead, we\njust have to explicitly say we want to set and get plain text only.</p>\n<p>Disabled resizing of all columns that were still possible to resize. All columns\nare not set to their minimum width except for one column in each view that is\nset to stretch, which in the case of the globals view is the value column.</p>\n<p>Most of the diff is noise of variable renamings due to changing the treeview\nfor a tableview, and boilerplate changes due to using a mixin. The changes of\nsubstance are the new TableView class definition, the new Editor class defintion,\nand some changes to the ItemDelegate (which I also simplified to not use\nfont metrics in its height calculation). The other meaningful changes are setting\na stretch section for the views and setting all other sections to minimum column\nwidth.</p>\n<p>Note that Qt &lt;= 5.11 had a fairly major bug such that word wrapping in a QTableView had no effect. Therefore this pull request may not do nothing unless it is run with Qt 5.12 or greater. Qt 5.12 is not actually available yet in the conda repositories, though I expect it to be there very soon (it's the next LTS version, and was released in January, so conda will update to it from 5.9 which was the last LTS). </p>\n<p>So testing this if you don't have Qt 5.12 will be basically just regression testing. Still worth it I suppose. I also suppose that the fix might have been backported to earlier Qt versions, so small chance the change will actually do something on other versions.</p>", "type": "rendered"}, "source": {"commit": {"hash": "51e205a94429", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runmanager/commit/51e205a94429"}, "html": {"href": "#!/cbillington/runmanager/commits/51e205a94429"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runmanager"}, "html": {"href": "#!/cbillington/runmanager"}, "avatar": {"href": "data/bytebucket.org/ravatar/{f721817a-d5b9-4d43-8c50-99a9be0a8896}ts=python"}}, "type": "repository", "name": "runmanager", "full_name": "cbillington/runmanager", "uuid": "{f721817a-d5b9-4d43-8c50-99a9be0a8896}"}, "branch": {"name": "word_wrap"}}, "comment_count": 29, "state": "MERGED", "task_count": 0, "participants": [{"role": "REVIEWER", "participated_on": null, "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{0147401a-13ed-4e39-a0d0-63108c18738b}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D"}, "html": {"href": "https://bitbucket.org/%7B0147401a-13ed-4e39-a0d0-63108c18738b%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/fa0698c306b3470c00717c146b5296e9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "philipstarkey", "type": "user", "account_id": "557058:2f99420c-1dbd-4837-952c-82c421b8fbdd"}}, {"role": "PARTICIPANT", "participated_on": "2019-04-29T09:29:34.660030+00:00", "type": "participant", "approved": true, "user": {"display_name": "Lars Kohfahl", "uuid": "{14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D"}, "html": {"href": "https://bitbucket.org/%7B14b59397-cbc0-4d8c-8a4a-fe99fb4d2d4a%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/630642264cd55e22515678a3a0489ac7d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLK-2.png"}}, "nickname": "lkohfahl", "type": "user", "account_id": "5aafc5d11396802a57aa7f3b"}}, {"role": "PARTICIPANT", "participated_on": "2019-05-29T18:51:31.787229+00:00", "type": "participant", "approved": false, "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}, {"role": "REVIEWER", "participated_on": "2019-04-20T06:46:16.811955+00:00", "type": "participant", "approved": true, "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}}, {"role": "REVIEWER", "participated_on": "2019-05-10T17:47:07.209450+00:00", "type": "participant", "approved": true, "user": {"display_name": "David Meyer", "uuid": "{8df655d6-8661-4957-b4ba-669cef19bf2d}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D"}, "html": {"href": "https://bitbucket.org/%7B8df655d6-8661-4957-b4ba-669cef19bf2d%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/2a4efe81a17e5aeccdbc4ef2ca2cc463d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsDM-0.png"}}, "nickname": "dihm", "type": "user", "account_id": "557058:411f7712-e1fa-438c-b578-0359da2d9f06"}}, {"role": "PARTICIPANT", "participated_on": "2019-04-30T04:03:44.750335+00:00", "type": "participant", "approved": false, "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}}], "reason": "", "updated_on": "2019-05-29T18:51:31.802963+00:00", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "merge_commit": {"hash": "1ae2f3b1b85d", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/commit/1ae2f3b1b85d.json"}, "html": {"href": "#!/labscript_suite/runmanager/commits/1ae2f3b1b85d"}}}, "closed_by": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}}