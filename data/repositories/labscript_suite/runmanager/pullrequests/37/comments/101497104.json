{"links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/37/comments/101497104.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/37/_/diff#comment-101497104"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 37, "links": {"self": {"href": "data/repositories/labscript_suite/runmanager/pullrequests/37.json"}, "html": {"href": "#!/labscript_suite/runmanager/pull-requests/37"}}, "title": "Basic remote control of runmanager."}, "content": {"raw": "Further testing revealed something strange: occasionally shots don't have an updated global when calling `engage` immediately after `set_global` \\(the latter takes effect as confirmed by viewing the GUI\\). This went away when I put a short \\(50 ms\\) delay between the final `set_globals` call and `engage`.\n\nThis PR has made [M-LOOP integration](https://bitbucket.org/rpanderson/analysislib-mloop) \\(or any other automated optimisation\\) very nice, enabling the following:\n\n* Single iteration of the optimisation loop can compile sequences, which is useful for multi-shot cost evaluation.\n* The optimisation parameters get updated in the GUI, and as such, are set to the optimum values following each optimisation.\n\n", "markup": "markdown", "html": "<p>Further testing revealed something strange: occasionally shots don't have an updated global when calling <code>engage</code> immediately after <code>set_global</code> (the latter takes effect as confirmed by viewing the GUI). This went away when I put a short (50 ms) delay between the final <code>set_globals</code> call and <code>engage</code>.</p>\n<p>This PR has made <a data-is-external-link=\"true\" href=\"https://bitbucket.org/rpanderson/analysislib-mloop\" rel=\"nofollow\">M-LOOP integration</a> (or any other automated optimisation) very nice, enabling the following:</p>\n<ul>\n<li>Single iteration of the optimisation loop can compile sequences, which is useful for multi-shot cost evaluation.</li>\n<li>The optimisation parameters get updated in the GUI, and as such, are set to the optimum values following each optimisation.</li>\n</ul>", "type": "rendered"}, "created_on": "2019-05-09T16:04:22.585264+00:00", "user": {"display_name": "Russell Anderson", "uuid": "{6c12ac6e-1980-466d-86fe-6c163bd116c2}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D"}, "html": {"href": "https://bitbucket.org/%7B6c12ac6e-1980-466d-86fe-6c163bd116c2%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e/e307ce36-5fb6-4418-8090-b9e533eab225/128"}}, "nickname": "rpanderson", "type": "user", "account_id": "557058:443e4cd1-86c9-4cd5-8034-22bab14d9d1e"}, "updated_on": "2019-05-09T16:04:22.593516+00:00", "type": "pullrequest_comment", "id": 101497104}