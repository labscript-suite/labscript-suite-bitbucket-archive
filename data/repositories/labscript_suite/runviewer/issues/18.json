{"priority": "major", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "links": {"attachments": {"href": "data/repositories/labscript_suite/runviewer/issues/18/attachments_page=1.json"}, "self": {"href": "data/repositories/labscript_suite/runviewer/issues/18.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runviewer/issues/18/watch"}, "comments": {"href": "data/repositories/labscript_suite/runviewer/issues/18/comments_page=1.json"}, "html": {"href": "#!/labscript_suite/runviewer/issues/18/no-allowed-version-of-pyqtgraph-works-100"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/labscript_suite/runviewer/issues/18/vote"}}, "reporter": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "title": "No allowed version of pyqtgraph works 100% correctly with runviewer", "component": null, "votes": 0, "watches": 2, "content": {"raw": "It looks like pyqtgraph v0.9.10 is the oldest version that runviewer will support (based on the import check). However this raises a double import denier error (see below).\r\n\r\nIf I try and use pyqtgraph v0.10.0 (the only other version allowed by the import check), then runviewer loads, but you can't reset the x-axis (time axis). Presumably we don't actually support v0.10.0 yet and the solution is to fix the double import denier issue?\r\n\r\nNote: This is done with the current tip version as the latest tagged version also has an issue with the double import denier.\r\n\r\n\r\n```\r\n#!python\r\n\r\nTraceback (most recent call last):\r\n  File \"C:\\labscript_suite\\labscript_py27\\runviewer\\__main__.py\", line 63, in <module>\r\n    check_version('pyqtgraph', '0.9.10', '1')\r\n  File \"C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py\", line 89, in check_version\r\n    _reraise(exc_info)\r\n  File \"C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py\", line 67, in _reraise\r\n    exec('raise type, value, traceback', globals(), locals())\r\n  File \"C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py\", line 52, in _get_version\r\n    module = __import__(module_name)\r\n  File \"C:\\labscript_suite\\labscript_py27\\labscript_utils\\double_import_denier.py\", line 38, in load_module\r\n    return imp.load_module(name, self.fp, self.pathname, self.description)\r\n  File \"C:\\Anaconda3\\envs\\labscript_py27\\lib\\site-packages\\pyqtgraph\\__init__.py\", line 13, in <module>\r\n    from .Qt import QtGui\r\n  File \"C:\\labscript_suite\\labscript_py27\\labscript_utils\\double_import_denier.py\", line 38, in load_module\r\n    return imp.load_module(name, self.fp, self.pathname, self.description)\r\n  File \"C:\\Anaconda3\\envs\\labscript_py27\\lib\\site-packages\\pyqtgraph\\Qt.py\", line 32, in <module>\r\n    raise Exception(\"PyQtGraph requires either PyQt4 or PySide; neither package could be imported.\")\r\nException: PyQtGraph requires either PyQt4 or PySide; neither package could be imported.\r\n\r\n```", "markup": "markdown", "html": "<p>It looks like pyqtgraph v0.9.10 is the oldest version that runviewer will support (based on the import check). However this raises a double import denier error (see below).</p>\n<p>If I try and use pyqtgraph v0.10.0 (the only other version allowed by the import check), then runviewer loads, but you can't reset the x-axis (time axis). Presumably we don't actually support v0.10.0 yet and the solution is to fix the double import denier issue?</p>\n<p>Note: This is done with the current tip version as the latest tagged version also has an issue with the double import denier.</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27</span><span class=\"se\">\\r</span><span class=\"s2\">unviewer\\__main__.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">63</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n    <span class=\"n\">check_version</span><span class=\"p\">(</span><span class=\"s1\">&#39;pyqtgraph&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0.9.10&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;1&#39;</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">89</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">check_version</span>\n    <span class=\"n\">_reraise</span><span class=\"p\">(</span><span class=\"n\">exc_info</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">67</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">_reraise</span>\n    <span class=\"k\">exec</span><span class=\"p\">(</span><span class=\"s1\">&#39;raise type, value, traceback&#39;</span><span class=\"p\">,</span> <span class=\"nb\">globals</span><span class=\"p\">(),</span> <span class=\"nb\">locals</span><span class=\"p\">())</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27\\labscript_utils\\__init__.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">52</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">_get_version</span>\n    <span class=\"n\">module</span> <span class=\"o\">=</span> <span class=\"nb\">__import__</span><span class=\"p\">(</span><span class=\"n\">module_name</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27\\labscript_utils\\double_import_denier.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">38</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">load_module</span>\n    <span class=\"k\">return</span> <span class=\"n\">imp</span><span class=\"o\">.</span><span class=\"n\">load_module</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fp</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pathname</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\Anaconda3\\envs\\labscript_py27\\lib\\site-packages\\pyqtgraph\\__init__.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n    <span class=\"kn\">from</span> <span class=\"nn\">.Qt</span> <span class=\"kn\">import</span> <span class=\"n\">QtGui</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\labscript_suite\\labscript_py27\\labscript_utils\\double_import_denier.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">38</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"n\">load_module</span>\n    <span class=\"k\">return</span> <span class=\"n\">imp</span><span class=\"o\">.</span><span class=\"n\">load_module</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">fp</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">pathname</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">description</span><span class=\"p\">)</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;C:\\Anaconda3\\envs\\labscript_py27\\lib\\site-packages\\pyqtgraph\\Qt.py&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">32</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n    <span class=\"k\">raise</span> <span class=\"ne\">Exception</span><span class=\"p\">(</span><span class=\"s2\">&quot;PyQtGraph requires either PyQt4 or PySide; neither package could be imported.&quot;</span><span class=\"p\">)</span>\n<span class=\"ne\">Exception</span><span class=\"p\">:</span> <span class=\"n\">PyQtGraph</span> <span class=\"n\">requires</span> <span class=\"n\">either</span> <span class=\"n\">PyQt4</span> <span class=\"ow\">or</span> <span class=\"n\">PySide</span><span class=\"p\">;</span> <span class=\"n\">neither</span> <span class=\"n\">package</span> <span class=\"n\">could</span> <span class=\"n\">be</span> <span class=\"n\">imported</span><span class=\"o\">.</span>\n</pre></div>", "type": "rendered"}, "assignee": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "state": "invalid", "version": null, "edited_on": null, "created_on": "2018-04-30T04:29:38.092495+00:00", "milestone": null, "updated_on": "2018-04-30T07:50:18.895059+00:00", "type": "issue", "id": 18}