{"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/16/comments/46180173.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/16/_/diff#comment-46180173"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 16, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/16.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/16"}}, "title": "Channel configs"}, "content": {"raw": "I had a nasty bug where a bunch of exception windows were raised.\n\nI loaded shot A, ticked some channels, reordered the channels, and saved the channel config. I then closed runviewer.\n\nThen I opened runviewer, and loaded the saved channel configuration \\(no shots loaded into runviewer yet\\). I then loaded in shot B \\(that had entirely unique channels\\) and then loaded in shot C \\(which had entirely unique channels to both A and B \\). Then I displayed a couple of channels from shot B and C. All good so far. Then I loaded in shot A again, and enabled it. The exceptions I saw were:\n\n    Traceback (most recent call last):\r\n      File \"C:\\labscript_suite__venv_labscript27\\runviewer\\__main__.py\", line 564, in update_plots\r\n        for shot in self.plot_items[channel]:\r\n    KeyError: u'central_MOT_shutter'\n\nwhere `central_MOT_shutter` was the first channel in the list of channels \\(so was part of the saved channels from shot A\\) and was ticked.\n\nNot entirely sure what is causing this! There is now a plot for the channel that raised the exception, but the other plots from shot A are not visible \\(however those from shot B and C are\\).", "markup": "markdown", "html": "<p>I had a nasty bug where a bunch of exception windows were raised.</p>\n<p>I loaded shot A, ticked some channels, reordered the channels, and saved the channel config. I then closed runviewer.</p>\n<p>Then I opened runviewer, and loaded the saved channel configuration (no shots loaded into runviewer yet). I then loaded in shot B (that had entirely unique channels) and then loaded in shot C (which had entirely unique channels to both A and B ). Then I displayed a couple of channels from shot B and C. All good so far. Then I loaded in shot A again, and enabled it. The exceptions I saw were:</p>\n<div class=\"codehilite\"><pre><span></span>Traceback (most recent call last):\n  File &quot;C:\\labscript_suite__venv_labscript27\\runviewer\\__main__.py&quot;, line 564, in update_plots\n    for shot in self.plot_items[channel]:\nKeyError: u&#39;central_MOT_shutter&#39;\n</pre></div>\n\n\n<p>where <code>central_MOT_shutter</code> was the first channel in the list of channels (so was part of the saved channels from shot A) and was ticked.</p>\n<p>Not entirely sure what is causing this! There is now a plot for the channel that raised the exception, but the other plots from shot A are not visible (however those from shot B and C are).</p>", "type": "rendered"}, "created_on": "2017-10-01T23:27:20.272697+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2017-10-01T23:27:20.275129+00:00", "type": "pullrequest_comment", "id": 46180173}