{"pagelen": 50, "values": [{"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "097b8cd81290", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/097b8cd81290"}, "html": {"href": "#!/cbillington/runviewer/commits/097b8cd81290"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "MERGED", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-27T04:49:42.779454+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "097b8cd81290", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/097b8cd81290"}, "html": {"href": "#!/cbillington/runviewer/commits/097b8cd81290"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-27T04:49:41.273910+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"approval": {"date": "2018-03-23T08:44:11.960755+00:00", "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59684645.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59684645"}}, "parent": {"id": 59684402, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59684402.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59684402"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "No worries I learned a lot about c extensions along the way. \n\nTried the fix it works. I'll do some more testing in the lab later and the approve.", "markup": "markdown", "html": "<p>No worries I learned a lot about c extensions along the way. </p>\n<p>Tried the fix it works. I'll do some more testing in the lab later and the approve.</p>", "type": "rendered"}, "created_on": "2018-03-23T07:40:06.207848+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-23T07:40:06.272809+00:00", "type": "pullrequest_comment", "id": 59684645}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59684402.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59684402"}}, "parent": {"id": 59683957, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59683957.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59683957"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "I'm sorry about that - I was scratching my head wondering how you did it. Compilation on Windows has always been a pain point for me, so I decided to try and solve it (at least in the case of Cython extensions with no dependencies) hopefully once and for all with this autocython package. To be honest it doesn't do that much - the autocompiling and platform independence is nice but mostly I made it as documentation to myself about how to build Windows extensions.\n\nUnnecessary recompile should be fixed.", "markup": "markdown", "html": "<p>I'm sorry about that - I was scratching my head wondering how you did it. Compilation on Windows has always been a pain point for me, so I decided to try and solve it (at least in the case of Cython extensions with no dependencies) hopefully once and for all with this autocython package. To be honest it doesn't do that much - the autocompiling and platform independence is nice but mostly I made it as documentation to myself about how to build Windows extensions.</p>\n<p>Unnecessary recompile should be fixed.</p>", "type": "rendered"}, "created_on": "2018-03-23T07:37:00.409392+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-23T07:37:00.412335+00:00", "type": "pullrequest_comment", "id": 59684402}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "097b8cd81290", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/097b8cd81290"}, "html": {"href": "#!/cbillington/runviewer/commits/097b8cd81290"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-23T07:31:57.951656+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59683957.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59683957"}}, "parent": {"id": 59683645, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59683645.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59683645"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "Ok that makes sense I guess.\n\nIt took me ages to figure out how to get windows to compile the resampler for the python 3 changes.", "markup": "markdown", "html": "<p>Ok that makes sense I guess.</p>\n<p>It took me ages to figure out how to get windows to compile the resampler for the python 3 changes.</p>", "type": "rendered"}, "created_on": "2018-03-23T07:29:41.646639+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-23T07:29:41.701914+00:00", "type": "pullrequest_comment", "id": 59683957}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59683645.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59683645"}}, "parent": {"id": 59682044, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59682044.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59682044"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "Oh, silly me, autocython treats the extensions as out of date if setup.py changes...and I changed a comment in setup.py. I won't recompile the extensions, but I'll change the saved hashes (how it determines if the extensions are out of date) to reflect the new setup.py.\n\nIf compiling on windows were a matter of `conda install`ing a couple of packages, I'd be all for source-only repositories with compilation at first import. But not only are they not conda packages, the windows compiler for Python 3 is 5GB (the Python 2 one is a more respectable 80MB).", "markup": "markdown", "html": "<p>Oh, silly me, autocython treats the extensions as out of date if setup.py changes...and I changed a comment in setup.py. I won't recompile the extensions, but I'll change the saved hashes (how it determines if the extensions are out of date) to reflect the new setup.py.</p>\n<p>If compiling on windows were a matter of <code>conda install</code>ing a couple of packages, I'd be all for source-only repositories with compilation at first import. But not only are they not conda packages, the windows compiler for Python 3 is 5GB (the Python 2 one is a more respectable 80MB).</p>", "type": "rendered"}, "created_on": "2018-03-23T07:24:37.565676+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-23T07:24:37.569068+00:00", "type": "pullrequest_comment", "id": 59683645}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59682044.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59682044"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "Tested a bit on mac os. The resampler seems to work fine, however the first time I start runviewer the recompile is triggered with the words 'Extension\\(s\\) out of date, recompiling..'. Is this supposed to happen? Because then we wouldn't need to include any compiled binaries.", "markup": "markdown", "html": "<p>Tested a bit on mac os. The resampler seems to work fine, however the first time I start runviewer the recompile is triggered with the words 'Extension(s) out of date, recompiling..'. Is this supposed to happen? Because then we wouldn't need to include any compiled binaries.</p>", "type": "rendered"}, "created_on": "2018-03-23T06:58:58.424092+00:00", "user": {"display_name": "Jan Werkmann", "uuid": "{44c4905c-2b90-4045-a5f1-652b8e228626}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D"}, "html": {"href": "https://bitbucket.org/%7B44c4905c-2b90-4045-a5f1-652b8e228626%7D/"}, "avatar": {"href": "https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5/07e5095a-4741-4dc0-a462-9c7d455f961d/128"}}, "nickname": "PhyNerd", "type": "user", "account_id": "557058:a70cc9cf-684e-4849-a61a-9ade4d7218b5"}, "updated_on": "2018-03-23T06:58:58.480610+00:00", "type": "pullrequest_comment", "id": 59682044}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "1607195abc41", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/1607195abc41"}, "html": {"href": "#!/cbillington/runviewer/commits/1607195abc41"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-23T03:47:00.316726+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59674976.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59674976"}}, "parent": {"id": 59674926, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59674926.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59674926"}}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "Yes, I compared them line by line and they they were identical modulo the `len()` and `[-1]` replacements.", "markup": "markdown", "html": "<p>Yes, I compared them line by line and they they were identical modulo the <code>len()</code> and <code>[-1]</code> replacements.</p>", "type": "rendered"}, "created_on": "2018-03-23T03:46:33.230628+00:00", "user": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "updated_on": "2018-03-23T03:46:33.233610+00:00", "type": "pullrequest_comment", "id": 59674976}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"comment": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21/comments/59674926.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21/_/diff#comment-59674926"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}, "content": {"raw": "Have you verified that the `resample4` method from `__main__.py` actually matched the C extension we were using? There is a small possibility it wasn't kept up to date...", "markup": "markdown", "html": "<p>Have you verified that the <code>resample4</code> method from <code>__main__.py</code> actually matched the C extension we were using? There is a small possibility it wasn't kept up to date...</p>", "type": "rendered"}, "created_on": "2018-03-23T03:44:52.307499+00:00", "user": {"display_name": "Philip Starkey", "uuid": "{48af65db-e5fc-459c-a7eb-52eb1f9a5690}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D"}, "html": {"href": "https://bitbucket.org/%7B48af65db-e5fc-459c-a7eb-52eb1f9a5690%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecfd=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsPS-0.png"}}, "nickname": "pstarkey", "type": "user", "account_id": "557058:52a111e4-40da-4441-9143-417f95f2db97"}, "updated_on": "2018-03-23T03:44:52.310582+00:00", "type": "pullrequest_comment", "id": 59674926}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eeddeac7f691", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/eeddeac7f691"}, "html": {"href": "#!/cbillington/runviewer/commits/eeddeac7f691"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-23T03:20:52.900464+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}, {"update": {"description": "Ported `resample` extension to Cython for easier maintenance and uniformity with other extensions (i.e. rfblaster extensions). I split off the platform independence stuff into a separate project called [`autocython`](http://autocython.readthedocs.io/en/latest/) since I end up writing exactly the same code to do this any time I do anything with Cython. `autocython` keeps all the compiled extensions in the same directory with a platform-specific suffix (only on Python 2, since Python 3 names extension .so and .pyd files with its own platform-specific suffixes already). You can compile for a new platform either by running runviewer (the compile will happen at import), or by running `python -m autocython` in the extension directory. I'll use the same method to get the rfblaster code compiling for Python 2 and 3. This introduces a dependence on `autocython`, which I can add as a dependency to the labscript installer, and I've added a check to `runviewer.resample` prompting anyone updating to install `autocython` from pip.\r\n\r\nCommits:\r\n\r\n* Ported resample extension to Cython, and add run-time compilation attempt\r\n    for platforms that have not had the extension precompiled.\r\n\r\n    The port is a straight copy-paste of resample4 from `__main__.py` with replacements\r\n    of len() and [-1] with the known length N of the arrays and N - 1 respectively.\r\n\r\n    Compilation no longer has a numpy dendendency since Cython has its own arrays.\r\n\r\n    The Cython extension does not hold the GIL, whereas I believe the C extension did.\r\n\r\n* Use autocython for platform abstraction and auto compiling.\r\n\r\n* Compile for linux\r\n\r\n* Compile for Windows\r\n\r\n* Compile for mac", "title": "Port resample to Cython", "destination": {"commit": {"hash": "fee96c61935b", "type": "commit", "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/commit/fee96c61935b.json"}, "html": {"href": "#!/labscript_suite/runviewer/commits/fee96c61935b"}}}, "repository": {"links": {"self": {"href": "data/repositories/labscript_suite/runviewer.json"}, "html": {"href": "#!/labscript_suite/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{71215673-ad3e-425c-ae04-84cc6c2ca7da}ts=445022"}}, "type": "repository", "name": "runviewer", "full_name": "labscript_suite/runviewer", "uuid": "{71215673-ad3e-425c-ae04-84cc6c2ca7da}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "eeddeac7f691", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer/commit/eeddeac7f691"}, "html": {"href": "#!/cbillington/runviewer/commits/eeddeac7f691"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/cbillington/runviewer"}, "html": {"href": "#!/cbillington/runviewer"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3069dd3f-2a1f-409f-bebf-21e0965d6671}ts=python"}}, "type": "repository", "name": "runviewer", "full_name": "cbillington/runviewer", "uuid": "{3069dd3f-2a1f-409f-bebf-21e0965d6671}"}, "branch": {"name": "cython"}}, "state": "OPEN", "author": {"display_name": "Chris Billington", "uuid": "{e363c5a9-5075-4656-afb5-88bd6a6dceeb}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D"}, "html": {"href": "https://bitbucket.org/%7Be363c5a9-5075-4656-afb5-88bd6a6dceeb%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/9238baf7300c41c0e7294db922899e6ad=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsCB-1.png"}}, "nickname": "cbillington", "type": "user", "account_id": "557058:cbf1bc43-1dc2-477b-9e25-1a8f40fd7ee3"}, "date": "2018-03-23T03:20:52.854228+00:00"}, "pull_request": {"type": "pullrequest", "id": 21, "links": {"self": {"href": "data/repositories/labscript_suite/runviewer/pullrequests/21.json"}, "html": {"href": "#!/labscript_suite/runviewer/pull-requests/21"}}, "title": "Port resample to Cython"}}]}