{"rendered": {"message": {"raw": "Move ensure_connected_to_zlog and connect_to_zlock into ls_zprocess.\nHave Lock() ignore the read_only argument if the zlock server does not support\nit. This way callers may use the argument without having to check first.\nHave h5_lock pass the read_only keyword argument along, it will be ignored\nlater if it is not supported.\n\nThis was motivated by the runmanager sequence_id changes, which use a zlock Lock\nto serialise access to the file that stores the current sequence index. This\nway the runmanager code will work with old zlock servers.\n\nPatch version bump so the runmanager changes can rely on this.", "markup": "markdown", "html": "<p>Move ensure_connected_to_zlog and connect_to_zlock into ls_zprocess.<br />\nHave Lock() ignore the read_only argument if the zlock server does not support<br />\nit. This way callers may use the argument without having to check first.<br />\nHave h5_lock pass the read_only keyword argument along, it will be ignored<br />\nlater if it is not supported.</p>\n<p>This was motivated by the runmanager sequence_id changes, which use a zlock Lock<br />\nto serialise access to the file that stores the current sequence index. This<br />\nway the runmanager code will work with old zlock servers.</p>\n<p>Patch version bump so the runmanager changes can rely on this.</p>", "type": "rendered"}}, "hash": "7c1d4ca95a3ee142055724327dc4ce002f0fa77c", "repository": {"links": {"self": {"href": "data/repositories/rbchip/labscript_utils.json"}, "html": {"href": "#!/rbchip/labscript_utils"}, "avatar": {"href": "data/bytebucket.org/ravatar/{b751b730-de8b-4f57-85a7-d01935219340}ts=python"}}, "type": "repository", "name": "labscript_utils", "full_name": "rbchip/labscript_utils", "uuid": "{b751b730-de8b-4f57-85a7-d01935219340}"}, "links": {"self": {"href": "data/repositories/rbchip/labscript_utils/commit/7c1d4ca95a3ee142055724327dc4ce002f0fa77c.json"}, "comments": {"href": "data/repositories/rbchip/labscript_utils/commit/7c1d4ca95a3ee142055724327dc4ce002f0fa77c/comments_page=1.json"}, "patch": {"href": "https://api.bitbucket.org/2.0/repositories/rbchip/labscript_utils/patch/7c1d4ca95a3ee142055724327dc4ce002f0fa77c"}, "html": {"href": "#!/rbchip/labscript_utils/commits/7c1d4ca95a3ee142055724327dc4ce002f0fa77c"}, "diff": {"href": "https://api.bitbucket.org/2.0/repositories/rbchip/labscript_utils/diff/7c1d4ca95a3ee142055724327dc4ce002f0fa77c"}, "approve": {"href": "https://api.bitbucket.org/2.0/repositories/rbchip/labscript_utils/commit/7c1d4ca95a3ee142055724327dc4ce002f0fa77c/approve"}, "statuses": {"href": "data/repositories/rbchip/labscript_utils/commit/7c1d4ca95a3ee142055724327dc4ce002f0fa77c/statuses_page=1.json"}}, "author": {"raw": "chrisjbillington", "type": "author"}, "summary": {"raw": "Move ensure_connected_to_zlog and connect_to_zlock into ls_zprocess.\nHave Lock() ignore the read_only argument if the zlock server does not support\nit. This way callers may use the argument without having to check first.\nHave h5_lock pass the read_only keyword argument along, it will be ignored\nlater if it is not supported.\n\nThis was motivated by the runmanager sequence_id changes, which use a zlock Lock\nto serialise access to the file that stores the current sequence index. This\nway the runmanager code will work with old zlock servers.\n\nPatch version bump so the runmanager changes can rely on this.", "markup": "markdown", "html": "<p>Move ensure_connected_to_zlog and connect_to_zlock into ls_zprocess.<br />\nHave Lock() ignore the read_only argument if the zlock server does not support<br />\nit. This way callers may use the argument without having to check first.<br />\nHave h5_lock pass the read_only keyword argument along, it will be ignored<br />\nlater if it is not supported.</p>\n<p>This was motivated by the runmanager sequence_id changes, which use a zlock Lock<br />\nto serialise access to the file that stores the current sequence index. This<br />\nway the runmanager code will work with old zlock servers.</p>\n<p>Patch version bump so the runmanager changes can rely on this.</p>", "type": "rendered"}, "participants": [], "parents": [{"hash": "27ba4252bbfa395daa138809bb5c8a61979dd7c0", "type": "commit", "links": {"self": {"href": "data/repositories/rbchip/labscript_utils/commit/27ba4252bbfa395daa138809bb5c8a61979dd7c0.json"}, "html": {"href": "#!/rbchip/labscript_utils/commits/27ba4252bbfa395daa138809bb5c8a61979dd7c0"}}}], "date": "2019-03-15T18:18:56+00:00", "message": "Move ensure_connected_to_zlog and connect_to_zlock into ls_zprocess.\nHave Lock() ignore the read_only argument if the zlock server does not support\nit. This way callers may use the argument without having to check first.\nHave h5_lock pass the read_only keyword argument along, it will be ignored\nlater if it is not supported.\n\nThis was motivated by the runmanager sequence_id changes, which use a zlock Lock\nto serialise access to the file that stores the current sequence index. This\nway the runmanager code will work with old zlock servers.\n\nPatch version bump so the runmanager changes can rely on this.", "type": "commit", "git_hash": "527c7518d770c9c3126e36d49f84eac692408f50", "tags": null, "branches": "zlock_backcompat"}